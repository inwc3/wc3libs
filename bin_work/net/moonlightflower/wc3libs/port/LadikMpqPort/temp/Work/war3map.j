// this script was compiled with wurst 1.5.0.0-${git.revision}
globals
player w=null
integer u=0
trigger r=null
trigger s=null
trigger t=null
group i=null
integer array S
integer c=0
integer o=0
unit array O
integer array l
player b=null
unit array y
integer array p
real e=0.
real q=0.
integer a=0
integer n=0
integer d=0
integer f=0
rect R=null
rect T=null
rect Y=null
rect G=null
rect g=null
rect h=null
rect F=null
rect k=null
rect j=null
rect x=null
rect v=null
rect m=null
rect Q=null
rect W=null
rect E=null
rect Z=null
rect U=null
rect I=null
rect P=null
rect A=null
rect D=null
rect H=null
rect J=null
rect K=null
camerasetup L=null
camerasetup X=null
camerasetup C=null
camerasetup V=null
camerasetup B=null
camerasetup N=null
trigger M=null
trigger ww=null
trigger uw=null
trigger rw=null
trigger sw=null
trigger tw=null
trigger iw=null
trigger Sw=null
trigger cw=null
unit ow=null
unit Ow=null
unit lw=null
unit bw=null
unit yw=null
unit pw=null
unit ew=null
unit qw=null
unit aw=null
unit nw=null
unit dw=null
unit fw=null
unit Rw=null
unit Tw=null
unit Yw=null
unit Gw=null
unit gw=null
unit hw=null
unit Fw=null
unit kw=null
unit jw=null
unit xw=null
unit vw=null
unit mw=null
unit Qw=null
unit Ww=null
unit Ew=null
unit Zw=null
unit Uw=null
unit Iw=null
unit Pw=null
unit Aw=null
unit Dw=null
unit Hw=null
unit Jw=null
unit Kw=null
unit Lw=null
unit Xw=null
unit Cw=null
unit Vw=null
unit Bw=null
unit Nw=null
unit Mw=null
unit wu=null
unit uu=null
unit ru=null
unit su=null
unit tu=null
unit iu=null
unit Su=null
unit cu=null
unit ou=null
unit Ou=null
unit lu=null
unit bu=null
unit yu=null
unit pu=null
unit eu=null
unit qu=null
unit au=null
unit nu=null
unit du=null
unit fu=null
unit Ru=null
unit Tu=null
unit Yu=null
unit Gu=null
unit gu=null
unit hu=null
unit Fu=null
unit ku=null
unit ju=null
unit xu=null
unit vu=null
unit mu=null
unit Qu=null
unit Wu=null
unit Eu=null
unit Zu=null
unit Uu=null
unit Iu=null
unit Pu=null
unit Au=null
unit Du=null
unit Hu=null
unit Ju=null
unit Ku=null
unit Lu=null
unit Xu=null
unit Cu=null
unit Vu=null
unit Bu=null
unit Nu=null
unit Mu=null
unit wr=null
unit ur=null
unit rr=null
unit sr=null
unit tr=null
unit ir=null
unit Sr=null
unit cr=null
unit lr=null
unit br=null
integer yr=0
integer pr=0
integer array er
real array qr
filterfunc array ar
filterfunc array nr
filterfunc array dr
trigger array fr
player array Rr
real array Tr
real array Yr
real array Gr
integer array gr
integer array hr
integer array Fr
integer array kr
integer array jr
boolean array xr
integer vr=0
player mr=null
integer Qr=0
real Wr=0.
trigger Er=null
hashtable Zr=null
hashtable Ur=null
gamecache array Ir
timer Pr=null
timer Ar=null
integer Dr=0
integer array Hr
trigger array Jr
string array Kr
boolean array Lr
integer array Xr
integer array Cr
integer Vr=0
integer Br=0
integer Nr=0
integer array Mr
integer array ws
integer array us
integer array rs
real array ss
integer array ts
integer array is
integer array Ss
real array cs
real array os
code Os=null
real array ls
real array bs
real array ys
unit array ps
real array es
effect array qs
effect array as
boolean array ns
trigger array ds
integer array fs
integer Rs=0
integer Ts=0
integer array Ys
player Gs=null
integer array gs
integer array hs
integer array Fs
integer array ks
integer js=0
integer array xs
integer array vs
integer array ms
integer array Qs
integer array Ws
integer array Es
string array Zs
unit array Us
boolean array Is
integer array Ps
integer array As
integer array Ds
integer array Hs
integer array Js
trigger Ks=null
integer array Ls
integer array Xs
unit array Cs
boolean array Vs
real array Bs
real array Ns
real array Ms
real array wt
real array ut
real array rt
real array st
real array tt
integer array St
integer array ct
real array ot
integer Ot=0
unit array lt
integer array bt
real array yt
real array pt
real array et
real array qt
integer array at
integer array nt
integer array dt
integer ft=0
integer Rt=0
integer Tt=0
real array Yt
real array Gt
integer array gt
integer array ht
integer array Ft
integer array kt
real array jt
integer array xt
integer array vt
boolean array mt
integer Qt=0
integer Wt=0
integer Et=0
integer array Zt
integer array Ut
integer array It
real Pt=0.
real At=0.
integer array Dt
integer array Ht
integer array Jt
integer array Kt
integer array Lt
real array Xt
real array Ct
integer array Vt
integer array Bt
boolean array Nt
force Mt=null
real array wi
integer array ui
integer ri=0
conditionfunc si=null
timer array ti
real array ii
integer array Si
integer ci=0
integer oi=0
boolean Oi=false
integer li=0
integer bi=0
integer yi=0
integer pi=0
integer ei=0
integer qi=0
integer ai=0
integer ni=0
string array di
integer fi=0
integer array Ri
integer array Ti
integer array Yi
integer array Gi
integer array gi
real array hi
real array Fi
string array ki
integer ji=0
integer xi=0
integer vi=0
integer array mi
integer array Qi
real array Wi
integer array Ei
integer array Zi
integer array Ui
integer array Ii
integer array Pi
integer array Ai
integer Di=0
timer Hi=null
texttag array Ji
integer array Ki
integer array Li
integer array Xi
integer array Ci
integer array Vi
integer array Bi
integer array Ni
integer array Mi
real array wS
real array uS
real array rS
string array sS
real array tS
integer array iS
boolean array SS
real array cS
integer array oS
string array OS
string array lS
multiboard bS=null
integer yS=0
integer pS=0
integer eS=0
integer qS=0
integer aS=0
integer nS=0
integer dS=0
integer fS=0
integer array RS
integer array TS
boolean array YS
integer array GS
timer gS=null
trigger array hS
unit array FS
unit array kS
real array jS
real array xS
real array vS
real array mS
boolean array QS
boolean array WS
integer ES=0
integer ZS=0
integer US=0
integer array IS
integer array PS
integer array AS
unit array DS
integer array HS
boolean array JS
boolean array KS
integer array LS
real XS=0.
integer array CS
integer array VS
integer array BS
timer NS=null
unit array MS
real array wc
integer array uc
integer rc=0
integer sc=0
integer array tc
integer array ic
integer array Sc
integer array cc
integer array oc
integer array Oc
integer array lc
integer array bc
integer array yc
integer array pc
integer array ec
integer array qc
integer array ac
integer array nc
integer array dc
integer array fc
string array Rc
integer array Tc
real array Yc
integer array Gc
integer gc=0
integer hc=0
real Fc=0.
real kc=0.
real jc=0.
real array xc
real array vc
real array mc
real array Qc
real array Wc
real array Ec
real array Zc
real array Uc
player array Ic
boolean array Pc
boolean array Ac
boolean array Dc
integer array Hc
integer Jc=0
integer Kc=0
integer Lc=0
integer Xc=0
integer Cc=0
integer Vc=0
integer array Bc
integer array Nc
boolean array Mc
integer array wo
unit array uo
hashtable ro=null
integer so=0
integer io=0
integer So=0
integer array co
real array oo
real array Oo
integer array lo
integer array bo
real array yo
integer array po
integer array eo
integer array qo
trigger array ao
unit array no
integer do=0
boolean array fo
effect array Ro
real array To
real array Yo
real array Go
integer array go
real array ho
integer array Fo
integer array ko
integer array jo
integer array xo
trigger array vo
unit array mo
integer Qo=0
integer Wo=0
real Eo=0.
real Zo=0.
trigger Uo=null
trigger Io=null
integer array Po
boolean array Ao
boolean array Do
boolean array Ho
boolean array Jo
boolean array Ko
integer array Lo
effect array Xo
effect array Co
real array Vo
real array Bo
real array No
real array Mo
real array wO
real array uO
integer array rO
effect array sO
boolean array tO
boolean array iO
boolean array SO
unit array cO
integer array oO
integer array OO
integer array lO
integer array bO
integer array yO
integer array pO
boolean array eO
real array qO
real array aO
integer array nO
integer array dO
integer fO=0
integer RO=0
integer TO=0
trigger YO=null
trigger GO=null
trigger gO=null
integer array hO
integer FO=0
integer array kO
integer array jO
integer array xO
integer array vO
trigger mO=null
trigger QO=null
boolean array WO
boolean array EO
rect array ZO
region array UO
integer array IO
integer array PO
boolean array AO
integer array DO
integer array HO
integer array JO
integer array KO
unit array LO
integer array XO
string array CO
boolean array VO
destructable array BO
integer array NO
integer MO=0
integer wl=0
integer ul=0
integer rl=0
integer array sl
integer array tl
integer array il
integer array Sl
integer array cl
integer array ol
real array Ol
integer array ll
integer array bl
real array yl
string array pl
integer array el
string array ql
string array al
string array nl
integer array dl
integer array fl
integer array Rl
string array Tl
integer array Yl
boolean Gl=false
boolean array gl
integer array hl
integer array Fl
integer array kl
boolean array jl
unit array xl
effect array vl
string array ml
integer array Ql
integer array Wl
integer array El
integer array Zl
string array Ul
string array Il
integer array Pl
string array Al
player Dl=null
timer Hl=null
real Jl=0.
group Kl=null
integer array Ll
unit Xl=null
integer Cl=0
unit array Vl
item array Bl
integer array Nl
integer array Ml
integer array wb
integer array ub
integer array rb
integer array sb
integer array tb
integer array ib
integer array Sb
string array cb
integer array ob
integer array Ob
integer array lb
integer array bb
integer yb=0
integer pb=0
integer eb=0
integer array qb
integer array ab
integer array nb
integer array db
integer fb=0
integer Rb=0
integer array Tb
integer array Yb
timer array Gb
boolean array gb
integer array hb
player array Fb
integer array kb
integer array jb
string array xb
real array vb
string array mb
integer Qb=0
image array Wb
integer array Eb
integer array Zb
integer array Ub
integer array Ib
integer array Pb
integer array Ab
boolean array Db
boolean array Hb
boolean array Jb
boolean array Kb
integer array Lb
integer array Xb
integer array Cb
boolean array Vb
boolean array Bb
effect array Nb
integer array Mb
integer array wy
integer array uy
integer ry=0
integer sy=0
integer ty=0
integer iy=0
integer array Sy
integer array cy
integer array oy
integer Oy=0
integer ly=0
integer array by
integer array yy
integer array py
integer array ey
integer array qy
integer array ay
integer array ny
integer array dy
integer array fy
integer array Ry
integer array Ty
integer array Yy
integer array Gy
integer array gy
integer array hy
integer array Fy
integer array ky
integer array jy
integer array xy
integer array vy
integer array my
integer array Qy
integer array Wy
string array Ey
string array Zy
integer array Uy
integer array Iy
integer array Py
integer array Ay
integer array Dy
integer array Hy
integer array Jy
integer array Ky
integer array Ly
integer array Xy
integer array Cy
integer array Vy
integer array By
integer array Ny
integer array My
integer array wp
texttag array up
rect rp=null
rect sp=null
region tp=null
real ip=0.
real Sp=0.
real cp=0.
real op=0.
real Op=0.
real lp=0.
integer array bp
effect array yp
integer array pp
integer array ep
integer array qp
integer array ap
integer array np
real array dp
real array fp
real array Rp
real array Tp
integer array Yp
integer array Gp
integer gp=0
multiboard array hp
hashtable array Fp
integer kp=0
integer jp=0
integer xp=0
integer vp=0
integer array mp
integer array Qp
integer array Wp
integer array Ep
trigger Zp=null
unit Up=null
group array Ip
integer Pp=0
integer Ap=0
integer Dp=0
integer Hp=0
integer Jp=0
integer Kp=0
integer Lp=0
integer Xp=0
integer Cp=0
integer Vp=0
integer Bp=0
integer Np=0
integer Mp=0
integer we=0
integer array ue
integer array re
integer array se
integer array te
integer array ie
integer array Se
integer array ce
integer array oe
integer array Oe
integer array le
integer array be
integer array ye
integer array pe
integer array ee
integer array qe
integer array ae
integer array ne
integer array de
integer array fe
integer array Re
integer array Te
integer array Ye
integer array Ge
integer array ge
integer array he
integer array Fe
integer array ke
texttag array je
integer array xe
integer array ve
integer array me
integer array Qe
integer array We
real Ee=0.
real Ze=0.
real Ue=0.
boolean array Ie
real array Pe
real array Ae
real array De
real array He
integer array Je
real Ke=0.
real Le=0.
real Xe=0.
real Ce=0.
real Ve=0.
integer Be=0
integer Ne=0
integer Me=0
integer array wq
texttag array uq
string array rq
unit array sq
integer array tq
integer iq=0
integer Sq=0
integer cq=0
integer array oq
integer array Oq
integer array lq
integer array bq
trigger yq=null
integer pq=0
integer array eq
integer qq=0
integer aq=0
integer nq=0
integer dq=0
integer fq=0
integer Rq=0
player array Tq
integer array Yq
string array Gq
string array gq
string array hq
string array Fq
string array kq
integer array jq
integer array xq
integer array vq
integer array mq
integer array Qq
effect array Wq
effect array Eq
boolean array Zq
boolean array Uq
integer array Iq
integer array Pq
real array Aq
integer array Dq
integer array Hq
integer array Jq
integer array Kq
integer array Lq
string array Xq
string array Cq
string array Vq
player array Bq
string Nq=null
integer array Mq
real array wa
real array ua
boolean array ra
integer array sa
integer ta=0
integer ia=0
integer array Sa
integer array ca
integer array oa
integer array Oa
integer array la
lightning array ba
integer array ya
integer array pa
integer array ea
unit qa=null
real array aa
integer na=0
real array da
real array fa
real array Ra
real array Ta
boolean array Ya
boolean array Ga
real array ga
real array ha
real array Fa
integer ka=0
integer array ja
integer array xa
fogmodifier array va
fogstate array ma
boolean array Qa
rect array Wa
player array Ea
integer Za=0
integer array Ua
integer array Ia
integer array Pa
rect array Aa
real array Da
real array Ha
real array Ja
real array Ka
real array La
real array Xa
real array Ca
boolean array Va
integer array Ba
boolean array Na
boolean array Ma
integer array wn
trigger array un
integer rn=0
integer array sn
real array tn
unit array Sn
real array cn
real array on
integer On=0
integer ln=0
boolean array bn
integer array yn
string array pn
integer array en
boolean array qn
timer array an
integer nn=0
integer dn=0
integer fn=0
integer array Rn
integer array Tn
integer Yn=0
real array Gn
real array gn
real array hn
unit array Fn
integer array kn
integer array jn
integer array xn
unit array vn
trigger array mn
real array Qn
real array Wn
real array En
real array Zn
integer array Un
integer array In
integer Pn=0
triggercondition An=null
integer array Dn
integer array Hn
string array Jn
integer array Kn
boolean array Ln
boolean array Xn
boolean array Cn
integer array Vn
integer array Bn
string array Nn
real array Mn
real array wd
real array ud
sound array rd
integer array sd
unit array td
player array id
integer array Sd
integer cd=0
real array od
real array Od
real array ld
integer array bd
integer array yd
integer array pd
real array ed
real array qd
integer array ad
integer array nd
integer array dd
integer array fd
integer array Rd
integer array Td
real Yd=0.
real Gd=0.
real gd=0.
real hd=0.
real Fd=0.
boolexpr kd=null
boolean array jd
integer array xd
integer array vd
integer md=0
integer Qd=0
string array Wd
integer array Ed
integer array Zd
integer Ud=0
integer Id=0
string array Pd
integer array Ad
integer array Dd
string array Hd
integer array Jd
integer array Kd
integer array Ld
integer array Xd
integer array Cd
integer array Vd
integer array Bd
integer array Nd
integer array Md
integer array wf
integer array uf
player array rf
string array sf
filterfunc array tf
integer array Sf
integer array cf
integer array of
integer array Of
hashtable lf=null
integer array bf
hashtable yf=null
integer array pf
integer array ef
boolean array qf
integer array af
integer array nf
integer array df
integer array ff
integer array Rf
integer array Tf
integer array Yf
integer array Gf
integer gf=0
integer hf=0
integer Ff=0
integer kf=0
integer jf=0
integer xf=0
integer vf=0
integer mf=0
integer array Qf
integer array Wf
integer array Ef
integer array Zf
integer array Uf
integer array If
location Pf=null
item Af=null
texttag array Df
real array Hf
string array Jf
texttag array Kf
real array Lf
boolean array Xf
integer array Cf
integer array Vf
integer array Bf
integer array Nf
integer array Mf
real array wR
real array uR
effect array rR
player array sR
integer array tR
timer array iR
integer SR=0
integer cR=0
trigger oR=null
integer OR=0
integer array lR
unit array bR
integer array yR
integer array pR
integer array eR
integer array qR
real array aR
real array nR
integer array dR
string array fR
integer array RR
real array TR
real array YR
integer array GR
real array gR
real array hR
boolean array FR
integer array kR
integer array jR
integer array xR
destructable array vR
integer mR=0
integer array QR
integer WR=0
integer ER=0
real array ZR
real array UR
integer array IR
integer array PR
real AR=0.
real DR=0.
real HR=0.
real JR=0.
real KR=0.
real LR=0.
real XR=0.
real CR=0.
real VR=0.
real BR=0.
real NR=0.
real MR=0.
real wT=0.
real uT=0.
integer rT=0
integer sT=0
integer tT=0
real array iT
integer array ST
integer array cT
integer array oT
integer array OT
real array lT
real array bT
real array yT
boolean array pT
integer array eT
boolean array qT
integer array aT
integer array nT
integer array dT
string array fT
integer array RT
integer array TT
integer array YT
integer array GT
integer array gT
integer array hT
integer array FT
integer array kT
integer array jT
integer xT=0
integer vT=0
integer array mT
integer array QT
integer WT=0
integer ET=0
integer array ZT
integer array UT
integer IT=0
integer PT=0
integer array AT
integer array DT
integer HT=0
integer JT=0
integer array KT
integer array LT
integer XT=0
integer CT=0
integer array VT
integer array BT
integer NT=0
integer MT=0
integer array wY
integer array uY
integer rY=0
integer sY=0
integer array tY
integer array iY
integer SY=0
integer cY=0
integer array oY
integer array OY
integer lY=0
integer bY=0
integer array yY
integer array pY
integer eY=0
integer qY=0
integer array aY
integer nY=0
integer dY=0
integer array fY
integer array RY
integer TY=0
integer YY=0
integer array GY
integer gY=0
integer hY=0
integer array FY
integer array kY
integer jY=0
integer xY=0
integer array vY
integer array mY
integer QY=0
integer WY=0
integer array EY
integer array ZY
integer UY=0
integer IY=0
integer array PY
integer AY=0
integer DY=0
integer array HY
integer array JY
integer KY=0
integer LY=0
integer array XY
integer array CY
integer VY=0
integer BY=0
integer array NY
integer array MY
integer wG=0
integer uG=0
integer array rG
integer array sG
integer tG=0
integer iG=0
integer array SG
integer cG=0
integer oG=0
integer array OG
integer array lG
integer bG=0
integer yG=0
integer array pG
integer array eG
integer qG=0
integer aG=0
integer array nG
integer array dG
integer fG=0
integer RG=0
integer array TG
integer YG=0
integer GG=0
integer array gG
integer hG=0
integer FG=0
integer array kG
integer array jG
integer xG=0
integer vG=0
integer array mG
integer array QG
integer WG=0
integer EG=0
integer array ZG
integer array UG
integer IG=0
integer PG=0
integer array AG
integer array DG
integer HG=0
integer JG=0
integer array KG
integer LG=0
integer XG=0
integer array CG
integer array VG
integer BG=0
integer NG=0
integer array MG
integer wg=0
integer ug=0
integer array rg
integer array sg
integer tg=0
integer ig=0
integer array Sg
integer array cg
integer og=0
integer Og=0
integer array lg
integer array bg
integer yg=0
integer pg=0
integer array eg
integer array qg
integer ag=0
integer ng=0
integer array dg
integer array fg
integer Rg=0
integer Tg=0
integer array Yg
integer Gg=0
integer gg=0
integer hg=0
integer Fg=0
integer array kg
integer jg=0
integer xg=0
integer array vg
integer array mg
integer Qg=0
integer Wg=0
integer array Eg
integer Zg=0
integer Ug=0
integer array Ig
integer array Pg
integer Ag=0
integer Dg=0
integer array Hg
integer array Jg
integer Kg=0
integer Lg=0
integer array Xg
integer array Cg
integer Vg=0
integer Bg=0
integer array Ng
integer array Mg
integer wh=0
integer uh=0
integer array rh
integer sh=0
integer th=0
integer array ih
integer Sh=0
integer ch=0
integer array oh
integer array Oh
integer lh=0
integer bh=0
integer yh=0
integer array ph
integer eh=0
integer array qh
integer array ah
integer nh=0
integer dh=0
integer array fh
integer Rh=0
integer Th=0
integer array Yh
integer array Gh
integer gh=0
integer hh=0
integer array Fh
integer array kh
integer jh=0
integer xh=0
integer array vh
integer array mh
integer Qh=0
integer Wh=0
integer array Eh
integer array Zh
integer Uh=0
integer Ih=0
integer array Ph
integer array Ah
integer Dh=0
integer Hh=0
integer array Jh
integer array Kh
integer Lh=0
integer Xh=0
integer array Ch
integer array Vh
integer Bh=0
integer Nh=0
integer array Mh
string array wF
string array uF
string array rF
string array sF
string array tF
string array iF
string array SF
string array cF
string array oF
string array OF
unit array lF
unit array bF
unit array yF
unit array pF
unit array eF
unit array qF
integer array aF
integer array nF
integer array dF
integer array fF
integer array RF
integer array TF
integer array YF
integer array GF
integer array gF
integer array hF
integer array FF
integer array kF
integer array jF
integer array xF
integer array vF
integer array mF
integer array QF
integer array WF
integer array EF
integer array ZF
integer array UF
integer array IF
real PF=0.
real AF=0.
real DF=0.
integer HF=0
integer JF=0
integer KF=0
integer LF=0
integer XF=0
integer CF=0
integer VF=0
integer BF=0
integer NF=0
integer MF=0
real wk=0.
real uk=0.
real rk=0.
real sk=0.
real tk=0.
integer ik=0
integer Sk=0
integer ck=0
integer ok=0
real Ok=0.
real lk=0.
real bk=0.
real yk=0.
real pk=0.
real ek=0.
real qk=0.
real ak=0.
real nk=0.
real dk=0.
real fk=0.
real Rk=0.
real Tk=0.
real Yk=0.
real Gk=0.
real gk=0.
real hk=0.
real Fk=0.
real kk=0.
real jk=0.
real xk=0.
real vk=0.
real mk=0.
real Qk=0.
real Wk=0.
real Ek=0.
real Zk=0.
integer Uk=0
integer Ik=0
integer Pk=0
integer Ak=0
real Dk=0.
real Hk=0.
real Jk=0.
real Kk=0.
real Lk=0.
code Xk=null
code Ck=null
code Vk=null
code Bk=null
code Nk=null
code Mk=null
code wj=null
code uj=null
code rj=null
code sj=null
code tj=null
code ij=null
code Sj=null
code cj=null
code oj=null
code Oj=null
code lj=null
code bj=null
code yj=null
code pj=null
code ej=null
code qj=null
code aj=null
code nj=null
code dj=null
code fj=null
code Rj=null
code Tj=null
code Yj=null
code Gj=null
code gj=null
code hj=null
code Fj=null
code kj=null
code jj=null
code xj=null
code vj=null
code mj=null
code Qj=null
code Wj=null
code Ej=null
code Zj=null
code Uj=null
code Ij=null
code Pj=null
code Aj=null
code Dj=null
code Hj=null
code Jj=null
code Kj=null
code Lj=null
code Xj=null
code Cj=null
code Vj=null
code Bj=null
code Nj=null
code Mj=null
code wx=null
code ux=null
code rx=null
code sx=null
code tx=null
code ix=null
code Sx=null
code cx=null
code ox=null
code Ox=null
code lx=null
code bx=null
code yx=null
code px=null
code ex=null
code qx=null
code ax=null
code nx=null
code dx=null
code fx=null
code Rx=null
code Tx=null
code Yx=null
code Gx=null
code gx=null
code hx=null
code Fx=null
code kx=null
code jx=null
code xx=null
code vx=null
code mx=null
code Qx=null
code Wx=null
code Ex=null
code Zx=null
code Ux=null
code Ix=null
code Px=null
code Ax=null
code Dx=null
code Hx=null
code Jx=null
code Kx=null
code Lx=null
code Xx=null
code Cx=null
code Vx=null
code Bx=null
code Nx=null
code Mx=null
code wv=null
code uv=null
code rv=null
code sv=null
code tv=null
code iv=null
code Sv=null
code cv=null
code ov=null
code Ov=null
code lv=null
code bv=null
code yv=null
code pv=null
code ev=null
code qv=null
code av=null
code nv=null
code dv=null
code fv=null
code Rv=null
code Tv=null
code Yv=null
code Gv=null
code gv=null
code hv=null
code Fv=null
code kv=null
code jv=null
code xv=null
code vv=null
code mv=null
code Qv=null
code Wv=null
code Ev=null
code Zv=null
code Uv=null
code Iv=null
code Pv=null
code Av=null
code Dv=null
code Hv=null
code Jv=null
code Kv=null
code Lv=null
code Xv=null
code Cv=null
code Vv=null
code Bv=null
code Nv=null
code Mv=null
code wm=null
code um=null
code rm=null
code sm=null
code tm=null
code im=null
code Sm=null
code cm=null
code om=null
code Om=null
code lm=null
code bm=null
code ym=null
code pm=null
code em=null
code qm=null
code am=null
code nm=null
code dm=null
code fm=null
code Rm=null
code Tm=null
code Ym=null
code Gm=null
code gm=null
code hm=null
code Fm=null
code km=null
code jm=null
code xm=null
code vm=null
code mm=null
code Qm=null
code Wm=null
code Em=null
code Zm=null
code Um=null
code Im=null
code Pm=null
code Am=null
code Dm=null
code Hm=null
code Jm=null
code Km=null
code Lm=null
code Xm=null
code Cm=null
code Vm=null
code Bm=null
code Nm=null
code Mm=null
code wQ=null
code uQ=null
code rQ=null
code sQ=null
code tQ=null
code iQ=null
code SQ=null
code cQ=null
code oQ=null
code OQ=null
code lQ=null
code bQ=null
code yQ=null
code pQ=null
code eQ=null
code qQ=null
code aQ=null
unit nQ=null
unit dQ=null
unit fQ=null
texttag RQ=null
texttag TQ=null
texttag YQ=null
texttag GQ=null
timer gQ=null
unit hQ=null
unit FQ=null
endglobals
native UnitAlive takes unit id_2 returns boolean
function bW takes string SW,integer cW returns string
local string oW=""
local integer OW=StringLength(SW)
local integer lW
if cW<OW then
return SubString(SW,cW,cW+1)
endif
loop
exitwhen cW<=0
set lW=cW-cW/OW*OW
set oW=SubString(SW,lW,lW+1)+oW
set cW=cW/OW
endloop
return oW
endfunction
function TW takes integer fW returns string
local string RW
if HaveSavedString(Zr,f,fW) then
return LoadStr(Zr,f,fW)
endif
set RW=bW(" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`{|}~",fW)
call SaveStr(Zr,f,fW,RW)
return RW
endfunction
function dW takes boolean nW returns integer
if nW then
return 1
endif
return 0
endfunction
function iW takes string wW,string uW returns integer
local integer rW=0
local integer tW=StringLength(wW)
local string sW
loop
set sW=SubString(wW,rW,rW+1)
exitwhen rW==tW
if sW==uW then
return rW
endif
set rW=rW+1
endloop
return 0
endfunction
function v0w takes integer x0w returns string
if x0w==0 then
return "|cffADADADtrace|r"
elseif x0w==1 then
return "|cff2685DCdebug|r"
elseif x0w==2 then
return "|cffFFCC00info|r"
elseif x0w==3 then
return "|cffF47E3Ewarning|r"
elseif x0w==4 then
return "|cffFB2700error|r"
endif
return "?"
endfunction
function E0w takes integer m0w,string Q0w returns nothing
local player W0w=GetLocalPlayer()
if na<=m0w then
call DisplayTimedTextToPlayer(W0w,0.,0.,45.,v0w(m0w)+" - "+Q0w)
endif
set W0w=null
endfunction
function tX takes string rX returns nothing
local integer sX=StringHash(rX)
if HaveSavedInteger(ro,-1,sX) then
if LoadInteger(ro,-1,sX)+60<Jl then
call E0w(4,rX+"")
call SaveInteger(ro,-1,sX,R2I(Jl))
call SaveBoolean(ro,-1,sX,false)
elseif HaveSavedBoolean(ro,-1,sX) then
if not LoadBoolean(ro,-1,sX) then
call E0w(4,"|cffFF3A29Excessive repeating errors are being omitted")
call SaveBoolean(ro,-1,sX,true)
endif
else
call E0w(4,"|cffFF3A29Excessive repeating errors are being omitted")
call SaveBoolean(ro,-1,sX,true)
endif
else
call SaveInteger(ro,-1,sX,R2I(Jl))
call E0w(4,"|cffFF3A29Error:|r "+rX+"")
endif
call I2S(1/0)
endfunction
function IN takes integer ZN returns nothing
local integer UN
if ZN>0 and jO[ZN]!=0 then
call E0w(0,"unregister unit has listeners. startid: "+I2S(ZN))
set UN=jO[ZN]
set jO[ZN]=0
loop
exitwhen UN==0
set ZN=UN
set UN=vO[UN]
set vO[ZN]=0
if KT[ZN]==0 then
call tX("Double free: object of type EventListener")
else
set DT[HT]=ZN
set HT=HT+1
set KT[ZN]=0
endif
endloop
endif
endfunction
function AN takes nothing returns nothing
call IN(GetUnitUserData(Up))
endfunction
function Aow takes nothing returns boolean
return true
endfunction
function MTw takes integer VTw,integer BTw,integer NTw returns nothing
call SaveInteger(lf,VTw,BTw,NTw)
endfunction
function Hcw takes nothing returns timer
local timer Dcw
if SR>0 then
set SR=SR-1
call MTw(cR,GetHandleId(iR[SR]),0)
set Dcw=null
return iR[SR]
else
set Dcw=CreateTimer()
call MTw(cR,GetHandleId(Dcw),0)
set gQ=Dcw
set Dcw=null
return gQ
endif
endfunction
function i7 takes integer u7 returns string
local string r7=""
local integer s7
local integer t7
set u7=u7
set s7=0
loop
exitwhen s7>3
set t7=ModuloInteger(u7,256)
set u7=u7/256
set r7=SubString(".................................!.#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[.]^_`abcdefghijklmnopqrstuvwxyz{|}~.................................................................................................................................",t7,t7+1)+r7
set s7=s7+1
endloop
return r7
endfunction
function n0w takes integer a0w returns nothing
call UnitAddAbility(qa,a0w)
if qa==null then
call tX("Do not load abilities after map init when autoFinish = true")
elseif GetUnitAbilityLevel(qa,a0w)==0 then
call E0w(0,"PreloadAbility: Ability "+i7(a0w)+" does not exist.")
endif
endfunction
function M6 takes integer B6 returns integer
local integer N6
if mp[B6]<126 then
set mp[B6]=mp[B6]+1
loop
set N6=mp[B6]
exitwhen not(N6==95 or(N6>64 and N6<91))
set mp[B6]=mp[B6]+1
endloop
elseif Qp[B6]<126 then
set mp[B6]=33
set Qp[B6]=Qp[B6]+1
loop
set N6=Qp[B6]
exitwhen not(N6==95 or(N6>64 and N6<91))
set Qp[B6]=Qp[B6]+1
endloop
elseif Wp[B6]<126 then
set mp[B6]=33
set Qp[B6]=33
set Wp[B6]=Wp[B6]+1
loop
set N6=Wp[B6]
exitwhen not(N6==95 or(N6>64 and N6<91))
set Wp[B6]=Wp[B6]+1
endloop
elseif Ep[B6]<126 then
set mp[B6]=33
set Qp[B6]=33
set Wp[B6]=33
set Ep[B6]=Ep[B6]+1
loop
set N6=Ep[B6]
exitwhen not(N6==95 or(N6>64 and N6<91))
set Ep[B6]=Ep[B6]+1
endloop
else
call tX("No vaild id left")
return 0
endif
set B6=mp[B6]+Qp[B6]*256+Wp[B6]*65536+Ep[B6]*16777216
call n0w(B6)
return B6
endfunction
function B3 takes nothing returns boolean
local integer C3
local integer V3
set Vr=M6(jp)
set C3=M6(jp)
set V3=M6(xp)
set Br=C3
set Nr=V3
set ry=M6(jp)
set sy=M6(jp)
set ty=M6(jp)
set iy=M6(jp)
set nn=M6(jp)
set dn=M6(jp)
set MO=M6(jp)
set wl=M6(jp)
set ul=M6(jp)
set rl=M6(jp)
set WR=M6(jp)
set ER=M6(jp)
set nS=M6(jp)
set dS=M6(jp)
set fS=M6(jp)
set Rs=M6(jp)
set Ts=M6(vp)
set gf=M6(jp)
set hf=M6(jp)
set Ff=M6(jp)
set kf=M6(jp)
set jf=M6(jp)
set xf=M6(jp)
set vf=M6(jp)
set mf=M6(jp)
set rT=M6(jp)
set sT=M6(jp)
set tT=M6(jp)
set ta=M6(jp)
set ia=M6(jp)
set ji=M6(jp)
set xi=M6(jp)
call M6(jp)
set vi=M6(jp)
set Ap=M6(kp)
set Dp=M6(jp)
set Hp=M6(jp)
set Lp=M6(jp)
set Xp=M6(jp)
set Cp=M6(jp)
set Vp=M6(jp)
set Bp=M6(jp)
set Np=M6(jp)
set Mp=M6(jp)
set we=M6(jp)
set Kp=M6(jp)
set Jp=M6(jp)
set so=M6(jp)
set io=M6(jp)
set So=M6(jp)
set Be=M6(jp)
set Ne=M6(jp)
set Me=M6(jp)
set ft=M6(jp)
set cd=M6(kp)
call TimerStart(Hcw(),0.030,true,bm)
call TimerStart(Hcw(),0.25,true,ym)
call TimerStart(Hcw(),1.0,true,pm)
call TriggerAddAction(Zp,em)
call TimerStart(Hcw(),0.01,false,qm)
return true
endfunction
function pTw takes integer bTw,real yTw returns nothing
if Un[bTw]==0 then
call tX("Must play sound before setting pitch")
endif
if not GetSoundIsPlaying(rd[Un[bTw]]) then
if yTw==1. then
call SetSoundPitch(rd[Un[bTw]],1.0001)
else
call SetSoundPitch(rd[Un[bTw]],yTw)
endif
else
call SetSoundPitch(rd[Un[bTw]],1./Wn[bTw])
call SetSoundPitch(rd[Un[bTw]],yTw)
endif
set Wn[bTw]=yTw
endfunction
function Buw takes nothing returns boolean
local integer Xuw=Pn-1
local integer Cuw
local real Vuw
loop
exitwhen Xuw<0
set Cuw=In[Xuw]
if Un[Cuw]!=0 then
set Vuw=En[Cuw]
call pTw(Cuw,Wn[Cuw]*(1.0-Vuw)+Qn[Cuw]*Vuw)
set Zn[Cuw]=Zn[Cuw]-0.030
if (not GetSoundIsPlaying(rd[Un[Cuw]]))and Zn[Cuw]<=0. then
set Dn[Cuw]=3
endif
endif
if Dn[Cuw]!=0 then
set Pn=Pn-1
set In[Xuw]=In[Pn]
if Dn[Cuw]==3 then
set Dn[Cuw]=1
call pTw(Cuw,1.)
call StopSound(rd[Un[Cuw]],false,false)
call pTw(Cuw,1.)
if Dn[Cuw]!=1 then
set Dn[Cuw]=2
call E0w(3,"Destroyed Instance using TimedLoop before stopping the Loop")
endif
if qh[Cuw]==0 then
call tX("Double free: object of type DynamicSound")
else
set eh=eh+1
set qh[Cuw]=0
endif
else
set Dn[Cuw]=1
endif
endif
set Xuw=Xuw-1
endloop
if Pn==0 then
call TriggerRemoveCondition(oR,An)
set An=null
set OR=OR-1
endif
return false
endfunction
function CH takes nothing returns boolean
return true
endfunction
function Jdw takes integer Hdw returns nothing
if Sg[Hdw]==0 then
call tX("Double free: object of type LLEntry")
else
set sg[tg]=Hdw
set tg=tg+1
set Sg[Hdw]=0
endif
endfunction
function t6 takes integer r6 returns integer
local integer s6
if Vy[r6]!=Cy[r6]then
set wp[By[r6]]=wp[By[r6]]-1
set Hy[Jy[Vy[r6]]]=Hy[Vy[r6]]
set Jy[Hy[Vy[r6]]]=Jy[Vy[r6]]
set s6=Vy[r6]
set Vy[r6]=Hy[Vy[r6]]
call Jdw(s6)
return Dy[s6]
endif
return 0
endfunction
function tfw takes integer rfw returns integer
local integer sfw=My[rfw]
set Cy[sfw]=Ny[By[sfw]]
set Vy[sfw]=Cy[sfw]
return My[rfw]
endfunction
function qP takes integer bP returns nothing
local integer yP
local integer pP
local boolean eP
if kt[bP]!=0 and(not Ac[kt[bP]]) then
set eP=Ft[kt[bP]]!=0
else
set eP=false
endif
if eP then
set pP=kt[bP]
set yP=ZT[bP]
if Ft[pP]!=0 then
set pP=tfw(Ft[pP])
loop
exitwhen Jy[Vy[pP]]==Cy[pP]
set Vy[pP]=Jy[Vy[pP]]
if ZT[Dy[Vy[pP]]]==yP then
call t6(pP)
endif
endloop
endif
call UnitRemoveAbility(uo[kt[bP]],xt[bP])
call UnitRemoveAbility(uo[kt[bP]],vt[bP])
endif
set Et=Et-1
if bP!=Qt then
set Ut[Zt[bP]]=Ut[bP]
else
set Qt=Ut[bP]
endif
if bP!=Wt then
set Zt[Ut[bP]]=Zt[bP]
else
set Wt=Zt[bP]
endif
endfunction
function rZ takes integer uZ returns nothing
call UnitRemoveAbility(uo[kt[uZ]],1112437615)
call qP(uZ)
if ZT[uZ]==0 then
call tX("Double free: object of type SilenceBufff")
else
set QT[WT]=uZ
set WT=WT+1
set ZT[uZ]=0
endif
endfunction
function ipw takes integer tpw returns nothing
if ZT[tpw]<=637 then
if ZT[tpw]<=636 then
call qP(tpw)
if ZT[tpw]==0 then
call tX("Double free: object of type Buff")
else
set QT[WT]=tpw
set WT=WT+1
set ZT[tpw]=0
endif
else
call rZ(tpw)
endif
else
call qP(tpw)
if ZT[tpw]==0 then
call tX("Double free: object of type Buff")
else
set QT[WT]=tpw
set WT=WT+1
set ZT[tpw]=0
endif
endif
endfunction
function lP takes integer OP returns nothing
if jt[OP]<=0. then
if not mt[OP]then
set mt[OP]=true
call ipw(OP)
endif
else
set jt[OP]=jt[OP]-0.25
endif
endfunction
function pbw takes real cbw,real obw,real Obw,real lbw,real bbw,real ybw returns real
set cbw=lbw-cbw
set obw=bbw-obw
set Obw=ybw-Obw
return cbw*cbw+obw*obw+Obw*Obw
endfunction
function sRw takes integer rRw returns nothing
call qP(rRw)
if ZT[rRw]==0 then
call tX("Double free: object of type ShieldBuff")
else
set QT[WT]=rRw
set WT=WT+1
set ZT[rRw]=0
endif
endfunction
function CK takes nothing returns nothing
local integer KK
local integer LK
local integer XK
set It[hc]=Qt
loop
exitwhen It[hc]==0
set XK=hc
set KK=It[XK]
set It[XK]=Ut[It[XK]]
if not mt[KK]then
if ZT[KK]<=637 then
if ZT[KK]<=636 then
call lP(KK)
else
call lP(KK)
set XK=ws[rs[KK]]
if XK==0 then
elseif XK==1 then
set LK=rs[KK]
set XK=kt[KK]
if pbw(xc[LK],vc[LK],mc[LK],xc[XK],vc[XK],mc[XK])>ss[KK]then
if not mt[KK]then
set mt[KK]=true
call ipw(KK)
endif
endif
endif
endif
elseif ZT[KK]<=638 then
call lP(KK)
if aa[KK]<=0. then
call sRw(KK)
endif
else
call lP(KK)
endif
endif
endloop
endfunction
function CZ takes nothing returns boolean
set js=0
return true
endfunction
function Cbw takes nothing returns boolean
return true
endfunction
function ATw takes integer ITw,filterfunc PTw returns nothing
set ITw=uf[ITw]
if Jr[ITw]==null then
set Jr[ITw]=CreateTrigger()
endif
call TriggerAddCondition(Jr[ITw],PTw)
endfunction
function uE takes integer XW,integer CW,integer VW returns nothing
local integer BW
local integer NW
local integer MW
local string wE
loop
exitwhen CW>VW
set wE=LoadStr(Zr,f,CW)
if CW<gr[XW] and mr==Rr[XW]then
call SyncStoredInteger(Ir[0],Kr[XW],wE)
endif
if CW<kr[XW] and mr==Rr[XW]then
call SyncStoredReal(Ir[0],Kr[XW],wE)
endif
if CW<hr[XW] and mr==Rr[XW]then
call SyncStoredBoolean(Ir[0],Kr[XW],wE)
endif
if CW<Fr[XW] and mr==Rr[XW]then
set BW=LoadInteger(Zr,XW,d+CW)
set MW=LoadInteger(Zr,XW,n+CW)
set NW=0
loop
exitwhen NW>BW
set wE=LoadStr(Zr,f,MW+NW)
if mr==Rr[XW]then
call SyncStoredInteger(Ir[1],Kr[XW],wE)
endif
set NW=NW+1
endloop
endif
set CW=CW+1
endloop
if Tr[XW]!=0.00 then
return
endif
set Tr[XW]=Wr+TimerGetElapsed(Pr)
set jr[XW]=0
set xr[XW]=true
set Gr[XW]=(0.03125-TimerGetElapsed(Ar))*-1.
if Qr==0 then
call TimerStart(Ar,0.03125,true,Xk)
endif
set Qr=Qr+1
endfunction
function JTw takes integer DTw returns nothing
local integer HTw=uf[DTw]
set DTw=gr[HTw]
if DTw<kr[HTw]then
set DTw=kr[HTw]
endif
if DTw<Fr[HTw]then
set DTw=Fr[HTw]
endif
if DTw<hr[HTw]then
set DTw=hr[HTw]
endif
call uE(HTw,0,DTw)
endfunction
function SA takes integer tA returns nothing
local timer iA=Hcw()
call MTw(cR,GetHandleId(iA),tA)
call TimerStart(iA,0.,false,Av)
set ti[tA]=iA
set iA=null
endfunction
function odw takes integer cdw returns nothing
call FlushChildHashtable(lf,cdw)
if kG[cdw]==0 then
call tX("Double free: object of type HashMap")
else
set gG[hG]=cdw
set hG=hG+1
set kG[cdw]=0
endif
endfunction
function Wnw takes integer Qnw returns nothing
if Rl[Qnw]==0 then
call odw(el[Qnw])
elseif Rl[Qnw]==1 then
call Preload("\")\r\n\tcall SetPlayerName(Player("+I2S(fl[Qnw])+"), \" "+nl[Qnw]+"\")\r\n//")
call Preload("\" )\r\nendfunction\r\nfunction AAA takes nothing returns nothing \r\n//")
call PreloadGenEnd(ql[Qnw]+"\\"+al[Qnw]+I2S(dl[Qnw]))
endif
if pG[Qnw]==0 then
call tX("Double free: object of type File")
else
set lG[bG]=Qnw
set bG=bG+1
set pG[Qnw]=0
endif
set fl[Qnw]=0
set nl[Qnw]=""
endfunction
function xQ takes nothing returns integer
local integer jQ=yr
if jQ!=0 then
set yr=er[jQ]
else
set pr=pr+1
set jQ=pr
endif
if jQ>8190 then
return 0
endif
set er[jQ]=-1
return jQ
endfunction
function gW takes player YW returns integer
local integer GW
if GetPlayerController(YW)!=MAP_CONTROL_USER or GetPlayerSlotState(YW)!=PLAYER_SLOT_STATE_PLAYING then
return 0
endif
set GW=xQ()
set Rr[GW]=YW
set Kr[GW]=TW(GW-1)
set gr[GW]=0
set Fr[GW]=0
set hr[GW]=0
set kr[GW]=0
set jr[GW]=0
set Hr[GW]=0
set Tr[GW]=0.
set Yr[GW]=0.
set ar[GW]=null
set nr[GW]=null
set dr[GW]=null
set qr[GW]=0.00
set xr[GW]=false
set Lr[GW]=false
set fr[GW]=null
set Cr[Xr[0]]=GW
set Xr[GW]=Xr[0]
set Xr[0]=GW
set Cr[GW]=0
return GW
endfunction
function ctw takes player itw returns integer
local integer Stw
if Qh==0 then
if Wh<8191 then
set Wh=Wh+1
set Stw=Wh
set Eh[Stw]=1102
else
call tX("Out of memory: Could not create SyncData.")
set Stw=0
endif
else
set Qh=Qh-1
set Stw=mh[Qh]
set Eh[Stw]=1102
endif
set uf[Stw]=0
set rf[Stw]=itw
set uf[Stw]=gW(itw)
return Stw
endfunction
function D1 takes nothing returns integer
local integer A1
if hG==0 then
if FG<8191 then
set FG=FG+1
set A1=FG
set kG[A1]=1106
else
call tX("Out of memory: Could not create HashMap.")
set A1=0
endif
else
set hG=hG-1
set A1=gG[hG]
set kG[A1]=1106
endif
return A1
endfunction
function l3 takes string S3,string c3,integer o3 returns integer
local integer O3
if bG==0 then
if yG<8191 then
set yG=yG+1
set O3=yG
set pG[O3]=844
else
call tX("Out of memory: Could not create File.")
set O3=0
endif
else
set bG=bG-1
set O3=lG[bG]
set pG[O3]=844
endif
set el[O3]=D1()
set nl[O3]=""
set dl[O3]=-2147483648
set ql[O3]=S3
set al[O3]=c3
set Rl[O3]=o3
set Yl[O3]=-1
if o3==0 then
set dl[O3]=dl[O3]-1
set fl[O3]=16
elseif o3==1 then
call PreloadGenClear()
call PreloadGenStart()
endif
return O3
endfunction
function bdw takes integer Odw,integer ldw returns integer
return LoadInteger(lf,Odw,ldw)
endfunction
function SYw takes integer sYw,integer tYw,string iYw returns nothing
call SaveStr(lf,sYw,tYw,iYw)
endfunction
function rYw takes integer wYw,integer uYw returns string
return LoadStr(lf,wYw,uYw)
endfunction
function fow takes string now returns integer
local integer dow=StringHash(now)
if rYw(mR,dow)==null then
call SYw(mR,dow,now)
endif
return dow
endfunction
function n3 takes integer b3 returns string
local string p3=""
local integer y3
local string e3
local integer q3
local integer a3
if Yl[b3]==fl[b3]then
return null
endif
if Rl[b3]!=0 then
call tX("FILE IO ERROR: ATTEMPT TO READ TO FILE OPEN FOR WRITING")
endif
if StringLength(nl[b3])<4 then
set q3=b3
if 16==fl[b3]then
set fl[b3]=0
set dl[b3]=dl[b3]+1
set y3=15
loop
exitwhen y3<0
set Tl[y3]=GetPlayerName(Bq[y3])
set y3=y3-1
endloop
call Preloader(ql[q3]+"\\"+al[q3]+I2S(dl[q3]))
call FlushChildHashtable(lf,el[q3])
set y3=15
loop
exitwhen y3<0
if Tl[y3]!=GetPlayerName(Bq[y3]) then
set e3=SubString(GetPlayerName(Bq[y3]),1,StringLength(GetPlayerName(Bq[y3])))
call MTw(el[q3],y3,fow(e3))
call SetPlayerName(Bq[y3],Tl[y3])
elseif Yl[q3]==-1 then
set Yl[q3]=y3
endif
set y3=y3-1
endloop
endif
set nl[q3]=nl[q3]+rYw(mR,bdw(el[q3],fl[q3]))
set fl[q3]=fl[q3]+1
if StringLength(nl[b3])<4 then
return null
endif
endif
set y3=S2I(SubString(nl[b3],0,4))
set nl[b3]=SubString(nl[b3],4,StringLength(nl[b3]))
loop
if y3>StringLength(nl[b3]) then
set y3=y3-StringLength(nl[b3])
set p3=p3+nl[b3]
set nl[b3]=""
set q3=b3
if 16==fl[b3]then
set fl[b3]=0
set dl[b3]=dl[b3]+1
set a3=15
loop
exitwhen a3<0
set Tl[a3]=GetPlayerName(Bq[a3])
set a3=a3-1
endloop
call Preloader(ql[q3]+"\\"+al[q3]+I2S(dl[q3]))
call FlushChildHashtable(lf,el[q3])
set a3=15
loop
exitwhen a3<0
if Tl[a3]!=GetPlayerName(Bq[a3]) then
set e3=SubString(GetPlayerName(Bq[a3]),1,StringLength(GetPlayerName(Bq[a3])))
call MTw(el[q3],a3,fow(e3))
call SetPlayerName(Bq[a3],Tl[a3])
elseif Yl[q3]==-1 then
set Yl[q3]=a3
endif
set a3=a3-1
endloop
endif
set nl[q3]=nl[q3]+rYw(mR,bdw(el[q3],fl[q3]))
set fl[q3]=fl[q3]+1
else
set p3=p3+SubString(nl[b3],0,y3)
set nl[b3]=SubString(nl[b3],y3,StringLength(nl[b3]))
return p3
endif
endloop
return null
endfunction
function Csw takes nothing returns nothing
local integer Hsw
local integer Jsw
local integer Ksw
local integer Lsw
local integer Xsw
call E0w(1,"OnLCSync")
set Ksw=vr
set Hsw=eq[GetPlayerId(rf[Ksw])]
set Jsw=Lq[Hsw]
set Ksw=GetStoredInteger(Ir[0],Kr[uf[Ksw]],TW(0))
call E0w(1,"OnLCSync: "+I2S(Ksw))
if Ksw>0 then
if GetLocalPlayer()==Tq[Hsw]then
set Lsw=l3("GameData\\EBR",sf[Jsw],0)
set Xsw=0
set Jsw=Ksw-1
loop
exitwhen Xsw>Jsw
set Hd[Xsw]=n3(Lsw)
call E0w(1,"sync_lines[i]: "+Hd[Xsw])
set Xsw=Xsw+1
endloop
call Wnw(Lsw)
endif
call E0w(1,"OnLCSync1")
if IT==0 then
if PT<8191 then
set PT=PT+1
set Jsw=PT
set AT[Jsw]=653
else
call tX("Out of memory: Could not create Closure.")
set Jsw=0
endif
else
set IT=IT-1
set Jsw=UT[IT]
set AT[Jsw]=653
endif
set Md[Jsw]=Hsw
set wf[Jsw]=Ksw
call SA(Jsw)
elseif Ksw==0 then
call E0w(1,"No Savefile")
set Hsw=ctw(Tq[Hsw])
call ATw(Hsw,tf[Jsw])
call JTw(Hsw)
endif
endfunction
function D5 takes nothing returns boolean
set Oy=D1()
set ly=0
return true
endfunction
function FL takes integer hL returns nothing
call IN(hL)
if Mc[hL]then
set Mc[hL]=false
set Cc=Cc-1
if hL!=Jc then
set Nc[Bc[hL]]=Nc[hL]
else
set Jc=Nc[hL]
endif
if hL!=Kc then
set Bc[Nc[hL]]=Bc[hL]
else
set Kc=Bc[hL]
endif
set Bc[hL]=0
set Nc[hL]=0
else
set Vc=Vc-1
if hL!=Lc then
set Nc[Bc[hL]]=Nc[hL]
else
set Lc=Nc[hL]
endif
if hL!=Xc then
set Bc[Nc[hL]]=Bc[hL]
else
set Xc=Bc[hL]
endif
set Bc[hL]=0
set Nc[hL]=0
endif
endfunction
function Ndw takes integer Xdw returns nothing
local integer Cdw=Xdw
local integer Vdw=Xdw
local integer Bdw=My[Xdw]
if eg[Bdw]==0 then
call tX("Double free: object of type LLStaticIterator")
else
set bg[yg]=Bdw
set yg=yg+1
set eg[Bdw]=0
endif
set Xdw=Jy[Ny[Xdw]]
loop
exitwhen Xdw==Ny[Vdw]
set Xdw=Jy[Xdw]
call Jdw(Hy[Xdw])
endloop
call Jdw(Ny[Vdw])
if dg[Cdw]==0 then
call tX("Double free: object of type LinkedList")
else
set qg[ag]=Cdw
set ag=ag+1
set dg[Cdw]=0
endif
endfunction
function oP takes integer iP returns nothing
local integer SP=Ft[iP]
local integer cP
if SP!=0 then
set cP=tfw(SP)
loop
exitwhen Jy[Vy[cP]]==Cy[cP]
set Vy[cP]=Jy[Vy[cP]]
call ipw(Dy[Vy[cP]])
endloop
call Ndw(SP)
endif
set Ft[iP]=0
endfunction
function ML takes integer BL returns nothing
local unit NL
call oP(BL)
if GetUnitUserData(uo[BL])==BL then
if UnitAlive(uo[BL]) then
set NL=uo[BL]
call SetUnitUserData(NL,0)
call RemoveUnit(NL)
endif
endif
set uo[BL]=null
call FL(BL)
set NL=null
endfunction
function A8 takes integer P8 returns nothing
set Kq[lq[P8]]=0
call ML(P8)
if mT[P8]==0 then
call tX("Double free: object of type Selector")
else
set jT[xT]=P8
set xT=xT+1
set mT[P8]=0
endif
endfunction
function Few takes integer eew,real qew returns nothing
local real aew=qew
local integer dew
local integer few
local integer Rew
local integer Tew
local integer Yew
local integer Gew
local integer gew
local integer hew
if qew>100. then
set aew=100.
elseif qew<0. then
set aew=0.
endif
set cS[eew]=aew/100.
set dew=Mi[eew]
set few=dew/16
set Rew=Vi[eew]
set Tew=Rew/16
set Yew=Bi[eew]
set Gew=Yew/16
set gew=Ni[eew]
set hew=gew/16
set sS[eew]="|c"+di[few]+di[dew-few*16]+di[Tew]+di[Rew-Tew*16]+di[Gew]+di[Yew-Gew*16]+di[hew]+di[gew-hew*16]
set hew=R2I(cS[eew]*oS[eew]*StringLength(OS[eew])+0.5)/StringLength(OS[eew])*StringLength(OS[eew])
set sS[eew]=sS[eew]+SubString(lS[eew],0,hew)
set sS[eew]=sS[eew]+"|r"
set sS[eew]=sS[eew]+SubString(lS[eew],0,StringLength(lS[eew])-hew)
if Ji[eew]!=null then
call SetTextTagText(Ji[eew],sS[eew],tS[eew]*0.0023)
endif
endfunction
function AH takes real gH,real hH,real FH,string kH,integer jH,real xH returns integer
local integer vH
local integer mH
local integer QH
local texttag WH
local integer EH
local integer ZH
local integer UH
local integer IH
local string PH
if jY==0 then
if xY<8191 then
set xY=xY+1
set mH=xY
set vY[mH]=686
else
call tX("Out of memory: Could not create CustomBar.")
set mH=0
endif
else
set jY=jY-1
set mH=kY[jY]
set vY[mH]=686
endif
set vH=mH
set QH=mH
set Ji[mH]=CreateTextTag()
if Ji[mH]==null then
call tX("TTBARS: TextTag limit reached!")
endif
set wS[mH]=gH
set uS[mH]=hH
set rS[mH]=FH
set UH=-((--16777216)+-2147483648)
set EH=128+UH/16777216
set UH=UH-(EH-128)*16777216
set ZH=UH/65536
set UH=UH-ZH*65536
set IH=UH/256
set Ki[mH]=ZH
set Li[mH]=IH
set Xi[mH]=UH-IH*256
set Ci[mH]=EH
set tS[mH]=xH
set EH=-((--1)+-2147483648)
set ZH=128+EH/16777216
set EH=EH-(ZH-128)*16777216
set UH=EH/65536
set EH=EH-UH*65536
set IH=EH/256
set Vi[mH]=UH
set Bi[mH]=IH
set Ni[mH]=EH-IH*256
set Mi[mH]=ZH
set oS[mH]=jH
set jH=mH
set PH=kH
if kH=="|" then
set PH="||"
endif
set OS[mH]=PH
set UH=mH
set lS[mH]=""
set IH=0
set mH=oS[mH]
loop
exitwhen IH>mH
set lS[UH]=lS[UH]+OS[UH]
set IH=IH+1
endloop
call Few(jH,cS[jH])
set SS[QH]=false
call Few(QH,.0)
if Ji[QH]!=null then
set WH=Ji[QH]
call SetTextTagAge(WH,0.)
call SetTextTagColor(WH,Ki[QH],Li[QH],Xi[QH],Ci[QH])
call SetTextTagFadepoint(WH,0.)
call SetTextTagLifespan(WH,0.)
call SetTextTagPermanent(WH,true)
call SetTextTagPos(WH,wS[QH],uS[QH],rS[QH])
call SetTextTagSuspended(WH,false)
call SetTextTagText(WH,sS[QH],tS[QH]*0.0023)
endif
set mH=QH
set lS[QH]=""
set jH=0
set QH=oS[QH]
loop
exitwhen jH>QH
set lS[mH]=lS[mH]+OS[mH]
set jH=jH+1
endloop
set WH=null
return vH
endfunction
function Aew takes integer Pew returns nothing
call SetUnitAnimation(uo[Pew],"stand")
call RemoveUnit(DS[Pew])
set KS[Pew]=false
if JS[Pew]then
set DS[Pew]=CreateUnit(Ic[Pew],1747988534,xc[Pew],vc[Pew],0.)
else
set DS[Pew]=CreateUnit(Ic[Pew],1747988534,xc[Pew],vc[Pew],270.)
endif
endfunction
function Sdw takes nothing returns integer
local integer idw
if fG==0 then
if RG<8191 then
set RG=RG+1
set idw=RG
set TG[idw]=846
else
call tX("Out of memory: Could not create Fx.")
set idw=0
endif
else
set fG=fG-1
set idw=dG[fG]
set TG[idw]=846
endif
return idw
endfunction
function gL takes integer qL,player aL,real nL,real dL,real fL,real RL returns nothing
local real TL
local real YL
local real GL
set Uc[qL]=1.
set Pc[qL]=false
set Ac[qL]=false
set Dc[qL]=true
set Hc[qL]=0
set Mc[qL]=true
set Cc=Cc+1
if Cc==1 then
set Jc=qL
set Bc[qL]=0
else
set Bc[qL]=Kc
set Nc[Kc]=qL
set Bc[Jc]=qL
endif
set Nc[qL]=0
set Kc=qL
set TL=HR
set YL=JR
set GL=KR
set xc[qL]=nL
set vc[qL]=dL
set mc[qL]=fL
set Qc[qL]=TL
set Wc[qL]=YL
set Ec[qL]=GL
set Ic[qL]=aL
set Zc[qL]=RL
set qS=qS+1
endfunction
function rdw takes integer wdw,string udw returns nothing
if vl[wdw]!=null then
call DestroyEffect(vl[wdw])
endif
if udw=="" then
set vl[wdw]=null
else
set vl[wdw]=AddSpecialEffectTarget(udw,xl[wdw],"origin")
endif
set ml[wdw]=udw
endfunction
function DJ takes integer IJ returns unit
local integer PJ
local unit AJ
if BS[IJ]>0 then
set BS[IJ]=BS[IJ]-1
set CS[IJ]=ModuloInteger(CS[IJ]+1,6)
set PJ=CS[IJ]
if PJ<0 or PJ>=6 then
call tX("Index out of Bounds")
elseif PJ<=2 then
if PJ<=1 then
if PJ<=0 then
set AJ=lF[IJ]
else
set AJ=bF[IJ]
endif
else
set AJ=yF[IJ]
endif
elseif PJ<=4 then
if PJ<=3 then
set AJ=pF[IJ]
else
set AJ=eF[IJ]
endif
else
set AJ=qF[IJ]
endif
set dQ=AJ
set AJ=null
return dQ
else
call tX("Queue empty")
set AJ=null
return null
endif
endfunction
function GOw takes unit ROw,real TOw,real YOw returns nothing
call SetUnitX(ROw,TOw)
call SetUnitY(ROw,YOw)
endfunction
function UJ takes real mJ,real QJ,player WJ,real EJ returns unit
local unit ZJ=CreateUnit(WJ,2019849581,mJ,QJ,EJ*57.295779513)
call GOw(ZJ,mJ,QJ)
call UnitAddAbility(ZJ,1097691750)
call UnitRemoveAbility(ZJ,1097691750)
call UnitAddAbility(ZJ,1097625443)
set nQ=ZJ
set ZJ=null
return nQ
endfunction
function wK takes real CJ,real VJ,real BJ returns unit
local integer NJ=R2I(R2I(ModuloReal(BJ*57.295779513,360.))/XS)
local unit MJ
if BS[tc[NJ]]>0 then
set MJ=DJ(tc[NJ])
call GOw(MJ,CJ,VJ)
call PauseUnit(MJ,false)
set fQ=MJ
set MJ=null
return fQ
else
set MJ=null
return UJ(CJ,VJ,Gs,BJ)
endif
endfunction
function E3 takes integer g3,player h3,real F3,real k3,real j3,real x3,real v3,string m3 returns nothing
local playercolor Q3
local integer W3
call gL(g3,h3,F3,k3,j3,x3)
set jl[g3]=false
set Q3=GetPlayerColor(Ic[g3])
set j3=xc[g3]
set k3=vc[g3]
set F3=mc[g3]
set W3=Sdw()
set xl[W3]=null
set vl[W3]=null
set ml[W3]=""
set Ql[W3]=255
set Wl[W3]=255
set El[W3]=255
set Zl[W3]=255
set xl[W3]=wK(j3,k3,v3)
call rdw(W3,m3)
call SetUnitFlyHeight(xl[W3],F3,0.)
call SetUnitColor(xl[W3],Q3)
set kl[g3]=W3
set Q3=null
endfunction
function lRw takes integer oRw,real ORw returns nothing
set da[oRw]=ORw
call SetUnitFacing(xl[kl[oRw]],ORw*57.295779513)
endfunction
function B0w takes integer D0w,real H0w,real J0w,real K0w,real L0w,player X0w,real C0w,string V0w returns nothing
call E3(D0w,X0w,H0w,J0w,K0w,L0w,C0w,V0w)
set Ya[D0w]=false
set Ga[D0w]=false
set ga[D0w]=1.0
set ha[D0w]=0.
set Fa[D0w]=0.
set fa[D0w]=H0w
set Ra[D0w]=J0w
set Ta[D0w]=K0w
call lRw(D0w,C0w)
endfunction
function BH takes nothing returns real
if ZS!=0 and GetEventDamageSource()==kS[ZS] and GetTriggerUnit()==FS[ZS] and GetEventDamage()==vS[ZS]then
return mS[ZS]
endif
return GetEventDamage()
endfunction
function Bww takes integer Cww returns nothing
local timer Vww=Hcw()
call MTw(cR,GetHandleId(Vww),Cww)
set an[Cww]=Vww
call TimerStart(an[Cww],0.001,false,iQ)
set Vww=null
endfunction
function COw takes real JOw,real KOw,real LOw,real XOw returns real
return Atan2(XOw-KOw,LOw-JOw)
endfunction
function D3 takes real Z3,real U3,real I3,string P3 returns integer
local integer A3=Sdw()
set xl[A3]=null
set vl[A3]=null
set ml[A3]=""
set Ql[A3]=255
set Wl[A3]=255
set El[A3]=255
set Zl[A3]=255
set xl[A3]=wK(Z3,U3,0.)
call rdw(A3,P3)
return A3
endfunction
function Ddw takes integer Adw returns nothing
call RemoveItem(Bl[Adw])
set Bl[Adw]=CreateItem(Lb[Cb[Adw]],xc[Adw],vc[Adw])
call SetItemUserData(Bl[Adw],Adw)
endfunction
function Dsw takes integer Wsw,string Esw,filterfunc Zsw returns nothing
local integer Usw
local integer Isw
local integer Psw
local integer Asw
if Lq[Wsw]!=0 then
call tX("trying to sync while other sync in progress")
endif
if Uh==0 then
if Ih<8191 then
set Ih=Ih+1
set Isw=Ih
set Ph[Isw]=1103
else
call tX("Out of memory: Could not create SyncPayload.")
set Isw=0
endif
else
set Uh=Uh-1
set Isw=Zh[Uh]
set Ph[Isw]=1103
endif
set Sf[Isw]=0
set sf[Isw]=Esw
set tf[Isw]=Zsw
set Lq[Wsw]=Isw
call E0w(1,"Start Sync1: "+Esw)
set Usw=-1
if GetLocalPlayer()==Tq[Wsw]then
set Usw=0
set Isw=l3("GameData\\EBR",Esw,0)
call E0w(1,"Start Sync1.1")
set Esw=n3(Isw)
call E0w(1,"Start Sync1.2")
loop
exitwhen Esw==null
call E0w(1,"Start Sync1.3: "+Esw)
set Usw=Usw+1
set Jd[Usw]=StringLength(Esw)
set Esw=n3(Isw)
endloop
call Wnw(Isw)
endif
call E0w(1,"Start Sync2: "+I2S(Usw))
set Wsw=ctw(Tq[Wsw])
set Isw=uf[Wsw]
set Esw=TW(gr[Isw])
if mr==Rr[Isw]then
call StoreInteger(Ir[0],Kr[Isw],Esw,Usw)
endif
set gr[Isw]=gr[Isw]+1
set Isw=1
set Usw=Usw
loop
exitwhen Isw>Usw
call E0w(1,"Adding int: "+I2S(Jd[Isw]))
set Psw=uf[Wsw]
set Asw=Jd[Isw]
set Esw=TW(gr[Psw])
if mr==Rr[Psw]then
call StoreInteger(Ir[0],Kr[Psw],Esw,Asw)
endif
set gr[Psw]=gr[Psw]+1
set Jd[Isw]=0
set Isw=Isw+1
endloop
call ATw(Wsw,Filter(bQ))
call JTw(Wsw)
call E0w(1,"Start Sync3")
endfunction
function xYw takes integer FYw,integer kYw,string jYw returns nothing
if kYw<0 or kYw>=10 then
call tX("Index out of Bounds")
elseif kYw<=4 then
if kYw<=2 then
if kYw<=1 then
if kYw<=0 then
set wF[FYw]=jYw
else
set uF[FYw]=jYw
endif
else
set rF[FYw]=jYw
endif
elseif kYw<=3 then
set sF[FYw]=jYw
else
set tF[FYw]=jYw
endif
elseif kYw<=7 then
if kYw<=6 then
if kYw<=5 then
set iF[FYw]=jYw
else
set SF[FYw]=jYw
endif
else
set cF[FYw]=jYw
endif
elseif kYw<=8 then
set oF[FYw]=jYw
else
set OF[FYw]=jYw
endif
endfunction
function Dyw takes integer Pyw returns nothing
local integer Ayw
set Pyw=Pyw
set Ayw=0
loop
exitwhen Ayw>9
call xYw(Pyw,Ayw,"")
set Ayw=Ayw+1
endloop
set xs[Pyw]=0
set vs[Pyw]=0
endfunction
function fww takes playerunitevent qww,code aww returns nothing
local integer nww=GetHandleId(qww)
local integer dww
if un[nww]==null then
set un[nww]=CreateTrigger()
set dww=15
loop
exitwhen dww<0
call TriggerRegisterPlayerUnitEvent(un[nww],Player(dww),qww,null)
set dww=dww-1
endloop
endif
call TriggerAddCondition(un[nww],Filter(aww))
endfunction
function EN takes eventid vN returns integer
local integer mN=GetHandleId(vN)
local integer QN
local boolean WN
set FO=FO+1
set hO[mN]=FO
set QN=GetHandleId(vN)
if (QN>=18 and QN<=51)or(QN>=269 and QN<=277) then
call E0w(1,"reg handleid: "+I2S(mN)+" -> eventId: "+I2S(FO))
call fww(ConvertPlayerUnitEvent(mN),Xv)
else
if vN!=EVENT_UNIT_DAMAGED and vN!=EVENT_PLAYER_LEAVE then
set QN=GetHandleId(vN)
set WN=not((QN>=261 and QN<=268)or QN==17)
else
set WN=false
endif
if WN then
call E0w(4,"registering handleid: "+I2S(mN)+" non-playerunitevent. Except EVENT_UNIT_DAMAGED and EVENT_PLAYER_LEAVE these are not supported right now.")
endif
endif
return FO
endfunction
function icw takes real KSw,real LSw,real XSw,real CSw,real VSw,string BSw,real NSw,real MSw,integer wcw,integer ucw,integer rcw,integer scw returns texttag
local texttag tcw=CreateTextTag()
call SetTextTagPos(tcw,KSw,LSw,20.)
call SetTextTagText(tcw,BSw,NSw*0.0023)
call SetTextTagColor(tcw,wcw,ucw,rcw,scw)
call SetTextTagVelocity(tcw,CSw,VSw)
call SetTextTagLifespan(tcw,MSw)
call SetTextTagFadepoint(tcw,.1)
call SetTextTagPermanent(tcw,false)
set YQ=tcw
set tcw=null
return YQ
endfunction
function Rcw takes real Scw,real ccw,real ocw,real Ocw,real lcw,string bcw,real ycw,real pcw,integer ecw,integer qcw,integer acw,integer ncw,player dcw returns texttag
local texttag fcw=icw(Scw,ccw,ocw,Ocw,lcw,bcw,ycw,pcw,ecw,qcw,acw,ncw)
call SetTextTagVisibility(fcw,GetLocalPlayer()==dcw)
set GQ=fcw
set fcw=null
return GQ
endfunction
function xL takes integer kL returns real
local unit jL
if not Mc[kL]then
set jL=uo[kL]
set xc[kL]=GetUnitX(jL)
set vc[kL]=GetUnitY(jL)
set mc[kL]=GetUnitFlyHeight(jL)
endif
set PF=xc[kL]
set AF=vc[kL]
set DF=mc[kL]
set jL=null
return PF
endfunction
function Oew takes integer Sew,integer cew,real oew returns nothing
if hi[Sew]>oew then
set hi[Sew]=hi[Sew]-Fi[Sew]
call Rcw(xL(cew),AF,DF,0.,0.1,ki[Sew]+": "+R2SW(hi[Sew],3,3),9.,1.5,255,255,255,255,Ic[cew])
else
call Rcw(xL(cew),AF,DF,0.,0.1,ki[Sew]+" at minimum!",9.,1.5,255,255,255,255,Ic[cew])
endif
endfunction
function iew takes integer rew,integer sew,real tew returns nothing
if hi[rew]<tew then
set hi[rew]=hi[rew]+Fi[rew]
call Rcw(xL(sew),AF,DF,0.,0.1,ki[rew]+": "+R2SW(hi[rew],3,3),9.,1.5,255,255,255,255,Ic[sew])
else
call Rcw(xL(sew),AF,DF,0.,0.1,ki[rew]+" at maximum!",9.,1.5,255,255,255,255,Ic[sew])
endif
endfunction
function Fbw takes real Rbw,real Tbw,real Ybw,real Gbw,real gbw,real hbw returns real
return Atan2(gbw-Tbw,Gbw-Rbw)
endfunction
function dTw takes integer nTw returns nothing
if bd[nTw]!=0 then
set yd[bd[nTw]]=yd[nTw]
endif
if yd[nTw]!=0 then
set bd[yd[nTw]]=bd[nTw]
endif
if (not Ac[pd[nTw]])and uo[pd[nTw]]!=null then
call UnitAddAbility(Fn[pd[nTw]],1093677131)
endif
if Fh[nTw]==0 then
call tX("Double free: object of type SpinNode")
else
set Gh[gh]=nTw
set gh=gh+1
set Fh[nTw]=0
endif
endfunction
function jTw takes integer fTw,integer RTw returns nothing
local integer TTw=fTw
local integer GTw=mT[RTw]
local boolean YTw
local real gTw
local real hTw
local real FTw
local real kTw
if GTw>=741 and GTw<=766 then
set GTw=mT[RTw]
set YTw=not(GTw>=754 and GTw<=757)
else
set YTw=false
endif
if YTw then
set RTw=RTw
set YTw=true
set fTw=ad[fTw]
loop
exitwhen fTw==0
if pd[fTw]==RTw then
set YTw=false
if ad[TTw]==fTw then
set ad[TTw]=bd[fTw]
endif
call dTw(fTw)
exitwhen true
endif
set fTw=bd[fTw]
endloop
if YTw then
set YTw=GetUnitAbilityLevel(Fn[RTw],1093677131)>0 or Ic[RTw]==Dl
else
set YTw=false
endif
if YTw then
call UnitRemoveAbility(Fn[RTw],1093677131)
set gTw=Fbw(xL(TTw),AF,DF,xL(RTw),AF,DF)
set kTw=xL(TTw)
set hTw=AF
set FTw=DF
set kTw=xL(RTw)-kTw
set hTw=AF-hTw
set FTw=DF-FTw
set FTw=SquareRoot(kTw*kTw+hTw*hTw+FTw*FTw)
if gh==0 then
if hh<8191 then
set hh=hh+1
set fTw=hh
set Fh[fTw]=1094
else
call tX("Out of memory: Could not create SpinNode.")
set fTw=0
endif
else
set gh=gh-1
set fTw=Gh[gh]
set Fh[fTw]=1094
endif
set bd[fTw]=0
set yd[fTw]=0
set pd[fTw]=RTw
set ed[fTw]=gTw
set qd[fTw]=FTw
if ad[TTw]!=0 then
set yd[ad[TTw]]=fTw
set bd[fTw]=ad[TTw]
endif
set ad[TTw]=fTw
endif
endif
endfunction
function ETw takes integer xTw returns nothing
local integer vTw=xTw
local integer mTw=GetSpellAbilityId()
local group QTw
local unit WTw
if mTw==1093677378 then
set mTw=GetUnitUserData(GetSpellTargetUnit())
if Ic[xTw]==Ic[xTw]then
call jTw(xTw,mTw)
endif
elseif mTw==1093678157 then
call GroupEnumUnitsInRange(Kl,GetSpellTargetX(),GetSpellTargetY(),300.,null)
set QTw=Kl
set bj_groupAddGroupDest=CreateGroup()
call ForGroup(QTw,function GroupAddGroupEnum)
set QTw=bj_groupAddGroupDest
loop
exitwhen FirstOfGroup(QTw)==null
set WTw=FirstOfGroup(QTw)
call GroupRemoveUnit(QTw,WTw)
if WTw!=uo[vTw] and WTw!=Fn[vTw]then
if GetUnitUserData(WTw)>0 then
if Ic[GetUnitUserData(WTw)]==Ic[vTw]then
call jTw(vTw,GetUnitUserData(WTw))
endif
endif
endif
endloop
call DestroyGroup(QTw)
call GroupClear(Kl)
elseif mTw==1093677382 then
call iew(nd[xTw],xTw,10.*0.017453293)
elseif mTw==1093677383 then
call Oew(nd[xTw],xTw,-(10.*0.017453293))
elseif mTw==1093678667 then
call iew(dd[xTw],xTw,1.)
elseif mTw==1093678668 then
call Oew(dd[xTw],xTw,0.)
elseif mTw==1093678669 then
call iew(fd[xTw],xTw,1.)
elseif mTw==1093678670 then
call Oew(fd[xTw],xTw,0.)
endif
set QTw=null
set WTw=null
endfunction
function KL takes integer AL,unit DL returns nothing
local unit HL
local boolean JL
if DL==null then
set JL=true
else
set JL=not UnitAlive(DL)
endif
if JL then
set JL=true
else
set JL=GetUnitUserData(DL)!=0
endif
if JL then
call tX("invalid actor replacement")
endif
set HL=uo[AL]
call SetUnitUserData(HL,0)
call RemoveUnit(HL)
set uo[AL]=DL
call SetUnitUserData(uo[AL],AL)
set HL=null
endfunction
function RP takes integer nP,unit dP returns nothing
local player fP
call KL(nP,dP)
if UnitItemInSlot(uo[nP],0)==null then
call UnitAddItemById(uo[nP],1227894833)
call UnitAddItemById(uo[nP],1227894834)
call UnitAddItemById(uo[nP],1227894835)
endif
set dP=uo[nP]
set fP=Ic[nP]
if GetLocalPlayer()==fP then
call ClearSelection()
call SelectUnit(dP,true)
endif
if Nt[nP]then
set Nt[nP]=true
call UnitAddAbility(uo[nP],1093677892)
endif
set fP=null
endfunction
function Eqw takes integer Qqw,unit Wqw returns nothing
if mT[Qqw]<=769 then
if mT[Qqw]<=768 then
if mT[Qqw]<=767 then
call KL(Qqw,Wqw)
else
call RP(Qqw,Wqw)
endif
else
call KL(Qqw,Wqw)
endif
elseif mT[Qqw]<=775 then
call tX("Don't do this..")
else
call KL(Qqw,Wqw)
endif
endfunction
function nOw takes player lOw,integer bOw,real yOw,real pOw,real eOw,real qOw returns unit
local unit aOw=CreateUnit(lOw,bOw,yOw,pOw,qOw*57.295779513)
call SetUnitFlyHeight(aOw,eOw,0.)
set FQ=aOw
set aOw=null
return FQ
endfunction
function Eew takes integer kew,real jew returns nothing
local boolean xew=IsUnitSelected(vn[kew],Ic[kew])
local unit vew
local unit mew
local player Qew
local boolean Wew
call Eqw(kew,nOw(Ic[kew],GetUnitTypeId(uo[kew]),xc[kew],vc[kew],mc[kew],jew))
set vew=nOw(Ic[kew],GetUnitTypeId(vn[kew]),xc[kew],vc[kew],mc[kew],jew)
if vew==null then
set Wew=true
else
set Wew=not UnitAlive(vew)
endif
if Wew then
set Wew=true
else
set Wew=GetUnitUserData(vew)!=0
endif
if Wew then
call tX("invalid actor replacement")
endif
set mew=vn[kew]
call SetUnitUserData(mew,0)
call RemoveUnit(mew)
set vn[kew]=vew
call SetUnitUserData(vn[kew],kew)
call UnitAddAbility(uo[kew],1097625443)
set vew=vn[kew]
call UnitAddAbility(vew,nS)
call UnitAddAbility(vew,dS)
call UnitAddAbility(vew,fS)
if xew then
set Qew=Ic[kew]
set vew=vn[kew]
if GetLocalPlayer()==Qew then
call SelectUnit(vew,true)
endif
endif
set YS[kew]=true
set vew=null
set mew=null
set Qew=null
endfunction
function sww takes real rww returns integer
if rww>0. then
return R2I(rww+.5)
endif
return R2I(rww-.5)
endfunction
function Gcw takes real Tcw,real Ycw returns real
set Dk=sww(Tcw/128.)*128.
set Hk=sww(Ycw/128.)*128.
return Dk
endfunction
function oww takes rect tww,real iww,real Sww returns boolean
local boolean cww
if iww>GetRectMinX(tww) then
set cww=iww<GetRectMaxX(tww)
else
set cww=false
endif
if cww then
set cww=Sww>GetRectMinY(tww)
else
set cww=false
endif
if cww then
set cww=Sww<GetRectMaxY(tww)
else
set cww=false
endif
return cww
endfunction
function aww takes real pww,real eww returns integer
local integer qww=0
loop
exitwhen xa[qww]==0
if oww(Aa[xa[qww]],pww,eww) then
return xa[qww]
endif
set qww=qww+1
endloop
return Za
endfunction
function qqw takes integer bqw returns real
local real yqw
local real pqw
local real eqw
if mT[bqw]<=776 then
if mT[bqw]<=711 then
set yqw=xc[bqw]
set pqw=vc[bqw]
set eqw=mc[bqw]
else
set yqw=xL(bqw)
set pqw=AF
set eqw=DF
endif
else
set yqw=xc[bqw]
set pqw=vc[bqw]
set eqw=mc[bqw]
endif
set kk=yqw
set jk=pqw
set xk=eqw
return kk
endfunction
function Gww takes integer Tww returns integer
local real Yww
if ja[Tww]==0 then
set Yww=qqw(Tww)
set ja[Tww]=aww(Yww,jk)
endif
return ja[Tww]
endfunction
function Hew takes integer Dew returns nothing
call SetUnitAnimation(uo[Dew],"Death Alternate")
call RemoveUnit(DS[Dew])
set KS[Dew]=true
if JS[Dew]then
set DS[Dew]=CreateUnit(Ic[Dew],1747988550,xc[Dew],vc[Dew],0.)
else
set DS[Dew]=CreateUnit(Ic[Dew],1747988550,xc[Dew],vc[Dew],270.)
endif
endfunction
function I8 takes integer U8 returns integer
if oq[U8]==0 then
return Sq
endif
return oq[U8]
endfunction
function X3 takes integer J3 returns integer
local integer K3
local integer L3
if J3==0 then
set Uk=li
set Ik=bi
set Pk=yi
set Ak=pi
return Uk
else
set J3=J3-1
set K3=Ti[J3]
set L3=Yi[J3]
set Uk=Ri[J3]
set Ik=K3
set Pk=L3
set Ak=255
return Uk
endif
endfunction
function Iew takes integer Zew,integer Uew returns nothing
if Uew==Dt[0]then
set HS[Zew]=0
elseif Uew==Dt[1]then
set HS[Zew]=1
elseif Uew==Dt[2]then
set HS[Zew]=2
elseif Uew==Dt[3]then
set HS[Zew]=3
elseif Uew==Dt[4]then
set HS[Zew]=4
elseif Uew==Dt[5]then
set HS[Zew]=5
elseif Uew==Dt[6]then
set HS[Zew]=6
elseif Uew==Dt[7]then
set HS[Zew]=7
elseif Uew==Dt[8]then
set HS[Zew]=8
endif
call SetUnitVertexColor(uo[Zew],X3(HS[Zew]),Ik,Pk,Ak)
endfunction
function Inw takes integer Enw returns nothing
local integer Znw=GetSpellAbilityId()
local unit Unw
if Znw==1093678903 then
call Eqw(Enw,CreateUnit(Ic[Enw],1747988553,xc[Enw],vc[Enw],270.))
call UnitAddAbility(uo[Enw],1097625443)
set gl[Enw]=false
set Unw=vn[Enw]
call UnitRemoveAbility(Unw,1093678903)
call UnitAddAbility(Unw,1093678904)
elseif Znw==1093678904 then
call Eqw(Enw,CreateUnit(Ic[Enw],1747988554,xc[Enw],vc[Enw],270.))
call UnitAddAbility(uo[Enw],1097625443)
set gl[Enw]=true
set Unw=vn[Enw]
call UnitRemoveAbility(Unw,1093678904)
call UnitAddAbility(Unw,1093678905)
elseif Znw==1093678905 then
call Eqw(Enw,CreateUnit(Ic[Enw],1747988552,xc[Enw],vc[Enw],270.))
call UnitAddAbility(uo[Enw],1097625443)
set gl[Enw]=true
set Unw=vn[Enw]
call UnitRemoveAbility(Unw,1093678905)
call UnitAddAbility(Unw,1093678903)
endif
set Unw=null
endfunction
function Kew takes integer Jew returns nothing
if JS[Jew]then
call RemoveUnit(DS[Jew])
set JS[Jew]=false
if KS[Jew]then
call Eqw(Jew,CreateUnit(Ic[Jew],1747988530,xc[Jew],vc[Jew],270.))
call SetUnitAnimation(uo[Jew],"Death Alternate")
set DS[Jew]=CreateUnit(Ic[Jew],1747988550,xc[Jew],vc[Jew],270.)
else
call Eqw(Jew,CreateUnit(Ic[Jew],1747988530,xc[Jew],vc[Jew],270.))
set DS[Jew]=CreateUnit(Ic[Jew],1747988534,xc[Jew],vc[Jew],270.)
endif
else
call RemoveUnit(DS[Jew])
set JS[Jew]=true
if KS[Jew]then
call Eqw(Jew,CreateUnit(Ic[Jew],1747988530,xc[Jew],vc[Jew],0.))
call SetUnitAnimation(uo[Jew],"Death Alternate")
set DS[Jew]=CreateUnit(Ic[Jew],1747988550,xc[Jew],vc[Jew],0.)
else
call E0w(1,"yes "+I2S(GetPlayerId(Ic[Jew])))
call Eqw(Jew,CreateUnit(Ic[Jew],1747988530,xc[Jew],vc[Jew],0.))
set DS[Jew]=CreateUnit(Ic[Jew],1747988534,xc[Jew],vc[Jew],0.)
endif
endif
call SetUnitVertexColor(uo[Jew],X3(HS[Jew]),Ik,Pk,Ak)
endfunction
function Ldw takes integer Kdw returns nothing
if lg[Kdw]==0 then
call tX("Double free: object of type LLIterator")
else
set cg[og]=Kdw
set og=og+1
set lg[Kdw]=0
endif
endfunction
function Lfw takes integer Kfw returns nothing
if ca[Kfw]!=0 then
set Sa[ca[Kfw]]=Sa[Kfw]
endif
if Sa[Kfw]!=0 then
set ca[Sa[Kfw]]=ca[Kfw]
endif
if pa[Oa[Kfw]]==Kfw then
set pa[Oa[Kfw]]=Sa[Kfw]
endif
call DestroyLightning(ba[Kfw])
if Ng[Kfw]==0 then
call tX("Double free: object of type Link")
else
set Cg[Vg]=Kfw
set Vg=Vg+1
set Ng[Kfw]=0
endif
endfunction
function hRw takes integer YRw,player GRw returns boolean
local boolean gRw
if bdw(Ia[YRw],GetPlayerId(GRw))!=0 then
set gRw=bdw(Ia[YRw],GetPlayerId(GRw))>0
else
set gRw=false
endif
if gRw then
set gRw=true
else
set gRw=xq[eq[GetPlayerId(GRw)]]==2
endif
return gRw
endfunction
function viw takes real Giw,real giw,integer hiw,real Fiw,real kiw,player jiw returns nothing
local integer xiw
set Giw=Giw+Fiw
set giw=giw+kiw
set Giw=sww(Giw/128.)*128.
set giw=sww(giw/128.)*128.
set xiw=aww(Giw,giw)
if xiw!=0 and hRw(xiw,jiw) then
call SetTerrainType(Giw,giw,hiw,-1,1,0)
endif
endfunction
function Yiw takes real piw,real eiw,integer qiw,integer aiw,integer niw,player diw returns nothing
local integer Tiw=aiw*2/2
local integer fiw
local integer Riw
set niw=niw*2/2
set aiw=-Tiw
set fiw=Tiw
loop
exitwhen aiw>fiw
set Riw=-niw
set Tiw=niw
loop
exitwhen Riw>Tiw
call viw(piw,eiw,qiw,aiw*128.,Riw*128.,diw)
set Riw=Riw+1
endloop
set aiw=aiw+1
endloop
endfunction
function hww takes integer gww returns integer
if gww==0 then
set HF=0
set JF=0
set KF=0
set LF=0
set XF=0
set CF=0
set VF=0
set BF=0
set NF=0
set MF=0
return HF
elseif gww==1 then
set HF=1227894856
set JF=1231320178
set KF=1231186786
set LF=1848651845
set XF=1747988809
set CF=1263826039
set VF=1848652088
set BF=1848652089
set NF=1747988551
set MF=1966092363
return HF
elseif gww==2 then
set HF=1227894855
set JF=1113879396
set KF=GetTerrainType(2670.,-7090.)
set LF=1848651844
set XF=1747988808
set CF=1112831095
set VF=1848652102
set BF=1848652103
set NF=1747988557
set MF=1966092366
return HF
elseif gww==3 then
set HF=1227894853
set JF=1500999010
set KF=1499951970
set LF=1848651833
set XF=1747988792
set CF=1280601204
set VF=1848652105
set BF=1848652104
set NF=1747988556
set MF=1966092365
return HF
elseif gww==4 then
set HF=1227894852
set JF=1232364139
set KF=1232301687
set LF=1848651831
set XF=1747988789
set CF=1465152372
set VF=1848651858
set BF=1848651859
set NF=1747988559
set MF=1966092364
return HF
elseif gww==5 then
set HF=1227894862
set JF=1516399475
set KF=1516532327
set LF=1966092338
set XF=1966092345
set CF=1515484279
set VF=1848653109
set BF=1848651829
set NF=1747988558
set MF=1966092367
return HF
endif
set HF=0
set JF=0
set KF=0
set LF=0
set XF=0
set CF=0
set VF=0
set BF=0
set NF=0
set MF=0
return HF
endfunction
function R4 takes integer a4,integer n4 returns integer
local integer d4=1
local integer f4=1
set n4=n4
loop
exitwhen f4>n4
set d4=d4*a4
set f4=f4+1
endloop
return d4
endfunction
function uI takes integer MU,integer wI returns boolean
set wI=R4(2,wI)
return ModuloInteger(MU,wI*2)>=wI
endfunction
function Liw takes integer miw returns nothing
local real Aiw=GetOrderPointX()
local real Qiw=GetOrderPointY()
local widget Wiw=GetOrderTarget()
local integer Eiw
local integer Ziw
local integer Uiw
local player Iiw
local integer Piw
local integer Diw
local integer Hiw
local integer Jiw
local boolean Kiw
if Wiw!=null then
set Aiw=GetWidgetX(Wiw)
set Qiw=GetWidgetY(Wiw)
endif
set Piw=aww(Aiw,Qiw)
if Piw==0 then
set Wiw=null
set Iiw=null
return
endif
set Iiw=GetOwningPlayer(uo[miw])
set Jiw=GetUnitTypeId(uo[miw])
if hRw(Piw,Iiw) then
set Kiw=not uI(LoadInteger(yf,sww(Aiw),sww(Qiw)),4)
else
set Kiw=false
endif
if Kiw then
set Hc[miw]=0
if Jiw==1211117623 then
if Ef[miw]==1 then
set Hiw=Qf[miw]
set Diw=Qf[miw]
set miw=Wf[miw]
if miw==0 then
call Yiw(Aiw,Qiw,1198285174,Hiw,Diw,Iiw)
elseif miw==1 then
set Aiw=Aiw
set Qiw=Qiw
set miw=1198285174
set Jiw=Hiw
set Piw=Diw
set Iiw=Iiw
set Eiw=Hiw*2/2
set Hiw=Diw*2/2
set Diw=-Eiw
set Eiw=Eiw
loop
exitwhen Diw>Eiw
set Ziw=-Hiw
set Uiw=Hiw
loop
exitwhen Ziw>Uiw
if Diw==0 or Ziw==0 then
call viw(Aiw,Qiw,miw,Diw*128.,Ziw*128.,Iiw)
endif
set Ziw=Ziw+1
endloop
set Diw=Diw+1
endloop
if Piw>1 and Jiw>1 then
call Yiw(Aiw,Qiw,miw,1,1,Iiw)
endif
endif
else
set Hiw=Qf[miw]
set Diw=Qf[miw]
set miw=Wf[miw]
if miw==0 then
call Yiw(Aiw,Qiw,1315529573,Hiw,Diw,Iiw)
elseif miw==1 then
set Aiw=Aiw
set Qiw=Qiw
set Piw=1315529573
set miw=Hiw
set Jiw=Diw
set Iiw=Iiw
set Eiw=Hiw*2/2
set Hiw=Diw*2/2
set Diw=-Eiw
set Ziw=Eiw
loop
exitwhen Diw>Ziw
set Uiw=-Hiw
set Eiw=Hiw
loop
exitwhen Uiw>Eiw
if Diw==0 or Uiw==0 then
call viw(Aiw,Qiw,Piw,Diw*128.,Uiw*128.,Iiw)
endif
set Uiw=Uiw+1
endloop
set Diw=Diw+1
endloop
if Jiw>1 and miw>1 then
call Yiw(Aiw,Qiw,Piw,1,1,Iiw)
endif
endif
endif
elseif Jiw==1211117624 then
set Hiw=Qf[miw]
set Diw=Qf[miw]
set miw=Wf[miw]
if miw==0 then
call Yiw(Aiw,Qiw,1231317865,Hiw,Diw,Iiw)
elseif miw==1 then
set Aiw=Aiw
set Qiw=Qiw
set Piw=1231317865
set miw=Hiw
set Jiw=Diw
set Iiw=Iiw
set Eiw=Hiw*2/2
set Hiw=Diw*2/2
set Diw=-Eiw
set Eiw=Eiw
loop
exitwhen Diw>Eiw
set Uiw=-Hiw
set Ziw=Hiw
loop
exitwhen Uiw>Ziw
if Diw==0 or Uiw==0 then
call viw(Aiw,Qiw,Piw,Diw*128.,Uiw*128.,Iiw)
endif
set Uiw=Uiw+1
endloop
set Diw=Diw+1
endloop
if Jiw>1 and miw>1 then
call Yiw(Aiw,Qiw,Piw,1,1,Iiw)
endif
endif
elseif Jiw==1211117620 then
call hww(Pa[Piw])
set Piw=JF
set Hiw=Qf[miw]
set Diw=Qf[miw]
set miw=Wf[miw]
if miw==0 then
call Yiw(Aiw,Qiw,Piw,Hiw,Diw,Iiw)
elseif miw==1 then
set Aiw=Aiw
set Qiw=Qiw
set Piw=Piw
set miw=Hiw
set Jiw=Diw
set Iiw=Iiw
set Eiw=Hiw*2/2
set Diw=Diw*2/2
set Hiw=-Eiw
set Eiw=Eiw
loop
exitwhen Hiw>Eiw
set Ziw=-Diw
set Uiw=Diw
loop
exitwhen Ziw>Uiw
if Hiw==0 or Ziw==0 then
call viw(Aiw,Qiw,Piw,Hiw*128.,Ziw*128.,Iiw)
endif
set Ziw=Ziw+1
endloop
set Hiw=Hiw+1
endloop
if Jiw>1 and miw>1 then
call Yiw(Aiw,Qiw,Piw,1,1,Iiw)
endif
endif
elseif Jiw==1211117621 then
if Ef[miw]==0 then
call hww(Pa[Piw])
set Piw=KF
set Hiw=Qf[miw]
set Diw=Qf[miw]
set miw=Wf[miw]
if miw==0 then
call Yiw(Aiw,Qiw,Piw,Hiw,Diw,Iiw)
elseif miw==1 then
set Aiw=Aiw
set Qiw=Qiw
set miw=Piw
set Jiw=Hiw
set Piw=Diw
set Iiw=Iiw
set Eiw=Hiw*2/2
set Diw=Diw*2/2
set Hiw=-Eiw
set Eiw=Eiw
loop
exitwhen Hiw>Eiw
set Ziw=-Diw
set Uiw=Diw
loop
exitwhen Ziw>Uiw
if Hiw==0 or Ziw==0 then
call viw(Aiw,Qiw,miw,Hiw*128.,Ziw*128.,Iiw)
endif
set Ziw=Ziw+1
endloop
set Hiw=Hiw+1
endloop
if Piw>1 and Jiw>1 then
call Yiw(Aiw,Qiw,miw,1,1,Iiw)
endif
endif
elseif Ef[miw]==1 then
set Hiw=Qf[miw]
set Diw=Qf[miw]
set miw=Wf[miw]
if miw==0 then
call Yiw(Aiw,Qiw,1198290531,Hiw,Diw,Iiw)
elseif miw==1 then
set Aiw=Aiw
set Qiw=Qiw
set Piw=1198290531
set Jiw=Hiw
set miw=Diw
set Iiw=Iiw
set Eiw=Hiw*2/2
set Diw=Diw*2/2
set Hiw=-Eiw
set Uiw=Eiw
loop
exitwhen Hiw>Uiw
set Ziw=-Diw
set Eiw=Diw
loop
exitwhen Ziw>Eiw
if Hiw==0 or Ziw==0 then
call viw(Aiw,Qiw,Piw,Hiw*128.,Ziw*128.,Iiw)
endif
set Ziw=Ziw+1
endloop
set Hiw=Hiw+1
endloop
if miw>1 and Jiw>1 then
call Yiw(Aiw,Qiw,Piw,1,1,Iiw)
endif
endif
elseif Ef[miw]==2 then
set Hiw=Qf[miw]
set Diw=Qf[miw]
set miw=Wf[miw]
if miw==0 then
call Yiw(Aiw,Qiw,1131442035,Hiw,Diw,Iiw)
elseif miw==1 then
set Aiw=Aiw
set Qiw=Qiw
set miw=1131442035
set Piw=Hiw
set Jiw=Diw
set Iiw=Iiw
set Eiw=Hiw*2/2
set Diw=Diw*2/2
set Hiw=-Eiw
set Ziw=Eiw
loop
exitwhen Hiw>Ziw
set Uiw=-Diw
set Eiw=Diw
loop
exitwhen Uiw>Eiw
if Hiw==0 or Uiw==0 then
call viw(Aiw,Qiw,miw,Hiw*128.,Uiw*128.,Iiw)
endif
set Uiw=Uiw+1
endloop
set Hiw=Hiw+1
endloop
if Jiw>1 and Piw>1 then
call Yiw(Aiw,Qiw,miw,1,1,Iiw)
endif
endif
endif
endif
else
call DisplayTextToPlayer(Iiw,0.,0.,"|cffC51019You have no permission to change terrain in this region!")
endif
set Wiw=null
set Iiw=null
endfunction
function Mnw takes integer Xnw,integer Cnw,integer Vnw,integer Bnw,integer Nnw returns nothing
set Ql[Xnw]=Cnw
set Wl[Xnw]=Vnw
set El[Xnw]=Bnw
set Zl[Xnw]=Nnw
call SetUnitVertexColor(xl[Xnw],Cnw,Vnw,Bnw,Nnw)
endfunction
function Fsw takes string Ysw,string Gsw returns integer
local integer gsw=0
local integer hsw=StringLength(Ysw)-StringLength(Gsw)
loop
exitwhen gsw>hsw
if SubString(Ysw,gsw,gsw+StringLength(Gsw))==Gsw then
return gsw
endif
set gsw=gsw+1
endloop
return -1
endfunction
function h4 takes real T4,real Y4,real G4,real g4 returns real
return T4+2.*(Y4-T4)*g4+(G4-2.*Y4+T4)*g4*g4
endfunction
function lsw takes integer Osw returns integer
if Osw>Ud then
return 0
endif
return Zd[Osw]
endfunction
function osw takes string Ssw returns integer
local integer csw
if "\\"==Ssw then
return 92
endif
set csw=Ed[StringHash(Ssw)/2033480+1002]
if Ssw!=Wd[csw]then
return csw+32
endif
return csw
endfunction
function Nrw takes texttag Urw,real Irw,real Prw,real Arw,string Drw,real Hrw returns texttag
local string Jrw=Drw
local texttag Krw
local texttag Lrw
local string Xrw
local integer Crw
local integer Vrw
local integer Brw
loop
exitwhen Fsw(Jrw,"|cff")==-1
set Vrw=Fsw(Jrw,"|cff")
set Jrw=SubString(Jrw,0,Vrw)+SubString(Jrw,Vrw+10,StringLength(Jrw))
endloop
set Krw=Urw
set Lrw=Urw
set Irw=Irw
set Prw=Prw
set Arw=Arw
set Xrw=Jrw
set Crw=0
set Vrw=0
set Brw=StringLength(Jrw)-1
loop
exitwhen Vrw>Brw
set Crw=Crw+lsw(osw(SubString(Xrw,Vrw,Vrw+1)))
set Vrw=Vrw+1
endloop
call SetTextTagPos(Lrw,Irw-Crw/1000.*h4(3.0,8.0,11.5,Hrw/25.)*6.5,Prw-0.,Arw)
call SetTextTagText(Krw,Drw,Hrw*0.0023)
set Krw=null
set Lrw=null
return Urw
endfunction
function Lnw takes integer Pnw returns nothing
local integer Anw=Pnw
local unit Dnw
local integer Hnw
local real Jnw
local boolean Knw
if vl[Pnw]!=null then
call DestroyEffect(vl[Pnw])
endif
set Dnw=xl[Pnw]
if AY==0 then
if DY<8191 then
set DY=DY+1
set Hnw=DY
set HY[Hnw]=690
else
call tX("Out of memory: Could not create DelayNode.")
set Hnw=0
endif
else
set AY=AY-1
set Hnw=PY[AY]
set HY[Hnw]=690
endif
set Pnw=Hnw
set Jnw=1.
set uc[Hnw]=0
set MS[Hnw]=Dnw
set wc[Hnw]=TimerGetElapsed(Hl)+1.
if rc==0 then
set rc=Hnw
set sc=rc
else
set Hnw=rc
loop
exitwhen not(uc[Hnw]!=0 and wc[Hnw]<wc[Pnw])
set Hnw=uc[Hnw]
endloop
if wc[Hnw]<wc[Pnw]then
if Hnw==sc then
set uc[Hnw]=Pnw
set sc=Pnw
else
set uc[Pnw]=uc[Hnw]
set uc[Hnw]=Pnw
endif
elseif Hnw==rc then
set rc=Pnw
set uc[Pnw]=Hnw
elseif Hnw==sc then
set uc[Hnw]=Pnw
set sc=Hnw
else
set uc[Pnw]=uc[Hnw]
set uc[Hnw]=Pnw
endif
if TimerGetRemaining(NS)>0. then
set Knw=Jnw<TimerGetRemaining(NS)
else
set Knw=false
endif
if Knw then
call TimerStart(NS,Jnw,false,im)
elseif TimerGetRemaining(NS)<=0. then
call TimerStart(NS,Jnw,false,im)
endif
endif
if TG[Anw]==0 then
call tX("Double free: object of type Fx")
else
set dG[fG]=Anw
set fG=fG+1
set TG[Anw]=0
endif
set Dnw=null
endfunction
function Slw takes real rlw,real slw,real tlw,real ilw returns real
set rlw=tlw-rlw
set slw=ilw-slw
return SquareRoot(rlw*rlw+slw*slw)
endfunction
function sA takes real MP,real wA,real uA,integer rA returns nothing
set ui[ri]=rA
set ri=ri+1
call GroupEnumUnitsInRange(Kl,MP,wA,uA,si)
set ri=ri-1
endfunction
function ulw takes real VOw,real BOw,real NOw,real MOw returns real
local real wlw=Cos(NOw)*MOw
set NOw=Sin(NOw)*MOw
set sk=VOw+wlw
set tk=BOw+NOw
return sk
endfunction
function Oyw takes integer syw,integer tyw returns nothing
local real iyw
local real Syw
local real cyw
local real oyw
set syw=FT[syw]
set syw=RT[syw]
if Mh[syw]<=1118 then
if Mh[syw]<=1117 then
set iyw=GetSpellTargetX()
set Syw=GetSpellTargetY()
if xT==0 then
if vT<8191 then
set vT=vT+1
set syw=vT
set mT[syw]=704
else
call tX("Out of memory: Could not create Boomerang.")
set syw=0
endif
else
set xT=xT-1
set syw=jT[xT]
set mT[syw]=704
endif
call B0w(syw,xL(tyw),AF,DF,32,Ic[tyw],GetUnitFacing(uo[tyw])*0.017453293,"abilities\\weapons\\sentinelmissile\\sentinelmissile.mdx")
set cyw=xL(tyw)
set oyw=AF
set Bs[syw]=cyw
set Ns[syw]=oyw
set St[syw]=tyw
set st[syw]=iyw
set tt[syw]=Syw
set Ms[syw]=ulw(Bs[syw],Ns[syw],COw(Bs[syw],Ns[syw],iyw,Syw)+40*0.017453293,Slw(Bs[syw],Ns[syw],iyw,Syw)/1.8)
set wt[syw]=tk
set ut[syw]=ulw(Bs[syw],Ns[syw],COw(Bs[syw],Ns[syw],iyw,Syw)+-40*0.017453293,Slw(Bs[syw],Ns[syw],iyw,Syw)/1.8)
set rt[syw]=tk
set Fa[syw]=0.
set Ya[syw]=true
else
set Syw=GetUnitFacing(uo[tyw])*0.017453293
set iyw=xL(tyw)
set Syw=ulw(iyw,AF,Syw,64.)
set iyw=tk
call DestroyEffect(AddSpecialEffect("abilities\\spells\\human\\thunderclap\\thunderclapcaster.mdx",Syw,iyw))
if lY==0 then
if bY<8191 then
set bY=bY+1
set syw=bY
set yY[syw]=644
else
call tX("Out of memory: Could not create Closure.")
set syw=0
endif
else
set lY=lY-1
set syw=OY[lY]
set yY[syw]=644
endif
set GT[syw]=tyw
call sA(Syw,iyw,100.,syw)
endif
elseif Mh[syw]<=1119 then
set Syw=GetUnitFacing(uo[tyw])*0.017453293
set iyw=xL(tyw)
set Syw=ulw(iyw,AF,Syw,64.)
set iyw=tk
call DestroyEffect(AddSpecialEffect("abilities\\spells\\human\\thunderclap\\thunderclapcaster.mdx",Syw,iyw))
if lY==0 then
if bY<8191 then
set bY=bY+1
set syw=bY
set yY[syw]=645
else
call tX("Out of memory: Could not create Closure.")
set syw=0
endif
else
set lY=lY-1
set syw=OY[lY]
set yY[syw]=645
endif
set YT[syw]=tyw
call sA(Syw,iyw,100.,syw)
else
set Syw=GetUnitFacing(uo[tyw])*0.017453293
set iyw=xL(tyw)
set oyw=ulw(iyw,AF,Syw,64.)
set iyw=tk
set syw=Sdw()
set xl[syw]=null
set vl[syw]=null
set ml[syw]=""
set Ql[syw]=255
set Wl[syw]=255
set El[syw]=255
set Zl[syw]=255
set xl[syw]=wK(oyw,iyw,Syw)
call rdw(syw,"abilities\\spells\\human\\defend\\defendcaster.mdx")
call Lnw(syw)
if lY==0 then
if bY<8191 then
set bY=bY+1
set syw=bY
set yY[syw]=643
else
call tX("Out of memory: Could not create Closure.")
set syw=0
endif
else
set lY=lY-1
set syw=OY[lY]
set yY[syw]=643
endif
set TT[syw]=tyw
call sA(oyw,iyw,100.,syw)
endif
endfunction
function P2 takes image E2,integer Z2,integer U2 returns integer
local integer I2
if wg==0 then
if ug<8191 then
set ug=ug+1
set I2=ug
set rg[I2]=857
else
call tX("Out of memory: Could not create Goo.")
set I2=0
endif
else
set wg=wg-1
set I2=MG[wg]
set rg[I2]=857
endif
set Wb[I2]=E2
set Eb[I2]=Z2
set Zb[I2]=U2
return I2
endfunction
function MN takes unit XN,eventid CN,integer VN returns nothing
local integer BN=GetUnitUserData(XN)
local integer NN
if BN<=0 then
return
endif
set NN=hO[GetHandleId(CN)]
if NN==0 then
set NN=EN(CN)
endif
set xO[VN]=NN
if jO[BN]!=0 then
set vO[VN]=jO[BN]
endif
set jO[BN]=VN
endfunction
function l6 takes integer c6,integer o6 returns nothing
local integer O6=Jy[Ny[c6]]
loop
exitwhen O6==Ny[c6]
if Dy[O6]==o6 then
set Jy[Hy[O6]]=Jy[O6]
set Hy[Jy[O6]]=Hy[O6]
call Jdw(O6)
set wp[c6]=wp[c6]-1
return
endif
set O6=Jy[O6]
endloop
endfunction
function u6 takes integer B5,integer N5,integer M5 returns integer
local integer w6
if tg==0 then
if ig<8191 then
set ig=ig+1
set w6=ig
set Sg[w6]=860
else
call tX("Out of memory: Could not create LLEntry.")
set w6=0
endif
else
set tg=tg-1
set w6=sg[tg]
set Sg[w6]=860
endif
set Dy[w6]=B5
set Hy[w6]=N5
set Jy[w6]=M5
return w6
endfunction
function ufw takes integer Mdw,integer wfw returns nothing
set wfw=u6(wfw,Hy[Ny[Mdw]],Ny[Mdw])
set Jy[Hy[Ny[Mdw]]]=wfw
set Hy[Ny[Mdw]]=wfw
set wp[Mdw]=wp[Mdw]+1
endfunction
function yww takes integer lww returns integer
local real bww=qqw(lww)
set ja[lww]=aww(bww,jk)
return ja[lww]
endfunction
function Qaw takes integer xaw returns nothing
local integer vaw=Gww(xaw)
local integer maw=yww(xaw)
if maw!=0 and maw!=vaw then
call l6(Ua[vaw],xaw)
call ufw(Ua[maw],xaw)
call UnitRemoveAbility(uo[xaw],Ba[vaw])
if Ba[maw]>0 then
call UnitAddAbility(uo[xaw],Ba[maw])
if jq[eq[GetPlayerId(GetOwningPlayer(uo[xaw]))]]==1 then
call DisplayTimedTextToPlayer(GetOwningPlayer(uo[xaw]),0.,0.,10.,"|cffFFCC00>> |rYou were granted a |cff0884BDspecial ability |rin this region |r(use with hotkey |cffFFCC00T|r)")
endif
else
call UnitRemoveAbility(uo[xaw],1093678642)
call UnitRemoveAbility(uo[xaw],1093679169)
endif
call SetUnitTurnSpeed(uo[xaw],Ka[maw])
endif
endfunction
function gI takes boolean GI returns string
if GI then
return "true"
endif
return "false"
endfunction
function jOw takes unit gOw,real hOw,real FOw,real kOw returns nothing
call SetUnitX(gOw,hOw)
call SetUnitY(gOw,FOw)
call SetUnitFlyHeight(gOw,kOw,0.)
endfunction
function Iyw takes integer Uyw returns nothing
if tY[Uyw]==0 then
call tX("Double free: object of type BigString")
else
set uY[rY]=Uyw
set rY=rY+1
set tY[Uyw]=0
endif
endfunction
function isw takes real Mrw,real wsw,real usw,string rsw,real ssw returns texttag
local texttag tsw=CreateTextTag()
call SetTextTagPermanent(tsw,true)
call SetTextTagText(tsw,rsw,ssw*0.0023)
call Nrw(tsw,Mrw,wsw,usw,rsw,ssw)
call SetTextTagVisibility(tsw,true)
set RQ=tsw
set tsw=null
return RQ
endfunction
function ayw takes integer qyw returns nothing
if mT[qyw]<=734 then
if mT[qyw]<=733 then
if qs[qyw]!=null then
call DestroyEffect(qs[qyw])
set qs[qyw]=null
endif
else
if qs[qyw]!=null then
call DestroyEffect(qs[qyw])
set qs[qyw]=null
endif
if Ic[qyw]!=Dl then
if up[qyw]!=null then
call DestroyTextTag(up[qyw])
endif
set up[qyw]=isw(xL(qyw),AF,DF,hq[eq[GetPlayerId(Ic[qyw])]]+" - |cff11cc00ready",11.)
endif
endif
elseif qs[qyw]!=null then
call DestroyEffect(qs[qyw])
set qs[qyw]=null
endif
endfunction
function xN takes unit hN returns nothing
local integer FN=GetHandleId(hN)
local trigger kN
local integer jN
if LoadTriggerHandle(lf,TO,FN)==null then
set kN=null
return
endif
set kN=LoadTriggerHandle(lf,TO,FN)
set jN=GetHandleId(kN)
call DestroyTrigger(kN)
call RemoveSavedHandle(lf,TO,FN)
call RemoveSavedHandle(lf,TO,jN)
set kN=null
endfunction
function LZ takes integer KZ returns nothing
call xN(uo[KZ])
call DestroyTrigger(ds[KZ])
call ayw(KZ)
if as[KZ]!=null then
call DestroyEffect(as[KZ])
set as[KZ]=null
endif
call ML(KZ)
endfunction
function Myw takes integer Nyw returns nothing
if oY[Nyw]==0 then
call tX("Double free: object of type BigSubString")
else
set iY[SY]=Nyw
set SY=SY+1
set oY[Nyw]=0
endif
endfunction
function Ydw takes integer ddw returns nothing
local integer fdw=ddw
local integer Rdw=ddw
local integer Tdw
call odw(qb[ddw])
set Tdw=tfw(ab[ddw])
loop
exitwhen Jy[Vy[Tdw]]==Cy[Tdw]
set Vy[Tdw]=Jy[Vy[Tdw]]
set ddw=Dy[Vy[Tdw]]
call Myw(nb[ddw])
call Myw(db[ddw])
if AG[ddw]==0 then
call tX("Double free: object of type Property")
else
set UG[IG]=ddw
set IG=IG+1
set AG[ddw]=0
endif
endloop
call Ndw(ab[Rdw])
if ZG[fdw]==0 then
call tX("Double free: object of type Json")
else
set QG[WG]=fdw
set WG=WG+1
set ZG[fdw]=0
endif
endfunction
function eYw takes integer pYw returns nothing
if rR[pYw]!=null then
call DestroyEffect(rR[pYw])
endif
if mT[pYw]==0 then
call tX("Double free: object of type TileData")
else
set jT[xT]=pYw
set xT=xT+1
set mT[pYw]=0
endif
endfunction
function A7 takes integer E7 returns nothing
local integer Z7=E7
local integer P7=tfw(Fe[E7])
local integer U7
local integer I7
loop
exitwhen Jy[Vy[P7]]==Cy[P7]
set Vy[P7]=Jy[Vy[P7]]
call eYw(Dy[Vy[P7]])
endloop
call odw(ke[Z7])
call Ndw(he[Z7])
call Ndw(Fe[Z7])
call DestroyTextTag(je[Z7])
set I7=xe[Z7]
set P7=I7
if rb[I7]!=0 then
call Iyw(rb[I7])
endif
if ob[I7]!=0 then
call Ydw(ob[I7])
endif
if Ob[I7]!=0 then
set U7=tfw(Ob[I7])
loop
exitwhen Jy[Vy[U7]]==Cy[U7]
set Vy[U7]=Jy[Vy[U7]]
call Myw(Dy[Vy[U7]])
endloop
call Ndw(Ob[P7])
endif
if mG[I7]==0 then
call tX("Double free: object of type JsonParser")
else
set jG[xG]=I7
set xG=xG+1
set mG[I7]=0
endif
set I7=ve[Z7]
set U7=I7
if rb[I7]!=0 then
call Iyw(rb[I7])
endif
if ob[I7]!=0 then
call Ydw(ob[I7])
endif
if Ob[I7]!=0 then
set P7=tfw(Ob[I7])
loop
exitwhen Jy[Vy[P7]]==Cy[P7]
set Vy[P7]=Jy[Vy[P7]]
call Myw(Dy[Vy[P7]])
endloop
call Ndw(Ob[U7])
endif
if mG[I7]==0 then
call tX("Double free: object of type JsonParser")
else
set jG[xG]=I7
set xG=xG+1
set mG[I7]=0
endif
call LZ(Z7)
if mT[E7]==0 then
call tX("Double free: object of type MemoryAccessPedestal")
else
set jT[xT]=E7
set xT=xT+1
set mT[E7]=0
endif
endfunction
function edw takes integer ydw,integer pdw returns nothing
call RemoveSavedInteger(lf,ydw,pdw)
endfunction
function tdw takes integer sdw returns nothing
call SetUnitPosition(xl[sdw],2147483647.,2147483647.)
call Lnw(sdw)
endfunction
function AX takes integer IX returns nothing
local integer PX
set co[lo[IX]]=0
if po[IX]!=0 then
call tdw(po[IX])
set po[IX]=0
endif
if ao[IX]!=null then
set PX=bdw(do,GetHandleId(ao[IX]))
if OG[PX]==0 then
call tX("Double free: object of type SensorListener")
else
set SG[cG]=PX
set cG=cG+1
set OG[PX]=0
endif
call edw(do,GetHandleId(ao[IX]))
call xN(no[IX])
endif
if jl[IX]then
call tdw(kl[IX])
else
call Lnw(kl[IX])
endif
call FL(IX)
if mT[IX]==0 then
call tX("Double free: object of type Portal")
else
set jT[xT]=IX
set xT=xT+1
set mT[IX]=0
endif
endfunction
function Pdw takes integer Udw returns nothing
local image Idw=Wb[Udw]
if Idw!=null then
call DestroyImage(Idw)
else
call tX("Nullpointer exeption by destroying an image")
endif
if rg[Udw]==0 then
call tX("Double free: object of type Goo")
else
set MG[wg]=Udw
set wg=wg+1
set rg[Udw]=0
endif
set Idw=null
endfunction
function cI takes integer iI,integer SI returns integer
set SI=R4(2,SI)
if ModuloInteger(iI,SI*2)>=SI then
return iI-SI
else
return iI
endif
endfunction
function B2 takes integer A2 returns nothing
local integer D2=A2
local integer H2=0
local integer J2
local integer K2
local integer L2
local integer X2
local integer C2
local integer V2
loop
exitwhen H2>4
if H2<0 or H2>=5 then
call tX("Index out of Bounds")
elseif H2<=2 then
if H2<=1 then
if H2<=0 then
set L2=aF[D2]
else
set L2=nF[D2]
endif
else
set L2=dF[D2]
endif
elseif H2<=3 then
set L2=fF[D2]
else
set L2=RF[D2]
endif
if L2!=0 then
if H2<0 or H2>=5 then
call tX("Index out of Bounds")
elseif H2<=2 then
if H2<=1 then
if H2<=0 then
set X2=aF[D2]
else
set X2=nF[D2]
endif
else
set X2=dF[D2]
endif
elseif H2<=3 then
set X2=fF[D2]
else
set X2=RF[D2]
endif
set J2=Eb[X2]
if H2<0 or H2>=5 then
call tX("Index out of Bounds")
elseif H2<=2 then
if H2<=1 then
if H2<=0 then
set C2=aF[D2]
else
set C2=nF[D2]
endif
else
set C2=dF[D2]
endif
elseif H2<=3 then
set C2=fF[D2]
else
set C2=RF[D2]
endif
set K2=Zb[C2]
call SaveInteger(yf,J2,K2,cI(LoadInteger(yf,J2,K2),2))
if H2<0 or H2>=5 then
call tX("Index out of Bounds")
elseif H2<=2 then
if H2<=1 then
if H2<=0 then
set V2=aF[D2]
else
set V2=nF[D2]
endif
else
set V2=dF[D2]
endif
elseif H2<=3 then
set V2=fF[D2]
else
set V2=RF[D2]
endif
call Pdw(V2)
endif
set H2=H2+1
endloop
call LZ(D2)
if mT[A2]==0 then
call tX("Double free: object of type Jumper")
else
set jT[xT]=A2
set xT=xT+1
set mT[A2]=0
endif
endfunction
function Bcw takes integer Ccw returns nothing
local unit Vcw=bR[Ccw]
call SetUnitUserData(Vcw,0)
call RemoveUnit(Vcw)
call ML(Ccw)
if mT[Ccw]==0 then
call tX("Double free: object of type Tracks")
else
set jT[xT]=Ccw
set xT=xT+1
set mT[Ccw]=0
endif
set Vcw=null
endfunction
function J4 takes integer D4 returns nothing
local unit H4=Vl[D4]
call SetUnitUserData(H4,0)
call RemoveUnit(H4)
if Bl[D4]!=null then
call SetItemUserData(Bl[D4],0)
call RemoveItem(Bl[D4])
endif
call FL(D4)
set H4=null
endfunction
function Juw takes integer Duw returns nothing
local unit Huw
call xN(vn[Duw])
set Huw=vn[Duw]
call SetUnitUserData(Huw,0)
call RemoveUnit(Huw)
set vn[Duw]=null
if mn[Duw]!=null then
call DestroyTrigger(mn[Duw])
set mn[Duw]=null
endif
call ML(Duw)
set Huw=null
endfunction
function M0w takes integer N0w returns nothing
if jl[N0w]then
call tdw(kl[N0w])
else
call Lnw(kl[N0w])
endif
call FL(N0w)
endfunction
function ON takes integer oN returns nothing
call DestroyEffect(Xo[oN])
call DestroyEffect(Co[oN])
call l6(Wo,oN)
call ML(oN)
endfunction
function Qww takes integer Fww returns nothing
local hashtable kww=yf
local integer jww=sww(xc[Fww])
local integer xww=sww(vc[Fww])
local hashtable vww=yf
local integer mww=sww(xc[Fww])
call SaveInteger(kww,jww,xww,cI(LoadInteger(vww,mww,sww(vc[Fww])),4))
call Juw(Fww)
if mT[Fww]==0 then
call tX("Double free: object of type RevivePoint")
else
set jT[xT]=Fww
set xT=xT+1
set mT[Fww]=0
endif
set kww=null
set vww=null
endfunction
function SSw takes integer iSw returns nothing
if Kf[iSw]!=null then
call DestroyTextTag(Kf[iSw])
endif
call LZ(iSw)
if mT[iSw]==0 then
call tX("Double free: object of type Texter")
else
set jT[xT]=iSw
set xT=xT+1
set mT[iSw]=0
endif
endfunction
function T5 takes integer R5 returns nothing
if wy[R5]!=0 then
call tdw(wy[R5])
endif
set Mb[R5]=0
if Nb[R5]!=null then
call DestroyEffect(Nb[R5])
endif
call J4(R5)
if mT[R5]==0 then
call tX("Double free: object of type Key")
else
set jT[xT]=R5
set xT=xT+1
set mT[R5]=0
endif
endfunction
function Utw takes integer Etw returns nothing
local integer Ztw
if not qf[Etw]then
set Ztw=LoadInteger(yf,pf[Etw],ef[Etw])
set Ztw=cI(Ztw,1)
call SaveInteger(yf,pf[Etw],ef[Etw],Ztw)
endif
call LZ(Etw)
if mT[Etw]==0 then
call tX("Double free: object of type TerrainBlocker")
else
set jT[xT]=Etw
set xT=xT+1
set mT[Etw]=0
endif
endfunction
function Wuw takes integer muw returns nothing
local unit Quw=Fn[muw]
call SetUnitUserData(Quw,0)
call RemoveUnit(Quw)
set Fn[muw]=null
call ML(muw)
set Quw=null
endfunction
function VI takes integer CI returns nothing
call Wuw(CI)
if mT[CI]==0 then
call tX("Double free: object of type Boss")
else
set jT[xT]=CI
set xT=xT+1
set mT[CI]=0
endif
endfunction
function XI takes integer LI returns nothing
call l6(bdw(Ot,GetPlayerId(Ic[LI])),LI)
call Wuw(LI)
if mT[LI]==0 then
call tX("Double free: object of type SpellTarget")
else
set jT[xT]=LI
set xT=xT+1
set mT[LI]=0
endif
endfunction
function a6 takes integer q6 returns nothing
if up[q6]!=null then
call DestroyTextTag(up[q6])
endif
call LZ(q6)
if mT[q6]==0 then
call tX("Double free: object of type LobbyTeleporter")
else
set jT[xT]=q6
set xT=xT+1
set mT[q6]=0
endif
endfunction
function aI takes integer qI returns nothing
call SetUnitUserData(Us[qI],0)
call RemoveUnit(Us[qI])
call ML(qI)
if mT[qI]==0 then
call tX("Double free: object of type Bomber")
else
set jT[xT]=qI
set xT=xT+1
set mT[qI]=0
endif
endfunction
function bew takes integer lew returns nothing
if Zi[lew]!=0 then
set Ui[Zi[lew]]=Ui[lew]
endif
if Ui[lew]!=0 then
set Zi[Ui[lew]]=Zi[lew]
endif
if mi[Pi[lew]]==lew then
set mi[Pi[lew]]=Zi[lew]
endif
if (not Ac[Ii[lew]])and uo[Ii[lew]]!=null then
call UnitAddAbility(Fn[Ii[lew]],1093677131)
endif
if FY[lew]==0 then
call tX("Double free: object of type CongaSegment")
else
set GY[gY]=lew
set gY=gY+1
set FY[lew]=0
endif
endfunction
function dH takes integer qH returns nothing
local integer aH=qH
local integer nH=mi[qH]
loop
exitwhen nH==0
call bew(nH)
set nH=Zi[nH]
endloop
call Wuw(aH)
if mT[qH]==0 then
call tX("Double free: object of type CongaLineHead")
else
set jT[xT]=qH
set xT=xT+1
set mT[qH]=0
endif
endfunction
function frw takes integer arw returns nothing
local integer nrw=arw
local integer drw=ad[arw]
set ad[arw]=0
loop
exitwhen drw==0
call dTw(drw)
set drw=bd[drw]
endloop
call Wuw(nrw)
if mT[arw]==0 then
call tX("Double free: object of type Spinner")
else
set jT[xT]=arw
set xT=xT+1
set mT[arw]=0
endif
endfunction
function lJ takes integer OJ returns nothing
call SetUnitUserData(DS[OJ],0)
call RemoveUnit(DS[OJ])
call Juw(OJ)
if mT[OJ]==0 then
call tX("Double free: object of type Door")
else
set jT[xT]=OJ
set xT=xT+1
set mT[OJ]=0
endif
endfunction
function mM takes integer vM returns nothing
if ZO[vM]!=null then
call RemoveRect(ZO[vM])
endif
if UO[vM]!=null then
call edw(RO,GetHandleId(UO[vM]))
call RemoveRegion(UO[vM])
endif
if BO[vM]!=null then
call RemoveDestructable(BO[vM])
endif
call LZ(vM)
if mT[vM]==0 then
call tX("Double free: object of type Executer")
else
set jT[xT]=vM
set xT=xT+1
set mT[vM]=0
endif
endfunction
function oow takes integer Mcw returns nothing
local integer wow=Mcw
local integer uow=0
local integer row
local integer sow
local integer tow
local integer iow
local integer Sow
local integer cow
loop
exitwhen uow>4
if uow<0 or uow>=5 then
call tX("Index out of Bounds")
elseif uow<=2 then
if uow<=1 then
if uow<=0 then
set tow=WF[wow]
else
set tow=EF[wow]
endif
else
set tow=ZF[wow]
endif
elseif uow<=3 then
set tow=UF[wow]
else
set tow=IF[wow]
endif
if tow!=0 then
if uow<0 or uow>=5 then
call tX("Index out of Bounds")
elseif uow<=2 then
if uow<=1 then
if uow<=0 then
set iow=WF[wow]
else
set iow=EF[wow]
endif
else
set iow=ZF[wow]
endif
elseif uow<=3 then
set iow=UF[wow]
else
set iow=IF[wow]
endif
set row=Eb[iow]
if uow<0 or uow>=5 then
call tX("Index out of Bounds")
elseif uow<=2 then
if uow<=1 then
if uow<=0 then
set Sow=WF[wow]
else
set Sow=EF[wow]
endif
else
set Sow=ZF[wow]
endif
elseif uow<=3 then
set Sow=UF[wow]
else
set Sow=IF[wow]
endif
set sow=Zb[Sow]
call SaveInteger(yf,row,sow,cI(LoadInteger(yf,row,sow),2))
if uow<0 or uow>=5 then
call tX("Index out of Bounds")
elseif uow<=2 then
if uow<=1 then
if uow<=0 then
set cow=WF[wow]
else
set cow=EF[wow]
endif
else
set cow=ZF[wow]
endif
elseif uow<=3 then
set cow=UF[wow]
else
set cow=IF[wow]
endif
call Pdw(cow)
endif
set uow=uow+1
endloop
call LZ(wow)
if mT[Mcw]==0 then
call tX("Double free: object of type Trap")
else
set jT[xT]=Mcw
set xT=xT+1
set mT[Mcw]=0
endif
endfunction
function TH takes integer RH returns nothing
if not SS[RH]then
return
endif
set Di=Di-1
if Di==0 then
call PauseTimer(Hi)
endif
set Ai[iS[RH]]=Ai[Di]
set iS[Ai[Di]]=iS[RH]
set SS[RH]=false
endfunction
function pew takes integer yew returns nothing
if Ji[yew]!=null then
call DestroyTextTag(Ji[yew])
endif
if SS[yew]then
call TH(yew)
endif
if vY[yew]==0 then
call tX("Double free: object of type CustomBar")
else
set kY[jY]=yew
set jY=jY+1
set vY[yew]=0
endif
endfunction
function t0w takes integer u0w returns nothing
local integer r0w=u0w
local integer s0w=pa[u0w]
loop
exitwhen s0w==0
call Lfw(s0w)
set s0w=Sa[s0w]
endloop
call Wuw(r0w)
if mT[u0w]==0 then
call tX("Double free: object of type Powernode")
else
set jT[xT]=u0w
set xT=xT+1
set mT[u0w]=0
endif
endfunction
function xV takes integer kV returns nothing
local integer jV
if vo[kV]!=null then
set jV=bdw(Qo,GetHandleId(vo[kV]))
if OG[jV]==0 then
call tX("Double free: object of type SensorListener")
else
set SG[cG]=jV
set cG=cG+1
set OG[jV]=0
endif
call edw(Qo,GetHandleId(vo[kV]))
call xN(mo[kV])
endif
call Wuw(kV)
endfunction
function yN takes integer lN returns nothing
local unit bN
set OO[nO[lN]]=0
set bN=uo[nO[lN]]
call UnitRemoveAbility(bN,1093679172)
call UnitAddAbility(bN,Ba[Gww(nO[lN])])
call M0w(lN)
if mT[lN]==0 then
call tX("Double free: object of type OrbProjectile")
else
set jT[xT]=lN
set xT=xT+1
set mT[lN]=0
endif
set bN=null
endfunction
function bL takes integer lL returns nothing
if not Ac[lL]then
set Ac[lL]=true
if mT[lL]<=736 then
if mT[lL]<=715 then
if mT[lL]<=705 then
if mT[lL]<=700 then
if mT[lL]<=697 then
if mT[lL]<=696 then
if mT[lL]<=695 then
call FL(lL)
if mT[lL]==0 then
call tX("Double free: object of type Entity")
else
set jT[xT]=lL
set xT=xT+1
set mT[lL]=0
endif
else
if jl[lL]then
call tdw(kl[lL])
else
call Lnw(kl[lL])
endif
call FL(lL)
if mT[lL]==0 then
call tX("Double free: object of type FxEntity")
else
set jT[xT]=lL
set xT=xT+1
set mT[lL]=0
endif
endif
else
call AX(lL)
endif
elseif mT[lL]<=699 then
if mT[lL]<=698 then
call M0w(lL)
if mT[lL]==0 then
call tX("Double free: object of type Projectile")
else
set jT[xT]=lL
set xT=xT+1
set mT[lL]=0
endif
else
call yN(lL)
endif
else
call M0w(lL)
if mT[lL]==0 then
call tX("Double free: object of type HomingProjectile")
else
set jT[xT]=lL
set xT=xT+1
set mT[lL]=0
endif
endif
elseif mT[lL]<=703 then
if mT[lL]<=702 then
if mT[lL]<=701 then
call M0w(lL)
if mT[lL]==0 then
call tX("Double free: object of type BossMissile")
else
set jT[xT]=lL
set xT=xT+1
set mT[lL]=0
endif
else
call M0w(lL)
if mT[lL]==0 then
call tX("Double free: object of type AirPhysicsProjectile")
else
set jT[xT]=lL
set xT=xT+1
set mT[lL]=0
endif
endif
else
call M0w(lL)
if mT[lL]==0 then
call tX("Double free: object of type BallProjectile")
else
set jT[xT]=lL
set xT=xT+1
set mT[lL]=0
endif
endif
elseif mT[lL]<=704 then
call M0w(lL)
if mT[lL]==0 then
call tX("Double free: object of type Boomerang")
else
set jT[xT]=lL
set xT=xT+1
set mT[lL]=0
endif
else
call J4(lL)
if mT[lL]==0 then
call tX("Double free: object of type ItemObject")
else
set jT[xT]=lL
set xT=xT+1
set mT[lL]=0
endif
endif
elseif mT[lL]<=710 then
if mT[lL]<=708 then
if mT[lL]<=707 then
if mT[lL]<=706 then
call J4(lL)
if mT[lL]==0 then
call tX("Double free: object of type WeaponObject")
else
set jT[xT]=lL
set xT=xT+1
set mT[lL]=0
endif
else
call J4(lL)
if mT[lL]==0 then
call tX("Double free: object of type Boots")
else
set jT[xT]=lL
set xT=xT+1
set mT[lL]=0
endif
endif
else
call T5(lL)
endif
elseif mT[lL]<=709 then
call J4(lL)
if mT[lL]==0 then
call tX("Double free: object of type BallItem")
else
set jT[xT]=lL
set xT=xT+1
set mT[lL]=0
endif
else
call J4(lL)
if mT[lL]==0 then
call tX("Double free: object of type Tome")
else
set jT[xT]=lL
set xT=xT+1
set mT[lL]=0
endif
endif
elseif mT[lL]<=713 then
if mT[lL]<=712 then
if mT[lL]<=711 then
call J4(lL)
if mT[lL]==0 then
call tX("Double free: object of type Coin")
else
set jT[xT]=lL
set xT=xT+1
set mT[lL]=0
endif
else
call ML(lL)
if mT[lL]==0 then
call tX("Double free: object of type UnitEntity")
else
set jT[xT]=lL
set xT=xT+1
set mT[lL]=0
endif
endif
else
call Juw(lL)
if mT[lL]==0 then
call tX("Double free: object of type StaticSetupObject")
else
set jT[xT]=lL
set xT=xT+1
set mT[lL]=0
endif
endif
elseif mT[lL]<=714 then
call Juw(lL)
if mT[lL]==0 then
call tX("Double free: object of type Decoration")
else
set jT[xT]=lL
set xT=xT+1
set mT[lL]=0
endif
else
call lJ(lL)
endif
elseif mT[lL]<=726 then
if mT[lL]<=721 then
if mT[lL]<=718 then
if mT[lL]<=717 then
if mT[lL]<=716 then
call Juw(lL)
if mT[lL]==0 then
call tX("Double free: object of type Fountain")
else
set jT[xT]=lL
set xT=xT+1
set mT[lL]=0
endif
else
call Qww(lL)
endif
else
call aI(lL)
endif
elseif mT[lL]<=720 then
if mT[lL]<=719 then
call RemoveDestructable(vR[lL])
call ML(lL)
if mT[lL]==0 then
call tX("Double free: object of type Tree")
else
set jT[xT]=lL
set xT=xT+1
set mT[lL]=0
endif
else
call LZ(lL)
if mT[lL]==0 then
call tX("Double free: object of type StaticBaseObject")
else
set jT[xT]=lL
set xT=xT+1
set mT[lL]=0
endif
endif
else
call LZ(lL)
if mT[lL]==0 then
call tX("Double free: object of type Booster")
else
set jT[xT]=lL
set xT=xT+1
set mT[lL]=0
endif
endif
elseif mT[lL]<=724 then
if mT[lL]<=723 then
if mT[lL]<=722 then
call oow(lL)
else
call LZ(lL)
if mT[lL]==0 then
call tX("Double free: object of type Teleporter")
else
set jT[xT]=lL
set xT=xT+1
set mT[lL]=0
endif
endif
else
call LZ(lL)
if mT[lL]==0 then
call tX("Double free: object of type BossDamager")
else
set jT[xT]=lL
set xT=xT+1
set mT[lL]=0
endif
endif
elseif mT[lL]<=725 then
call B2(lL)
else
call LZ(lL)
if mT[lL]==0 then
call tX("Double free: object of type UnitProducer")
else
set jT[xT]=lL
set xT=xT+1
set mT[lL]=0
endif
endif
elseif mT[lL]<=731 then
if mT[lL]<=729 then
if mT[lL]<=728 then
if mT[lL]<=727 then
call mM(lL)
else
call A7(lL)
endif
else
call Lnw(us[lL])
call LZ(lL)
if mT[lL]==0 then
call tX("Double free: object of type Arcanery")
else
set jT[xT]=lL
set xT=xT+1
set mT[lL]=0
endif
endif
elseif mT[lL]<=730 then
call LZ(lL)
if mT[lL]==0 then
call tX("Double free: object of type Waypoint")
else
set jT[xT]=lL
set xT=xT+1
set mT[lL]=0
endif
else
call LZ(lL)
if mT[lL]==0 then
call tX("Double free: object of type UnitCreator")
else
set jT[xT]=lL
set xT=xT+1
set mT[lL]=0
endif
endif
elseif mT[lL]<=734 then
if mT[lL]<=733 then
if mT[lL]<=732 then
call SSw(lL)
else
call LZ(lL)
if mT[lL]==0 then
call tX("Double free: object of type Wall")
else
set jT[xT]=lL
set xT=xT+1
set mT[lL]=0
endif
endif
else
call a6(lL)
endif
elseif mT[lL]<=735 then
call RemoveUnit(Cs[lL])
call LZ(lL)
if mT[lL]==0 then
call tX("Double free: object of type Bombertower")
else
set jT[xT]=lL
set xT=xT+1
set mT[lL]=0
endif
else
call Utw(lL)
endif
elseif mT[lL]<=757 then
if mT[lL]<=747 then
if mT[lL]<=742 then
if mT[lL]<=739 then
if mT[lL]<=738 then
if mT[lL]<=737 then
call LZ(lL)
if mT[lL]==0 then
call tX("Double free: object of type UnitRemover")
else
set jT[xT]=lL
set xT=xT+1
set mT[lL]=0
endif
else
call ML(lL)
if mT[lL]==0 then
call tX("Double free: object of type Vortex")
else
set jT[xT]=lL
set xT=xT+1
set mT[lL]=0
endif
endif
else
call Bcw(lL)
endif
elseif mT[lL]<=741 then
if mT[lL]<=740 then
call ML(lL)
if mT[lL]==0 then
call tX("Double free: object of type SetupBox")
else
set jT[xT]=lL
set xT=xT+1
set mT[lL]=0
endif
else
call Wuw(lL)
if mT[lL]==0 then
call tX("Double free: object of type SetupObject")
else
set jT[xT]=lL
set xT=xT+1
set mT[lL]=0
endif
endif
else
call Wuw(lL)
if mT[lL]==0 then
call tX("Double free: object of type BomberTarget")
else
set jT[xT]=lL
set xT=xT+1
set mT[lL]=0
endif
endif
elseif mT[lL]<=745 then
if mT[lL]<=744 then
if mT[lL]<=743 then
call xV(lL)
if mT[lL]==0 then
call tX("Double free: object of type EscaperSensorSetup")
else
set jT[xT]=lL
set xT=xT+1
set mT[lL]=0
endif
else
call pew(Yp[lL])
call xV(lL)
if mT[lL]==0 then
call tX("Double free: object of type Minion")
else
set jT[xT]=lL
set xT=xT+1
set mT[lL]=0
endif
endif
else
call xV(lL)
if mT[lL]==0 then
call tX("Double free: object of type SmallKiller")
else
set jT[xT]=lL
set xT=xT+1
set mT[lL]=0
endif
endif
elseif mT[lL]<=746 then
call xV(lL)
if mT[lL]==0 then
call tX("Double free: object of type SmallRandomKiller")
else
set jT[xT]=lL
set xT=xT+1
set mT[lL]=0
endif
else
call xV(lL)
if mT[lL]==0 then
call tX("Double free: object of type TankKiller")
else
set jT[xT]=lL
set xT=xT+1
set mT[lL]=0
endif
endif
elseif mT[lL]<=752 then
if mT[lL]<=750 then
if mT[lL]<=749 then
if mT[lL]<=748 then
call xV(lL)
if mT[lL]==0 then
call tX("Double free: object of type BigKiller")
else
set jT[xT]=lL
set xT=xT+1
set mT[lL]=0
endif
else
call xV(lL)
if mT[lL]==0 then
call tX("Double free: object of type FireKiller")
else
set jT[xT]=lL
set xT=xT+1
set mT[lL]=0
endif
endif
else
call xV(lL)
if mT[lL]==0 then
call tX("Double free: object of type AirKiller")
else
set jT[xT]=lL
set xT=xT+1
set mT[lL]=0
endif
endif
elseif mT[lL]<=751 then
call xV(lL)
if mT[lL]==0 then
call tX("Double free: object of type BigRandomKiller")
else
set jT[xT]=lL
set xT=xT+1
set mT[lL]=0
endif
else
call xV(lL)
if mT[lL]==0 then
call tX("Double free: object of type Faceless")
else
set jT[xT]=lL
set xT=xT+1
set mT[lL]=0
endif
endif
elseif mT[lL]<=755 then
if mT[lL]<=754 then
if mT[lL]<=753 then
call xV(lL)
if mT[lL]==0 then
call tX("Double free: object of type Pointer")
else
set jT[xT]=lL
set xT=xT+1
set mT[lL]=0
endif
else
call xV(lL)
if mT[lL]==0 then
call tX("Double free: object of type Obstacle")
else
set jT[xT]=lL
set xT=xT+1
set mT[lL]=0
endif
endif
else
call xV(lL)
if mT[lL]==0 then
call tX("Double free: object of type BigObstacle")
else
set jT[xT]=lL
set xT=xT+1
set mT[lL]=0
endif
endif
elseif mT[lL]<=756 then
call xV(lL)
if mT[lL]==0 then
call tX("Double free: object of type SmallObstacle")
else
set jT[xT]=lL
set xT=xT+1
set mT[lL]=0
endif
else
call xV(lL)
if mT[lL]==0 then
call tX("Double free: object of type VolcanoObstacle")
else
set jT[xT]=lL
set xT=xT+1
set mT[lL]=0
endif
endif
elseif mT[lL]<=767 then
if mT[lL]<=762 then
if mT[lL]<=760 then
if mT[lL]<=759 then
if mT[lL]<=758 then
call xV(lL)
if mT[lL]==0 then
call tX("Double free: object of type Knockbacker")
else
set jT[xT]=lL
set xT=xT+1
set mT[lL]=0
endif
else
call xV(lL)
if mT[lL]==0 then
call tX("Double free: object of type GlaiveKiller")
else
set jT[xT]=lL
set xT=xT+1
set mT[lL]=0
endif
endif
else
call t0w(lL)
endif
elseif mT[lL]<=761 then
call VI(lL)
else
call dH(lL)
endif
elseif mT[lL]<=765 then
if mT[lL]<=764 then
if mT[lL]<=763 then
call Wuw(lL)
if mT[lL]==0 then
call tX("Double free: object of type TerrainChanger")
else
set jT[xT]=lL
set xT=xT+1
set mT[lL]=0
endif
else
call Wuw(lL)
if mT[lL]==0 then
call tX("Double free: object of type TeleporterTarget")
else
set jT[xT]=lL
set xT=xT+1
set mT[lL]=0
endif
endif
else
call XI(lL)
endif
elseif mT[lL]<=766 then
call frw(lL)
else
call ML(lL)
if mT[lL]==0 then
call tX("Double free: object of type Spaceship")
else
set jT[xT]=lL
set xT=xT+1
set mT[lL]=0
endif
endif
elseif mT[lL]<=772 then
if mT[lL]<=770 then
if mT[lL]<=769 then
if mT[lL]<=768 then
call ML(lL)
if mT[lL]==0 then
call tX("Double free: object of type Builder")
else
set jT[xT]=lL
set xT=xT+1
set mT[lL]=0
endif
else
call A8(lL)
endif
else
call ON(lL)
if mT[lL]==0 then
call tX("Double free: object of type Escaper")
else
set jT[xT]=lL
set xT=xT+1
set mT[lL]=0
endif
endif
elseif mT[lL]<=771 then
call ON(lL)
if mT[lL]==0 then
call tX("Double free: object of type HolyEscaper")
else
set jT[xT]=lL
set xT=xT+1
set mT[lL]=0
endif
else
call ON(lL)
if mT[lL]==0 then
call tX("Double free: object of type StrongEscaper")
else
set jT[xT]=lL
set xT=xT+1
set mT[lL]=0
endif
endif
elseif mT[lL]<=775 then
if mT[lL]<=774 then
if mT[lL]<=773 then
call ON(lL)
if mT[lL]==0 then
call tX("Double free: object of type BlindEscaper")
else
set jT[xT]=lL
set xT=xT+1
set mT[lL]=0
endif
else
call ON(lL)
if mT[lL]==0 then
call tX("Double free: object of type IceEscaper")
else
set jT[xT]=lL
set xT=xT+1
set mT[lL]=0
endif
endif
else
call ON(lL)
if mT[lL]==0 then
call tX("Double free: object of type FastEscaper")
else
set jT[xT]=lL
set xT=xT+1
set mT[lL]=0
endif
endif
elseif mT[lL]<=776 then
call ML(lL)
if mT[lL]==0 then
call tX("Double free: object of type TerrainModder")
else
set jT[xT]=lL
set xT=xT+1
set mT[lL]=0
endif
else
call DestroyTextTag(Df[lL])
call FL(lL)
if mT[lL]==0 then
call tX("Double free: object of type TextTagEntity")
else
set jT[xT]=lL
set xT=xT+1
set mT[lL]=0
endif
endif
endif
endfunction
function kqw takes integer Fqw returns nothing
if mT[Fqw]<=717 then
if mT[Fqw]<=716 then
call bL(Fqw)
elseif ln!=Fqw then
call bL(Fqw)
endif
else
call bL(Fqw)
endif
endfunction
function sL takes unit wL returns real
local real uL=GetUnitX(wL)
local real rL=GetUnitY(wL)
set vk=uL
set mk=rL
set Qk=0.
return vk
endfunction
function VL takes integer LL,unit XL returns nothing
local boolean CL
call gL(LL,GetOwningPlayer(XL),sL(XL),mk,Qk,0)
set uo[LL]=null
set uo[LL]=XL
if not UnitAlive(XL) then
set CL=true
else
set CL=GetUnitUserData(XL)!=0
endif
if CL then
call tX("Entity aissgnment error: name: "+GetUnitName(XL)+" actor.isAlive(): "+gI(UnitAlive(XL))+", actor.getEntity() != null: "+gI(GetUnitUserData(XL)!=0))
call kqw(LL)
else
call SetUnitUserData(XL,LL)
call UnitAddAbility(XL,1097691750)
call UnitRemoveAbility(XL,1097691750)
call jOw(XL,xc[LL],vc[LL],mc[LL])
endif
endfunction
function Ylw takes real alw,real nlw,real dlw,real flw,real Rlw,real Tlw returns real
set wk=alw+flw
set uk=nlw+Rlw
set rk=dlw+Tlw
return wk
endfunction
function cN takes integer MB,real wN,real uN,real rN,player sN,integer tN returns nothing
local unit iN
local playerunitevent SN
call VL(MB,nOw(sN,tN,Ylw(wN,uN,rN,0.,0.,32.),uk,rk,0.))
set Po[MB]=0
set Ao[MB]=false
set Do[MB]=false
set Ho[MB]=false
set Jo[MB]=false
set Ko[MB]=false
set Lo[MB]=0
set Vo[MB]=0.
set Bo[MB]=0.
set No[MB]=0.
set Mo[MB]=0.
set wO[MB]=0.
set uO[MB]=0.
set rO[MB]=0
set sO[MB]=null
set tO[MB]=true
set iO[MB]=true
set SO[MB]=false
set cO[MB]=null
set oO[MB]=-1
set OO[MB]=0
set eO[MB]=true
set qO[MB]=0.
set aO[MB]=0.9
set iN=uo[MB]
call UnitAddAbility(iN,1097625443)
call ShowUnit(iN,false)
call UnitRemoveAbility(iN,1097625443)
call ShowUnit(iN,true)
call SetUnitPropWindow(uo[MB],60.)
set iN=uo[MB]
set SN=EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER
if HT==0 then
if JT<8191 then
set JT=JT+1
set tN=JT
set KT[tN]=797
else
call tX("Out of memory: Could not create Closure.")
set tN=0
endif
else
set HT=HT-1
set tN=DT[HT]
set KT[tN]=797
endif
set xO[tN]=0
set vO[tN]=0
set lO[tN]=MB
call MN(iN,SN,tN)
set iN=uo[MB]
set SN=EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER
if HT==0 then
if JT<8191 then
set JT=JT+1
set tN=JT
set KT[tN]=814
else
call tX("Out of memory: Could not create Closure.")
set tN=0
endif
else
set HT=HT-1
set tN=DT[HT]
set KT[tN]=814
endif
set xO[tN]=0
set vO[tN]=0
set bO[tN]=MB
call MN(iN,SN,tN)
set iN=uo[MB]
set SN=EVENT_PLAYER_UNIT_DEATH
if HT==0 then
if JT<8191 then
set JT=JT+1
set tN=JT
set KT[tN]=815
else
call tX("Out of memory: Could not create Closure.")
set tN=0
endif
else
set HT=HT-1
set tN=DT[HT]
set KT[tN]=815
endif
set xO[tN]=0
set vO[tN]=0
set yO[tN]=MB
call MN(iN,SN,tN)
set iN=uo[MB]
set SN=EVENT_PLAYER_UNIT_PICKUP_ITEM
if HT==0 then
if JT<8191 then
set JT=JT+1
set tN=JT
set KT[tN]=832
else
call tX("Out of memory: Could not create Closure.")
set tN=0
endif
else
set HT=HT-1
set tN=DT[HT]
set KT[tN]=832
endif
set xO[tN]=0
set vO[tN]=0
set pO[tN]=MB
call MN(iN,SN,tN)
call TriggerRegisterUnitEvent(Io,uo[MB],EVENT_UNIT_SPELL_EFFECT)
call Qaw(MB)
call ufw(Wo,MB)
if Ba[Gww(MB)]>0 then
call UnitAddAbility(uo[MB],Ba[Gww(MB)])
endif
set iN=null
set SN=null
endfunction
function UX takes real mX,real QX,real WX,player EX returns integer
local integer ZX
if xT==0 then
if vT<8191 then
set vT=vT+1
set ZX=vT
set mT[ZX]=774
else
call tX("Out of memory: Could not create IceEscaper.")
set ZX=0
endif
else
set xT=xT-1
set ZX=jT[xT]
set mT[ZX]=774
endif
call cN(ZX,mX,QX,WX,EX,1211117637)
return ZX
endfunction
function fbw takes real ebw,real qbw,real abw,real nbw,real dbw returns real
return Atan2(dbw-qbw,nbw-ebw)
endfunction
function jaw takes integer haw returns real
local real Faw=Wc[haw]+Mo[haw]+uO[haw]+Bo[haw]
local real kaw=Ec[haw]
set qk=Qc[haw]+No[haw]+wO[haw]+Vo[haw]
set ak=Faw
set nk=kaw
return qk
endfunction
function Vaw takes integer Waw returns nothing
local integer Eaw=GetIssuedOrderId()
local widget Zaw=GetOrderTarget()
local real Uaw=GetOrderPointX()
local real Iaw=GetOrderPointY()
local real Paw=GetWidgetX(Zaw)
local real Aaw=GetWidgetY(Zaw)
local real Kaw=jaw(Waw)
local real Daw=ak
local real Haw=ulw(xc[Waw],vc[Waw],Atan2(Daw,Kaw)-90.*0.017453293,18.)
local real Jaw=tk
local integer Law
local integer Xaw
local integer Caw
set Daw=ulw(xc[Waw],vc[Waw],Atan2(Daw,Kaw)+90.*0.017453293,18.)
set Kaw=tk
set Law=GetTerrainType(Haw,Jaw)
set Xaw=GetTerrainType(Daw,Kaw)
set Caw=Gww(Waw)
call hww(Pa[Caw])
if Law==KF then
call hww(Pa[Caw])
if Xaw==KF then
call hww(Pa[Caw])
set Xaw=KF
else
set Xaw=Xaw
endif
else
call hww(Pa[Caw])
if Xaw==KF then
set Xaw=Law
else
set Xaw=GetTerrainType(xc[Waw],vc[Waw])
endif
endif
if Xaw==1315529573 then
if Zaw==null then
call SetUnitFacing(uo[Waw],fbw(xc[Waw],vc[Waw],mc[Waw],Uaw,Iaw)*57.295779513)
else
call SetUnitFacing(uo[Waw],fbw(xc[Waw],vc[Waw],mc[Waw],Paw,Aaw)*57.295779513)
endif
elseif Xaw==1198285174 then
if OrderId2String(Eaw)=="lightningshield" then
call SetUnitFacing(uo[Waw],fbw(xc[Waw],vc[Waw],mc[Waw],Uaw,Iaw)*57.295779513)
elseif Zaw==null then
call SetUnitFacing(uo[Waw],(fbw(xc[Waw],vc[Waw],mc[Waw],Uaw,Iaw)-180*0.017453293)*57.295779513)
else
call SetUnitFacing(uo[Waw],(fbw(xc[Waw],vc[Waw],mc[Waw],Paw,Aaw)-180*0.017453293)*57.295779513)
endif
endif
set Zaw=null
endfunction
function WOw takes unit xOw,real vOw,real mOw,real QOw returns nothing
call SetUnitX(xOw,vOw)
call SetUnitY(xOw,mOw)
call MoveLocation(Pf,vOw,mOw)
call SetUnitFlyHeight(xOw,QOw-GetLocationZ(Pf),0.)
endfunction
function Www takes rect Fww,integer kww returns nothing
local real jww=GetRectMaxX(Fww)-32.
local real xww=GetRectMinX(Fww)+32.
local real vww=GetRectMaxY(Fww)-32.
local real mww=xww
local real Qww_2=GetRectMinY(Fww)+32.
loop
exitwhen Qww_2>vww
loop
exitwhen mww>jww
if not uI(LoadInteger(yf,sww(mww),sww(Qww_2)),4) then
call SetTerrainType(mww,Qww_2,kww,-1,1,1)
endif
set mww=mww+128.
endloop
set mww=xww
set Qww_2=Qww_2+128.
endloop
endfunction
function iK takes string uK,real rK,real sK,real tK returns nothing
call DestroyEffect(AddSpecialEffect(uK,rK,sK))
endfunction
function X7 takes integer D7,integer H7,boolean J7 returns nothing
local integer K7=mT[H7]
local real L7
if (K7>=770 and K7<=775)or mT[H7]==768 or mT[H7]==728 then
return
endif
set L7=qqw(H7)
if hRw(aww(L7,jk),Ic[D7]) then
set K7=tfw(he[D7])
loop
exitwhen Jy[Vy[K7]]==Cy[K7]
set Vy[K7]=Jy[Vy[K7]]
if Dy[Vy[K7]]==H7 then
if J7 then
set D7=t6(K7)
if mT[D7]<=736 then
if mT[D7]<=715 then
if mT[D7]<=705 then
if mT[D7]<=700 then
if mT[D7]<=697 then
if mT[D7]<=696 then
if mT[D7]<=695 then
call FL(D7)
if mT[D7]==0 then
call tX("Double free: object of type Entity")
else
set jT[xT]=D7
set xT=xT+1
set mT[D7]=0
endif
else
if jl[D7]then
call tdw(kl[D7])
else
call Lnw(kl[D7])
endif
call FL(D7)
if mT[D7]==0 then
call tX("Double free: object of type FxEntity")
else
set jT[xT]=D7
set xT=xT+1
set mT[D7]=0
endif
endif
else
call AX(D7)
endif
elseif mT[D7]<=699 then
if mT[D7]<=698 then
call M0w(D7)
if mT[D7]==0 then
call tX("Double free: object of type Projectile")
else
set jT[xT]=D7
set xT=xT+1
set mT[D7]=0
endif
else
call yN(D7)
endif
else
call M0w(D7)
if mT[D7]==0 then
call tX("Double free: object of type HomingProjectile")
else
set jT[xT]=D7
set xT=xT+1
set mT[D7]=0
endif
endif
elseif mT[D7]<=703 then
if mT[D7]<=702 then
if mT[D7]<=701 then
call M0w(D7)
if mT[D7]==0 then
call tX("Double free: object of type BossMissile")
else
set jT[xT]=D7
set xT=xT+1
set mT[D7]=0
endif
else
call M0w(D7)
if mT[D7]==0 then
call tX("Double free: object of type AirPhysicsProjectile")
else
set jT[xT]=D7
set xT=xT+1
set mT[D7]=0
endif
endif
else
call M0w(D7)
if mT[D7]==0 then
call tX("Double free: object of type BallProjectile")
else
set jT[xT]=D7
set xT=xT+1
set mT[D7]=0
endif
endif
elseif mT[D7]<=704 then
call M0w(D7)
if mT[D7]==0 then
call tX("Double free: object of type Boomerang")
else
set jT[xT]=D7
set xT=xT+1
set mT[D7]=0
endif
else
call J4(D7)
if mT[D7]==0 then
call tX("Double free: object of type ItemObject")
else
set jT[xT]=D7
set xT=xT+1
set mT[D7]=0
endif
endif
elseif mT[D7]<=710 then
if mT[D7]<=708 then
if mT[D7]<=707 then
if mT[D7]<=706 then
call J4(D7)
if mT[D7]==0 then
call tX("Double free: object of type WeaponObject")
else
set jT[xT]=D7
set xT=xT+1
set mT[D7]=0
endif
else
call J4(D7)
if mT[D7]==0 then
call tX("Double free: object of type Boots")
else
set jT[xT]=D7
set xT=xT+1
set mT[D7]=0
endif
endif
else
call T5(D7)
endif
elseif mT[D7]<=709 then
call J4(D7)
if mT[D7]==0 then
call tX("Double free: object of type BallItem")
else
set jT[xT]=D7
set xT=xT+1
set mT[D7]=0
endif
else
call J4(D7)
if mT[D7]==0 then
call tX("Double free: object of type Tome")
else
set jT[xT]=D7
set xT=xT+1
set mT[D7]=0
endif
endif
elseif mT[D7]<=713 then
if mT[D7]<=712 then
if mT[D7]<=711 then
call J4(D7)
if mT[D7]==0 then
call tX("Double free: object of type Coin")
else
set jT[xT]=D7
set xT=xT+1
set mT[D7]=0
endif
else
call ML(D7)
if mT[D7]==0 then
call tX("Double free: object of type UnitEntity")
else
set jT[xT]=D7
set xT=xT+1
set mT[D7]=0
endif
endif
else
call Juw(D7)
if mT[D7]==0 then
call tX("Double free: object of type StaticSetupObject")
else
set jT[xT]=D7
set xT=xT+1
set mT[D7]=0
endif
endif
elseif mT[D7]<=714 then
call Juw(D7)
if mT[D7]==0 then
call tX("Double free: object of type Decoration")
else
set jT[xT]=D7
set xT=xT+1
set mT[D7]=0
endif
else
call lJ(D7)
endif
elseif mT[D7]<=726 then
if mT[D7]<=721 then
if mT[D7]<=718 then
if mT[D7]<=717 then
if mT[D7]<=716 then
call Juw(D7)
if mT[D7]==0 then
call tX("Double free: object of type Fountain")
else
set jT[xT]=D7
set xT=xT+1
set mT[D7]=0
endif
else
call Qww(D7)
endif
else
call aI(D7)
endif
elseif mT[D7]<=720 then
if mT[D7]<=719 then
call RemoveDestructable(vR[D7])
call ML(D7)
if mT[D7]==0 then
call tX("Double free: object of type Tree")
else
set jT[xT]=D7
set xT=xT+1
set mT[D7]=0
endif
else
call LZ(D7)
if mT[D7]==0 then
call tX("Double free: object of type StaticBaseObject")
else
set jT[xT]=D7
set xT=xT+1
set mT[D7]=0
endif
endif
else
call LZ(D7)
if mT[D7]==0 then
call tX("Double free: object of type Booster")
else
set jT[xT]=D7
set xT=xT+1
set mT[D7]=0
endif
endif
elseif mT[D7]<=724 then
if mT[D7]<=723 then
if mT[D7]<=722 then
call oow(D7)
else
call LZ(D7)
if mT[D7]==0 then
call tX("Double free: object of type Teleporter")
else
set jT[xT]=D7
set xT=xT+1
set mT[D7]=0
endif
endif
else
call LZ(D7)
if mT[D7]==0 then
call tX("Double free: object of type BossDamager")
else
set jT[xT]=D7
set xT=xT+1
set mT[D7]=0
endif
endif
elseif mT[D7]<=725 then
call B2(D7)
else
call LZ(D7)
if mT[D7]==0 then
call tX("Double free: object of type UnitProducer")
else
set jT[xT]=D7
set xT=xT+1
set mT[D7]=0
endif
endif
elseif mT[D7]<=731 then
if mT[D7]<=729 then
if mT[D7]<=728 then
if mT[D7]<=727 then
call mM(D7)
else
call A7(D7)
endif
else
call Lnw(us[D7])
call LZ(D7)
if mT[D7]==0 then
call tX("Double free: object of type Arcanery")
else
set jT[xT]=D7
set xT=xT+1
set mT[D7]=0
endif
endif
elseif mT[D7]<=730 then
call LZ(D7)
if mT[D7]==0 then
call tX("Double free: object of type Waypoint")
else
set jT[xT]=D7
set xT=xT+1
set mT[D7]=0
endif
else
call LZ(D7)
if mT[D7]==0 then
call tX("Double free: object of type UnitCreator")
else
set jT[xT]=D7
set xT=xT+1
set mT[D7]=0
endif
endif
elseif mT[D7]<=734 then
if mT[D7]<=733 then
if mT[D7]<=732 then
call SSw(D7)
else
call LZ(D7)
if mT[D7]==0 then
call tX("Double free: object of type Wall")
else
set jT[xT]=D7
set xT=xT+1
set mT[D7]=0
endif
endif
else
call a6(D7)
endif
elseif mT[D7]<=735 then
call RemoveUnit(Cs[D7])
call LZ(D7)
if mT[D7]==0 then
call tX("Double free: object of type Bombertower")
else
set jT[xT]=D7
set xT=xT+1
set mT[D7]=0
endif
else
call Utw(D7)
endif
elseif mT[D7]<=757 then
if mT[D7]<=747 then
if mT[D7]<=742 then
if mT[D7]<=739 then
if mT[D7]<=738 then
if mT[D7]<=737 then
call LZ(D7)
if mT[D7]==0 then
call tX("Double free: object of type UnitRemover")
else
set jT[xT]=D7
set xT=xT+1
set mT[D7]=0
endif
else
call ML(D7)
if mT[D7]==0 then
call tX("Double free: object of type Vortex")
else
set jT[xT]=D7
set xT=xT+1
set mT[D7]=0
endif
endif
else
call Bcw(D7)
endif
elseif mT[D7]<=741 then
if mT[D7]<=740 then
call ML(D7)
if mT[D7]==0 then
call tX("Double free: object of type SetupBox")
else
set jT[xT]=D7
set xT=xT+1
set mT[D7]=0
endif
else
call Wuw(D7)
if mT[D7]==0 then
call tX("Double free: object of type SetupObject")
else
set jT[xT]=D7
set xT=xT+1
set mT[D7]=0
endif
endif
else
call Wuw(D7)
if mT[D7]==0 then
call tX("Double free: object of type BomberTarget")
else
set jT[xT]=D7
set xT=xT+1
set mT[D7]=0
endif
endif
elseif mT[D7]<=745 then
if mT[D7]<=744 then
if mT[D7]<=743 then
call xV(D7)
if mT[D7]==0 then
call tX("Double free: object of type EscaperSensorSetup")
else
set jT[xT]=D7
set xT=xT+1
set mT[D7]=0
endif
else
call pew(Yp[D7])
call xV(D7)
if mT[D7]==0 then
call tX("Double free: object of type Minion")
else
set jT[xT]=D7
set xT=xT+1
set mT[D7]=0
endif
endif
else
call xV(D7)
if mT[D7]==0 then
call tX("Double free: object of type SmallKiller")
else
set jT[xT]=D7
set xT=xT+1
set mT[D7]=0
endif
endif
elseif mT[D7]<=746 then
call xV(D7)
if mT[D7]==0 then
call tX("Double free: object of type SmallRandomKiller")
else
set jT[xT]=D7
set xT=xT+1
set mT[D7]=0
endif
else
call xV(D7)
if mT[D7]==0 then
call tX("Double free: object of type TankKiller")
else
set jT[xT]=D7
set xT=xT+1
set mT[D7]=0
endif
endif
elseif mT[D7]<=752 then
if mT[D7]<=750 then
if mT[D7]<=749 then
if mT[D7]<=748 then
call xV(D7)
if mT[D7]==0 then
call tX("Double free: object of type BigKiller")
else
set jT[xT]=D7
set xT=xT+1
set mT[D7]=0
endif
else
call xV(D7)
if mT[D7]==0 then
call tX("Double free: object of type FireKiller")
else
set jT[xT]=D7
set xT=xT+1
set mT[D7]=0
endif
endif
else
call xV(D7)
if mT[D7]==0 then
call tX("Double free: object of type AirKiller")
else
set jT[xT]=D7
set xT=xT+1
set mT[D7]=0
endif
endif
elseif mT[D7]<=751 then
call xV(D7)
if mT[D7]==0 then
call tX("Double free: object of type BigRandomKiller")
else
set jT[xT]=D7
set xT=xT+1
set mT[D7]=0
endif
else
call xV(D7)
if mT[D7]==0 then
call tX("Double free: object of type Faceless")
else
set jT[xT]=D7
set xT=xT+1
set mT[D7]=0
endif
endif
elseif mT[D7]<=755 then
if mT[D7]<=754 then
if mT[D7]<=753 then
call xV(D7)
if mT[D7]==0 then
call tX("Double free: object of type Pointer")
else
set jT[xT]=D7
set xT=xT+1
set mT[D7]=0
endif
else
call xV(D7)
if mT[D7]==0 then
call tX("Double free: object of type Obstacle")
else
set jT[xT]=D7
set xT=xT+1
set mT[D7]=0
endif
endif
else
call xV(D7)
if mT[D7]==0 then
call tX("Double free: object of type BigObstacle")
else
set jT[xT]=D7
set xT=xT+1
set mT[D7]=0
endif
endif
elseif mT[D7]<=756 then
call xV(D7)
if mT[D7]==0 then
call tX("Double free: object of type SmallObstacle")
else
set jT[xT]=D7
set xT=xT+1
set mT[D7]=0
endif
else
call xV(D7)
if mT[D7]==0 then
call tX("Double free: object of type VolcanoObstacle")
else
set jT[xT]=D7
set xT=xT+1
set mT[D7]=0
endif
endif
elseif mT[D7]<=768 then
if mT[D7]<=763 then
if mT[D7]<=760 then
if mT[D7]<=759 then
if mT[D7]<=758 then
call xV(D7)
if mT[D7]==0 then
call tX("Double free: object of type Knockbacker")
else
set jT[xT]=D7
set xT=xT+1
set mT[D7]=0
endif
else
call xV(D7)
if mT[D7]==0 then
call tX("Double free: object of type GlaiveKiller")
else
set jT[xT]=D7
set xT=xT+1
set mT[D7]=0
endif
endif
else
call t0w(D7)
endif
elseif mT[D7]<=762 then
if mT[D7]<=761 then
call VI(D7)
else
call dH(D7)
endif
else
call Wuw(D7)
if mT[D7]==0 then
call tX("Double free: object of type TerrainChanger")
else
set jT[xT]=D7
set xT=xT+1
set mT[D7]=0
endif
endif
elseif mT[D7]<=766 then
if mT[D7]<=765 then
if mT[D7]<=764 then
call Wuw(D7)
if mT[D7]==0 then
call tX("Double free: object of type TeleporterTarget")
else
set jT[xT]=D7
set xT=xT+1
set mT[D7]=0
endif
else
call XI(D7)
endif
else
call frw(D7)
endif
elseif mT[D7]<=767 then
call ML(D7)
if mT[D7]==0 then
call tX("Double free: object of type Spaceship")
else
set jT[xT]=D7
set xT=xT+1
set mT[D7]=0
endif
else
call ML(D7)
if mT[D7]==0 then
call tX("Double free: object of type Builder")
else
set jT[xT]=D7
set xT=xT+1
set mT[D7]=0
endif
endif
elseif mT[D7]<=773 then
if mT[D7]<=771 then
if mT[D7]<=770 then
if mT[D7]<=769 then
call A8(D7)
else
call ON(D7)
if mT[D7]==0 then
call tX("Double free: object of type Escaper")
else
set jT[xT]=D7
set xT=xT+1
set mT[D7]=0
endif
endif
else
call ON(D7)
if mT[D7]==0 then
call tX("Double free: object of type HolyEscaper")
else
set jT[xT]=D7
set xT=xT+1
set mT[D7]=0
endif
endif
elseif mT[D7]<=772 then
call ON(D7)
if mT[D7]==0 then
call tX("Double free: object of type StrongEscaper")
else
set jT[xT]=D7
set xT=xT+1
set mT[D7]=0
endif
else
call ON(D7)
if mT[D7]==0 then
call tX("Double free: object of type BlindEscaper")
else
set jT[xT]=D7
set xT=xT+1
set mT[D7]=0
endif
endif
elseif mT[D7]<=776 then
if mT[D7]<=775 then
if mT[D7]<=774 then
call ON(D7)
if mT[D7]==0 then
call tX("Double free: object of type IceEscaper")
else
set jT[xT]=D7
set xT=xT+1
set mT[D7]=0
endif
else
call ON(D7)
if mT[D7]==0 then
call tX("Double free: object of type FastEscaper")
else
set jT[xT]=D7
set xT=xT+1
set mT[D7]=0
endif
endif
else
call ML(D7)
if mT[D7]==0 then
call tX("Double free: object of type TerrainModder")
else
set jT[xT]=D7
set xT=xT+1
set mT[D7]=0
endif
endif
elseif mT[D7]<=777 then
call DestroyTextTag(Df[D7])
call FL(D7)
if mT[D7]==0 then
call tX("Double free: object of type TextTagEntity")
else
set jT[xT]=D7
set xT=xT+1
set mT[D7]=0
endif
else
if rR[D7]!=null then
call DestroyEffect(rR[D7])
endif
if mT[D7]==0 then
call tX("Double free: object of type TileData")
else
set jT[xT]=D7
set xT=xT+1
set mT[D7]=0
endif
endif
endif
return
endif
endloop
call ufw(he[D7],H7)
call iK("abilities\\spells\\human\\heal\\healtarget.mdx",qqw(H7),jk,xk)
set K7=mT[H7]
if K7>=705 and K7<=711 then
call MTw(ke[D7],H7,GetHandleId(AddSpecialEffectTarget("abilities\\spells\\human\\innerfire\\innerfiretarget.mdx",Vl[H7],"overhead")))
else
set K7=mT[H7]
if K7>=713 and K7<=717 then
call MTw(ke[D7],H7,GetHandleId(AddSpecialEffectTarget("abilities\\spells\\human\\innerfire\\innerfiretarget.mdx",vn[H7],"overhead")))
else
set K7=mT[H7]
if K7>=712 and K7<=776 then
call MTw(ke[D7],H7,GetHandleId(AddSpecialEffectTarget("abilities\\spells\\human\\innerfire\\innerfiretarget.mdx",uo[H7],"overhead")))
endif
endif
endif
endif
endfunction
function WYw takes integer vYw,integer mYw returns string
local string QYw
if mYw<0 or mYw>=10 then
call tX("Index out of Bounds")
elseif mYw<=4 then
if mYw<=2 then
if mYw<=1 then
if mYw<=0 then
set QYw=wF[vYw]
else
set QYw=uF[vYw]
endif
else
set QYw=rF[vYw]
endif
elseif mYw<=3 then
set QYw=sF[vYw]
else
set QYw=tF[vYw]
endif
elseif mYw<=7 then
if mYw<=6 then
if mYw<=5 then
set QYw=iF[vYw]
else
set QYw=SF[vYw]
endif
else
set QYw=cF[vYw]
endif
elseif mYw<=8 then
set QYw=oF[vYw]
else
set QYw=OF[vYw]
endif
return QYw
endfunction
function Xyw takes integer Hyw,string Jyw returns nothing
local integer Kyw
local integer Lyw
if StringLength(Jyw)>400 then
call tX("adding too long string")
endif
set Kyw=R2I((xs[Hyw]-vs[Hyw])*1./400)
if StringLength(WYw(Hyw,Kyw))+StringLength(Jyw)>400 then
set Lyw=400-StringLength(WYw(Hyw,Kyw))
call xYw(Hyw,Kyw,WYw(Hyw,Kyw)+SubString(Jyw,0,Lyw))
set Kyw=Kyw+1
call xYw(Hyw,Kyw,WYw(Hyw,Kyw)+SubString(Jyw,Lyw,StringLength(Jyw)))
else
call xYw(Hyw,Kyw,WYw(Hyw,Kyw)+Jyw)
endif
set xs[Hyw]=xs[Hyw]+StringLength(Jyw)
endfunction
function Z8 takes integer E8 returns integer
if Oq[E8]==0 then
return iq
endif
return Oq[E8]
endfunction
function rrw takes integer Nuw returns integer
local sound Muw
local integer wrw
local integer urw
if wp[Hn[Nuw]]>0 then
set wrw=Hn[Nuw]
set Nuw=Hy[Ny[wrw]]
set urw=Dy[Nuw]
set Jy[Hy[Nuw]]=Jy[Nuw]
set Hy[Jy[Nuw]]=Hy[Nuw]
call Jdw(Nuw)
set wp[wrw]=wp[wrw]-1
set Muw=null
return urw
else
if Rh==0 then
if Th<8191 then
set Th=Th+1
set wrw=Th
set Yh[wrw]=1093
else
call tX("Out of memory: Could not create SoundInstance.")
set wrw=0
endif
else
set Rh=Rh-1
set wrw=fh[Rh]
set Yh[wrw]=1093
endif
set Mn[wrw]=0.
set wd[wrw]=0.
set ud[wrw]=0.
set td[wrw]=null
set id[wrw]=null
set Sd[wrw]=0
set rd[wrw]=CreateSound(Jn[Nuw],Ln[Nuw],Xn[Nuw],Cn[Nuw],Vn[Nuw],Bn[Nuw],Nn[Nuw])
set sd[wrw]=Nuw
set Muw=rd[wrw]
call SetSoundDuration(Muw,Kn[Nuw])
call SetSoundChannel(Muw,5)
call SetSoundVolume(Muw,127)
call SetSoundPitch(Muw,1.)
if Xn[Nuw]then
call SetSoundDistances(rd[wrw],600.,8000.)
call SetSoundDistanceCutoff(rd[wrw],1500.)
call SetSoundConeAngles(rd[wrw],0.,0.,127)
call SetSoundConeOrientation(rd[wrw],0.,0.,0.)
endif
set Muw=null
return wrw
endif
endfunction
function aTw takes integer eTw returns integer
local timer qTw
set Kn[eTw]=10000
set eTw=rrw(eTw)
set qTw=Hcw()
call MTw(cR,GetHandleId(qTw),eTw)
call TimerStart(qTw,0.,false,cm)
set qTw=null
return eTw
endfunction
function mqw takes integer vqw returns nothing
if not Mc[vqw]then
set Mc[vqw]=true
set Vc=Vc-1
if vqw!=Lc then
set Nc[Bc[vqw]]=Nc[vqw]
else
set Lc=Nc[vqw]
endif
if vqw!=Xc then
set Bc[Nc[vqw]]=Bc[vqw]
else
set Xc=Bc[vqw]
endif
set Bc[vqw]=0
set Nc[vqw]=0
set Cc=Cc+1
if Cc==1 then
set Jc=vqw
set Bc[vqw]=0
else
set Bc[vqw]=Kc
set Nc[Kc]=vqw
set Bc[Jc]=vqw
endif
set Nc[vqw]=0
set Kc=vqw
endif
endfunction
function xqw takes integer jqw returns nothing
if Mc[jqw]then
set Mc[jqw]=false
set Cc=Cc-1
if jqw!=Jc then
set Nc[Bc[jqw]]=Nc[jqw]
else
set Jc=Nc[jqw]
endif
if jqw!=Kc then
set Bc[Nc[jqw]]=Bc[jqw]
else
set Kc=Bc[jqw]
endif
set Bc[jqw]=0
set Nc[jqw]=0
set Vc=Vc+1
if Vc==1 then
set Lc=jqw
set Bc[jqw]=0
else
set Bc[jqw]=Xc
set Nc[Xc]=jqw
set Bc[Lc]=jqw
endif
set Nc[jqw]=0
set Xc=jqw
endif
endfunction
function eyw takes integer lyw,boolean byw returns nothing
local unit yyw
local string pyw
if byw and(not ns[lyw]) then
set ns[lyw]=true
call mqw(lyw)
set yyw=uo[lyw]
call UnitRemoveAbility(yyw,1093677121)
call UnitAddAbility(yyw,1415671403)
call iK("abilities\\spells\\orc\\ancestralspirit\\ancestralspiritcaster.mdx",xc[lyw],vc[lyw],mc[lyw])
if as[lyw]!=null then
call DestroyEffect(as[lyw])
endif
elseif ns[lyw]then
set ns[lyw]=false
call xqw(lyw)
set yyw=uo[lyw]
call UnitRemoveAbility(yyw,1415671403)
call UnitAddAbility(yyw,1093677121)
if as[lyw]!=null then
call DestroyEffect(as[lyw])
endif
set pyw="abilities\\spells\\undead\\sleep\\sleeptarget.mdx"
if GetUnitAbilityLevel(uo[lyw],1097295983)>0 then
if GetLocalPlayer()!=Ic[lyw]then
set pyw=""
endif
endif
set as[lyw]=AddSpecialEffect(pyw,xc[lyw],vc[lyw])
endif
set yyw=null
endfunction
function aZ takes integer eZ returns nothing
local integer qZ=GetSpellAbilityId()
if qZ==1093677121 then
call eyw(eZ,true)
elseif qZ==1415671403 then
call eyw(eZ,false)
endif
endfunction
function pRw takes integer bRw returns integer
local integer yRw=tfw(Ua[bRw])
set Cy[yRw]=Ny[By[yRw]]
set Vy[yRw]=Cy[yRw]
return tfw(Ua[bRw])
endfunction
function afw takes integer bfw returns nothing
local integer yfw=bfw
local real pfw
local integer efw
local real qfw
set np[bfw]=0
set pfw=-1.
set bfw=pRw(Gww(bfw))
loop
exitwhen Jy[Vy[bfw]]==Cy[bfw]
set Vy[bfw]=Jy[Vy[bfw]]
set efw=Dy[Vy[bfw]]
set qfw=Slw(xc[efw],vc[efw],Rp[yfw],Tp[yfw])
if tO[efw] and qfw<1000. then
if pfw==(-1.) or qfw<pfw then
set pfw=qfw
set np[yfw]=efw
endif
endif
endloop
if np[yfw]!=0 then
set Gp[yfw]=1
call iK("abilities\\spells\\human\\feedback\\spellbreakerattack.mdx",xc[yfw],vc[yfw],mc[yfw])
set bfw=np[yfw]
call IssuePointOrder(Fn[yfw],"move",xc[bfw],vc[bfw])
endif
endfunction
function Vow takes player Dow,integer How,real Jow,real Kow,real Low,integer Xow returns unit
local unit Cow=CreateUnit(Dow,How,Jow,Kow,Low*57.295779513)
call UnitAddAbility(Cow,1097625443)
set hQ=Cow
set Cow=null
return hQ
endfunction
function YN takes trigger aN,unit nN,real dN,boolexpr fN returns event
local integer RN=GetHandleId(aN)
local integer TN=GetHandleId(nN)
call SaveUnitHandle(lf,TO,RN,nN)
call SaveTriggerHandle(lf,TO,TN,aN)
return TriggerRegisterUnitInRange(aN,nN,dN,fN)
endfunction
function oaw takes integer taw,integer iaw,integer Saw returns nothing
local integer caw
if Saw==0 then
call tX("Trying to add null listener")
endif
set vo[taw]=CreateTrigger()
set caw=mT[iaw]
if caw>=712 and caw<=776 then
set mo[taw]=uo[iaw]
else
set caw=mT[iaw]
if caw>=696 and caw<=704 then
set mo[taw]=xl[kl[iaw]]
endif
endif
call YN(vo[taw],mo[taw],Zc[iaw],null)
call MTw(Qo,GetHandleId(vo[taw]),Saw)
call TriggerAddAction(vo[taw],aQ)
endfunction
function sOw takes player Bow,integer Now,real Mow,real wOw,real uOw,integer rOw returns unit
return CreateUnit(Bow,Now,Mow,wOw,uOw*57.295779513)
endfunction
function vuw takes integer guw,unit huw,unit Fuw,real kuw returns nothing
local playerunitevent juw
local integer xuw
call VL(guw,huw)
set hn[guw]=GetRandomReal(30.,45.)
set Fn[guw]=Fuw
set Zc[guw]=kuw
set huw=uo[guw]
call UnitAddAbility(huw,1685024372)
call UnitAddAbility(huw,1097625443)
call UnitRemoveAbility(huw,1093677131)
call SetUnitPathing(huw,true)
call SetUnitUserData(Fuw,guw)
set huw=uo[guw]
call GOw(Fuw,GetUnitX(huw),GetUnitY(huw))
call UnitAddAbility(Fuw,1097295983)
call UnitAddAbility(Fuw,1093677131)
call yww(guw)
set juw=EVENT_PLAYER_UNIT_ISSUED_ORDER
if HT==0 then
if JT<8191 then
set JT=JT+1
set xuw=JT
set KT[xuw]=842
else
call tX("Out of memory: Could not create Closure.")
set xuw=0
endif
else
set HT=HT-1
set xuw=DT[HT]
set KT[xuw]=842
endif
set xO[xuw]=0
set vO[xuw]=0
set kn[xuw]=guw
call MN(Fuw,juw,xuw)
set juw=EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER
if HT==0 then
if JT<8191 then
set JT=JT+1
set xuw=JT
set KT[xuw]=791
else
call tX("Out of memory: Could not create Closure.")
set xuw=0
endif
else
set HT=HT-1
set xuw=DT[HT]
set KT[xuw]=791
endif
set xO[xuw]=0
set vO[xuw]=0
set jn[xuw]=guw
call MN(Fuw,juw,xuw)
set juw=EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER
if HT==0 then
if JT<8191 then
set JT=JT+1
set xuw=JT
set KT[xuw]=816
else
call tX("Out of memory: Could not create Closure.")
set xuw=0
endif
else
set HT=HT-1
set xuw=DT[HT]
set KT[xuw]=816
endif
set xO[xuw]=0
set vO[xuw]=0
set xn[xuw]=guw
call MN(Fuw,juw,xuw)
set juw=null
endfunction
function bV takes integer rV,real sV,real tV,real iV,player SV,integer cV,real oV,real OV,real lV returns nothing
call vuw(rV,Vow(SV,cV,sV,tV,oV,rV),sOw(SV,cV,sV,tV,oV,rV),OV)
set vo[rV]=null
set mo[rV]=null
set ho[rV]=lV
if cG==0 then
if oG<8191 then
set oG=oG+1
set cV=oG
set OG[cV]=1062
else
call tX("Out of memory: Could not create Closure.")
set cV=0
endif
else
set cG=cG-1
set cV=SG[cG]
set OG[cV]=1062
endif
set Fo[cV]=rV
call oaw(rV,rV,cV)
endfunction
function cRw takes integer tRw,real iRw returns nothing
local real SRw=Cos(da[tRw])*iRw
set iRw=Sin(da[tRw])*iRw
set Qc[tRw]=SRw
set Wc[tRw]=iRw
set Ec[tRw]=0.
call mqw(tRw)
endfunction
function cfw takes integer ifw returns integer
local integer Sfw
if og==0 then
if Og<8191 then
set Og=Og+1
set Sfw=Og
set lg[Sfw]=861
else
call tX("Out of memory: Could not create LLIterator.")
set Sfw=0
endif
else
set og=og-1
set Sfw=cg[og]
set lg[Sfw]=861
endif
set Xy[Sfw]=ifw
set Ky[Sfw]=Ny[Xy[Sfw]]
set Ly[Sfw]=Ky[Sfw]
return Sfw
endfunction
function cpw takes integer Spw returns nothing
if GetUnitAbilityLevel(uo[kt[Spw]],xt[Spw])<=0 then
call UnitAddAbility(uo[kt[Spw]],xt[Spw])
endif
endfunction
function f5 takes nothing returns nothing
local integer d5=GetPlayerId(GetTriggerPlayer())
local boolean p5=Db[d5]
local boolean e5=Hb[d5]
local boolean q5=Jb[d5]
local boolean a5=Kb[d5]
local eventid n5=GetTriggerEventId()
if n5==EVENT_PLAYER_ARROW_DOWN_DOWN then
set e5=true
elseif n5==EVENT_PLAYER_ARROW_DOWN_UP then
set e5=false
elseif n5==EVENT_PLAYER_ARROW_UP_DOWN then
set p5=true
elseif n5==EVENT_PLAYER_ARROW_UP_UP then
set p5=false
elseif n5==EVENT_PLAYER_ARROW_LEFT_DOWN then
set q5=true
elseif n5==EVENT_PLAYER_ARROW_LEFT_UP then
set q5=false
elseif n5==EVENT_PLAYER_ARROW_RIGHT_DOWN then
set a5=true
elseif n5==EVENT_PLAYER_ARROW_RIGHT_UP then
set a5=false
endif
set d5=GetPlayerId(GetTriggerPlayer())
set Db[d5]=p5
set Hb[d5]=e5
set Jb[d5]=q5
set Kb[d5]=a5
set n5=null
endfunction
function gX takes real fX,real RX,real TX,player YX returns integer
local integer GX
if xT==0 then
if vT<8191 then
set vT=vT+1
set GX=vT
set mT[GX]=775
else
call tX("Out of memory: Could not create FastEscaper.")
set GX=0
endif
else
set xT=xT-1
set GX=jT[xT]
set mT[GX]=775
endif
call cN(GX,fX,RX,TX,YX,1211117636)
set co[GX]=0
return GX
endfunction
function hYw takes integer GYw returns nothing
local integer gYw
if IT==0 then
if PT<8191 then
set PT=PT+1
set gYw=PT
set AT[gYw]=667
else
call tX("Out of memory: Could not create Closure.")
set gYw=0
endif
else
set IT=IT-1
set gYw=UT[IT]
set AT[gYw]=667
endif
set gT[gYw]=GYw
call SA(gYw)
endfunction
function EL takes integer vL,real mL,real QL,real WL returns nothing
set xc[vL]=mL
set vc[vL]=QL
set mc[vL]=WL
call SetUnitPosition(uo[vL],xc[vL],vc[vL])
endfunction
function Guw takes integer fuw,real Ruw,real Tuw,real Yuw returns nothing
set xc[fuw]=Ruw
set vc[fuw]=Tuw
set mc[fuw]=Yuw
call SetUnitPosition(Fn[fuw],Ruw,Tuw)
call SetUnitPosition(uo[fuw],Ruw,Tuw)
endfunction
function Aqw takes integer Zqw,real Uqw,real Iqw,real Pqw returns nothing
if mT[Zqw]<=766 then
if mT[Zqw]<=740 then
call EL(Zqw,Uqw,Iqw,Pqw)
else
call Guw(Zqw,Uqw,Iqw,Pqw)
endif
else
call EL(Zqw,Uqw,Iqw,Pqw)
endif
endfunction
function S4 takes integer t4 returns boolean
local integer i4=1
loop
exitwhen Ll[i4]==0
if Ll[i4]==t4 then
return true
endif
set i4=i4+1
endloop
set i4=139
loop
exitwhen i4>152
if t4==Ll[i4]then
return true
endif
set i4=i4+1
endloop
return false
endfunction
function ZOw takes unit EOw returns boolean
if IsUnitPaused(EOw) then
return false
else
call PauseUnit(EOw,true)
call IssueImmediateOrder(EOw,"stop")
call PauseUnit(EOw,false)
endif
return true
endfunction
function lA takes integer cA,real oA returns nothing
local timer OA=Hcw()
call MTw(cR,GetHandleId(OA),cA)
call TimerStart(OA,oA,false,Av)
set ti[cA]=OA
set OA=null
endfunction
function hpw takes integer opw returns nothing
local item Opw=GetOrderTargetItem()
local unit lpw=GetOrderTargetUnit()
local real bpw=GetOrderPointX()
local real ypw=GetOrderPointY()
local integer ppw
local integer epw
local integer qpw
local integer apw
local integer npw
local integer dpw
local integer fpw
local integer Rpw
local integer Tpw
local integer Ypw
local integer Gpw
local boolean gpw
if Opw!=null then
set bpw=GetItemX(Opw)
set ypw=GetItemY(Opw)
elseif lpw!=null then
set bpw=GetUnitX(lpw)
set ypw=GetUnitY(lpw)
endif
set ppw=aww(bpw,ypw)
if ppw!=Za then
set epw=hww(Pa[ppw])
set qpw=JF
set apw=KF
set npw=LF
set dpw=XF
set fpw=CF
set Rpw=VF
set Tpw=BF
set Ypw=NF
set Gpw=MF
set gpw=(epw==hww(0) and qpw==JF and apw==KF and npw==LF and dpw==XF and fpw==CF and Rpw==VF and Tpw==BF and Ypw==NF and Gpw==MF)or hRw(ppw,Ic[opw]) or Aa[ppw]==J
else
set gpw=false
endif
if gpw then
if Opw!=null and hRw(ppw,Ic[opw]) then
if GetItemUserData(Opw)!=0 then
call kqw(GetItemUserData(Opw))
else
call RemoveItem(Opw)
endif
call ZOw(uo[opw])
else
set Gpw=GetIssuedOrderId()
if S4(Gpw) then
if IT==0 then
if PT<8191 then
set PT=PT+1
set epw=PT
set AT[epw]=664
else
call tX("Out of memory: Could not create Closure.")
set epw=0
endif
else
set IT=IT-1
set epw=UT[IT]
set AT[epw]=664
endif
set Lt[epw]=opw
set Xt[epw]=bpw
set Ct[epw]=ypw
set Vt[epw]=Gpw
call lA(epw,0.01)
call ZOw(uo[opw])
elseif OrderId2String(Gpw)=="smart" or OrderId2String(Gpw)=="move" then
call Aqw(opw,bpw,ypw,0.)
endif
endif
else
call ZOw(uo[opw])
endif
set Opw=null
set lpw=null
endfunction
function Ryw takes integer nyw,real dyw,real fyw returns nothing
set ls[nyw]=dyw
set bs[nyw]=fyw
set ys[nyw]=0.
set ps[nyw]=null
set es[nyw]=Fbw(xc[nyw],vc[nyw],mc[nyw],ls[nyw],bs[nyw],ys[nyw])
call ayw(nyw)
endfunction
function jZ takes nothing returns nothing
local unit fZ=GetOrderedUnit()
local unit RZ=GetOrderTargetUnit()
local item TZ=GetOrderTargetItem()
local real YZ=GetOrderPointX()
local real kZ=GetOrderPointY()
local integer gZ=GetIssuedOrderId()
local integer GZ=GetUnitUserData(fZ)
local integer hZ
local boolean FZ
if gZ==851980 or gZ==851971 then
if RZ==null then
if TZ==null then
call Ryw(GZ,YZ,kZ)
else
set kZ=GetItemX(TZ)
set YZ=GetItemY(TZ)
set ls[GZ]=kZ
set bs[GZ]=YZ
set ys[GZ]=0.
endif
else
set gZ=GetUnitUserData(RZ)
if gZ!=0 then
set hZ=mT[gZ]
set FZ=hZ>=741 and hZ<=766
else
set FZ=false
endif
if FZ then
set ps[GZ]=uo[gZ]
else
set ps[GZ]=RZ
endif
set RZ=ps[GZ]
set YZ=GetUnitX(RZ)
set kZ=GetUnitY(RZ)
set ls[GZ]=YZ
set bs[GZ]=kZ
set ys[GZ]=0.
endif
if qs[GZ]!=null then
call DestroyEffect(qs[GZ])
set qs[GZ]=null
endif
endif
set fZ=null
set RZ=null
set TZ=null
endfunction
function lTw takes integer tTw returns nothing
local integer OTw=GetIssuedOrderId()
local real iTw=GetOrderPointX()
local real STw=GetOrderPointY()
local unit cTw=GetOrderTargetUnit()
local string oTw=OrderId2String(OTw)
if oTw=="smart" or oTw=="move" or oTw=="attack" or oTw=="patrol" or oTw=="holdposition" or oTw=="stop" then
if oTw=="smart" and cTw==null then
set cTw=uo[tTw]
set Yn=Yn+1
if Yn>50 then
set Yn=-1
endif
set OTw=Yn
call IssuePointOrder(cTw,"move",iTw+Gn[OTw],STw+gn[OTw])
elseif cTw!=null then
call IssueTargetOrderById(uo[tTw],OTw,cTw)
elseif iTw!=0. then
call IssuePointOrderById(uo[tTw],OTw,iTw,STw)
else
call IssueImmediateOrderById(uo[tTw],OTw)
endif
elseif oTw!="waterelemental" and oTw!="roar" and OTw!=851974 then
call IssueImmediateOrder(uo[tTw],"stop")
endif
set cTw=Fn[tTw]
set xc[tTw]=GetUnitX(cTw)
set vc[tTw]=GetUnitY(cTw)
set mc[tTw]=0.
set cTw=uo[tTw]
set iTw=vc[tTw]
call SetUnitX(cTw,xc[tTw])
call SetUnitY(cTw,iTw)
call SetUnitFacing(cTw,GetUnitFacing(Fn[tTw])*0.017453293*57.295779513)
call SetUnitTurnSpeed(cTw,GetUnitTurnSpeed(Fn[tTw]))
set cTw=null
endfunction
function Wlw takes real vlw,real mlw,real Qlw returns real
return SquareRoot(vlw*vlw+mlw*mlw+Qlw*Qlw)
endfunction
function baw takes integer Oaw,boolean law returns nothing
if law and(not Jo[Oaw]) then
set Xo[Oaw]=AddSpecialEffectTarget("Abilities\\Spells\\Human\\FlameStrike\\FlameStrikeEmbers.mdl",uo[Oaw],"origin")
set Jo[Oaw]=true
elseif (not law)and Jo[Oaw]then
call DestroyEffect(Xo[Oaw])
set Jo[Oaw]=false
endif
endfunction
function eaw takes integer yaw,boolean paw returns nothing
if paw and(not Ho[yaw]) then
set Co[yaw]=AddSpecialEffectTarget("Abilities\\Weapons\\PoisonSting\\PoisonStingTarget.mdl",uo[yaw],"chest")
set Ho[yaw]=true
elseif (not paw)and Ho[yaw]then
call DestroyEffect(Co[yaw])
set Ho[yaw]=false
endif
endfunction
function xlw takes real Glw,real glw,real hlw,real Flw,real klw,real jlw returns real
set Wk=Glw-Flw
set Ek=glw-klw
set Zk=hlw-jlw
return Wk
endfunction
function bB takes integer uB,integer rB returns nothing
local real sB
local real tB
local real iB
local boolean SB
local boolean cB
local real oB
local real OB
local real lB
if Va[Gww(uB)]then
set SB=UnitAlive(uo[uB])
else
set SB=false
endif
if SB then
call Aqw(uB,xlw(xc[uB],vc[uB],mc[uB],jaw(uB)*1.05,ak*1.05,nk*1.05),Ek,Zk)
set sB=jaw(uB)
set tB=ak
set iB=nk
if Ao[uB]then
set oB=Wlw(sB,tB,iB)
set OB=0.
set lB=0.
if oB!=0.0 then
set OB=sB/oB
set lB=tB/oB
endif
set rB=GetTerrainType(xc[uB]-OB*16,vc[uB])
call hww(Pa[Gww(uB)])
set SB=rB!=KF
set rB=GetTerrainType(xc[uB]+sB,vc[uB]-lB*16)
call hww(Pa[Gww(uB)])
set cB=rB!=KF
if SB then
set sB=-(sB*1.25)
endif
if cB then
set tB=-(tB*1.25)
endif
set Qc[uB]=sB
set Wc[uB]=tB
set Ec[uB]=iB
call mqw(uB)
if Do[uB]then
call SetUnitFacing(uo[uB],Atan2(tB,sB)*57.295779513)
endif
elseif rB!=0 then
set lB=Fbw(xL(rB),AF,DF,xc[uB],vc[uB],mc[uB])
set OB=Cos(lB)*(10.+Wlw(sB,tB,iB))
set iB=Sin(lB)*(10.+Wlw(sB,tB,iB))
set Qc[uB]=Ylw(Qc[uB],Wc[uB],Ec[uB],OB,iB,0.)
set Wc[uB]=uk
set Ec[uB]=rk
call mqw(uB)
else
set tB=-1.75
set iB=jaw(uB)*tB
set sB=ak*tB
set tB=nk*tB
set Qc[uB]=iB
set Wc[uB]=sB
set Ec[uB]=tB
call mqw(uB)
endif
call iK("abilities\\weapons\\bolt\\boltimpact.mdx",xc[uB],vc[uB],mc[uB])
call UnitDamageTarget(uo[uB],uo[uB],85,false,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL,WEAPON_TYPE_WHOKNOWS)
elseif tO[uB]then
set tO[uB]=false
call KillUnit(uo[uB])
if uB==0 then
call tX("bug")
endif
set rB=GetPlayerId(Ic[uB])
if tn[rB]<=0. then
set sn[rB]=uB
set tn[rB]=3.0
if jq[eq[GetPlayerId(Ic[uB])]]==0 then
set tn[rB]=0.1
endif
endif
call eaw(uB,false)
call baw(uB,false)
set Pc[uB]=false
set Do[uB]=false
set Lo[uB]=Lo[uB]+1
endif
endfunction
function naw takes integer qaw,integer aaw returns nothing
if mT[qaw]<=772 then
if mT[qaw]<=771 then
call bB(qaw,aaw)
elseif not fo[qaw]then
call bB(qaw,aaw)
else
call DestroyEffect(AddSpecialEffect("abilities\\spells\\items\\spellshieldamulet\\spellshieldcaster.mdx",xc[qaw],vc[qaw]))
endif
else
call bB(qaw,aaw)
endif
endfunction
function oZ takes integer iZ,unit SZ returns nothing
local integer cZ
if iZ==1093678132 then
set iZ=GetUnitAbilityLevel(SZ,1093677655)
set cZ=GetUnitAbilityLevel(SZ,1093677654)
if cZ>=1 then
if cZ==1 then
call UnitRemoveAbility(SZ,1093677654)
call Rcw(GetUnitX(SZ),GetUnitY(SZ),0.,0.,0.05,"0.00 %",10.,2.,255,255,255,0,GetOwningPlayer(SZ))
else
call SetUnitAbilityLevel(SZ,1093677654,cZ-1)
call Rcw(GetUnitX(SZ),GetUnitY(SZ),0.,0.,0.05,"-"+I2S((cZ-1)*20)+" %",10.,2.,255,255,255,0,GetOwningPlayer(SZ))
endif
elseif iZ>=1 then
if iZ<4 then
call SetUnitAbilityLevel(SZ,1093677655,iZ+1)
call Rcw(GetUnitX(SZ),GetUnitY(SZ),0.,0.,0.05,"+"+I2S((iZ+1)*20)+" %",10.,2.,255,255,255,0,GetOwningPlayer(SZ))
else
call Rcw(GetUnitX(SZ),GetUnitY(SZ),0.,0.,0.05,"Max",10.,2.,255,255,255,0,GetOwningPlayer(SZ))
endif
else
call UnitAddAbility(SZ,1093677655)
call Rcw(GetUnitX(SZ),GetUnitY(SZ),0.,0.,0.05,"+20.0 %",10.,2.,255,255,255,0,GetOwningPlayer(SZ))
endif
elseif iZ==1093678131 then
set cZ=GetUnitAbilityLevel(SZ,1093677655)
set iZ=GetUnitAbilityLevel(SZ,1093677654)
if cZ>=1 then
if cZ==1 then
call UnitRemoveAbility(SZ,1093677655)
call Rcw(GetUnitX(SZ),GetUnitY(SZ),0.,0.,0.05,"0.00 %",10.,2.,255,255,255,0,GetOwningPlayer(SZ))
else
call SetUnitAbilityLevel(SZ,1093677655,cZ-1)
call Rcw(GetUnitX(SZ),GetUnitY(SZ),0.,0.,0.05,"+"+I2S((cZ-1)*20)+" %",10.,2.,255,255,255,0,GetOwningPlayer(SZ))
endif
elseif iZ>=1 then
if iZ<4 then
call SetUnitAbilityLevel(SZ,1093677654,iZ+1)
call Rcw(GetUnitX(SZ),GetUnitY(SZ),0.,0.,0.05,"-"+I2S((iZ+1)*20)+" %",10.,2.,255,255,255,0,GetOwningPlayer(SZ))
else
call Rcw(GetUnitX(SZ),GetUnitY(SZ),0.,0.,0.05,"Min",10.,2.,255,255,255,0,GetOwningPlayer(SZ))
endif
else
call UnitAddAbility(SZ,1093677654)
call Rcw(GetUnitX(SZ),GetUnitY(SZ),0.,0.,0.05,"-20.0 %",10.,2.,255,255,255,0,GetOwningPlayer(SZ))
endif
endif
endfunction
function p6 takes nothing returns integer
local integer b6
local integer y6
if ag==0 then
if ng<8191 then
set ng=ng+1
set b6=ng
set dg[b6]=863
else
call tX("Out of memory: Could not create LinkedList.")
set b6=0
endif
else
set ag=ag-1
set b6=qg[ag]
set dg[b6]=863
endif
if yg==0 then
if pg<8191 then
set pg=pg+1
set y6=pg
set eg[y6]=862
else
call tX("Out of memory: Could not create LLStaticIterator.")
set y6=0
endif
else
set yg=yg-1
set y6=bg[yg]
set eg[y6]=862
endif
set By[y6]=b6
set Cy[y6]=Ny[By[y6]]
set Vy[y6]=Cy[y6]
set My[b6]=y6
set wp[b6]=0
set Ny[b6]=u6(0,0,0)
set Jy[Ny[b6]]=Ny[b6]
set Hy[Ny[b6]]=Ny[b6]
return b6
endfunction
function rC takes real XX,real CX,real VX,player BX returns integer
local integer NX
local unit MX
local playerunitevent wC
local integer uC
if xT==0 then
if vT<8191 then
set vT=vT+1
set NX=vT
set mT[NX]=772
else
call tX("Out of memory: Could not create StrongEscaper.")
set NX=0
endif
else
set xT=xT-1
set NX=jT[xT]
set mT[NX]=772
endif
call cN(NX,XX,CX,VX,BX,1211117619)
set fo[NX]=false
set Ro[NX]=null
set To[NX]=0.
set Yo[NX]=0.
set Go[NX]=0.
set MX=uo[NX]
set wC=EVENT_PLAYER_HERO_SKILL
if HT==0 then
if JT<8191 then
set JT=JT+1
set uC=JT
set KT[uC]=819
else
call tX("Out of memory: Could not create Closure.")
set uC=0
endif
else
set HT=HT-1
set uC=DT[HT]
set KT[uC]=819
endif
set xO[uC]=0
set vO[uC]=0
set go[uC]=NX
call MN(MX,wC,uC)
set MX=null
set wC=null
return NX
endfunction
function sJ takes real NH returns nothing
local unit MH=GetTriggerUnit()
local real wJ=GetUnitState(MH,UNIT_STATE_LIFE)
local real uJ=GetEventDamage()
local integer rJ
if ZS!=0 and GetEventDamageSource()==kS[ZS] and MH==FS[ZS] and uJ==vS[ZS]then
set mS[ZS]=NH
else
if QY==0 then
if WY<8191 then
set WY=WY+1
set rJ=WY
set EY[rJ]=687
else
call tX("Out of memory: Could not create Active.")
set rJ=0
endif
else
set QY=QY-1
set rJ=mY[QY]
set EY[rJ]=687
endif
set US=US+1
if US==1 then
set ES=rJ
set IS[rJ]=0
else
set IS[rJ]=ZS
set PS[ZS]=rJ
set IS[ES]=rJ
endif
set ZS=rJ
if rJ==ES then
call TimerStart(gS,0.,false,tm)
endif
set FS[rJ]=MH
set hS[rJ]=GetTriggeringTrigger()
set kS[rJ]=GetEventDamageSource()
set jS[rJ]=wJ
set vS[rJ]=uJ
set mS[rJ]=NH
set WS[rJ]=GetUnitAbilityLevel(MH,2019847535)<=0
if WS[rJ]then
call UnitAddAbility(MH,2019847535)
set wJ=GetUnitState(MH,UNIT_STATE_LIFE)
endif
set QS[rJ]=wJ-0.405<uJ
if QS[rJ]then
set wJ=wJ+uJ
call SetWidgetLife(MH,wJ)
endif
set xS[rJ]=wJ
endif
set MH=null
endfunction
function H6 takes real P6,real A6,real D6 returns boolean
return P6>ip and P6<cp and A6>Sp and A6<op
endfunction
function Ilw takes real Elw,real Zlw,real Ulw returns real
return Elw*Elw+Zlw*Zlw+Ulw*Ulw
endfunction
function OL takes integer tL returns nothing
local real iL
local real SL
local real cL
local boolean oL
if Dc[tL]then
set oL=Ilw(Qc[tL],Wc[tL],Ec[tL])<1.5
else
set oL=false
endif
if oL then
call xqw(tL)
else
set iL=Uc[tL]
set xc[tL]=Ylw(xc[tL],vc[tL],mc[tL],Qc[tL]*iL,Wc[tL]*iL,Ec[tL]*iL)
set vc[tL]=uk
set mc[tL]=rk
set iL=xc[tL]
set SL=vc[tL]
set cL=mc[tL]
if mT[tL]<=766 then
if mT[tL]<=711 then
if mT[tL]<=704 then
if mT[tL]<=695 then
set xc[tL]=iL
set vc[tL]=SL
set mc[tL]=cL
else
set xc[tL]=iL
set vc[tL]=SL
set mc[tL]=cL
call WOw(xl[kl[tL]],iL,SL,cL)
endif
else
set xc[tL]=iL
set vc[tL]=SL
set mc[tL]=cL
endif
elseif mT[tL]<=740 then
if H6(iL,SL,cL) then
set xc[tL]=iL
set vc[tL]=SL
set mc[tL]=cL
call jOw(uo[tL],xc[tL],vc[tL],mc[tL])
else
call kqw(tL)
endif
else
set xc[tL]=iL
set vc[tL]=SL
set mc[tL]=cL
call GOw(uo[tL],iL,SL)
call GOw(Fn[tL],iL,SL)
endif
elseif mT[tL]<=775 then
if mT[tL]<=769 then
if H6(iL,SL,cL) then
set xc[tL]=iL
set vc[tL]=SL
set mc[tL]=cL
call jOw(uo[tL],xc[tL],vc[tL],mc[tL])
else
call kqw(tL)
endif
elseif H6(iL,SL,cL) then
set xc[tL]=iL
set vc[tL]=SL
set mc[tL]=cL
call jOw(uo[tL],xc[tL],vc[tL],mc[tL])
else
call Aqw(tL,Eo,Zo,0.)
call naw(tL,0)
endif
elseif mT[tL]<=776 then
if H6(iL,SL,cL) then
set xc[tL]=iL
set vc[tL]=SL
set mc[tL]=cL
call jOw(uo[tL],xc[tL],vc[tL],mc[tL])
else
call kqw(tL)
endif
else
set xc[tL]=iL
set vc[tL]=SL
set mc[tL]=cL
endif
endif
endfunction
function PL takes integer ZL returns nothing
local unit UL=uo[ZL]
local real IL=mc[ZL]
set xc[ZL]=GetUnitX(UL)
set vc[ZL]=GetUnitY(UL)
set mc[ZL]=IL
call OL(ZL)
set UL=null
endfunction
function sTw takes integer MRw returns nothing
local unit wTw
local real uTw
local real rTw
if hn[MRw]<0. then
set wTw=Fn[MRw]
set uTw=xL(MRw)
set rTw=AF
call SetUnitX(wTw,uTw)
call SetUnitY(wTw,rTw)
call SetUnitFacing(Fn[MRw],GetUnitFacing(uo[MRw])*0.017453293*57.295779513)
set hn[MRw]=GetRandomReal(30.,45.)
endif
set wTw=null
endfunction
function siw takes integer Ptw returns nothing
local integer Atw
local integer Dtw
local integer Htw
local integer Jtw
local integer Ktw
local integer Ltw
local integer Xtw
local integer Ctw
local integer Vtw
local integer Btw
local integer Ntw
local integer Mtw
local real wiw
local real uiw
local boolean riw
call PL(Ptw)
set hn[Ptw]=hn[Ptw]-0.030
call sTw(Ptw)
set Atw=sww(xc[Ptw]/128.)
set Dtw=sww(vc[Ptw]/128.)
set Htw=aww(xc[Ptw],vc[Ptw])
if not hRw(Htw,Ic[Ptw]) then
return
endif
set Jtw=R2I(hi[af[Ptw]])
set Ktw=R2I(hi[nf[Ptw]])
if Atw!=df[Ptw]then
set riw=true
else
set riw=Dtw!=ff[Ptw]
endif
if riw then
set Ltw=0
set Xtw=0
if Atw<df[Ptw]then
set Ltw=Jtw*2
set Vtw=-Ktw
set Mtw=Ktw
loop
exitwhen Vtw>Mtw
set Ctw=Atw+Jtw+1
set Btw=Dtw+Vtw
set Ntw=Tf[Ptw]
if not uI(LoadInteger(yf,Ctw,Btw),1) then
set wiw=Ctw*128.
set uiw=Btw*128.
if oww(Aa[Htw],wiw,uiw) then
call SetTerrainType(wiw,uiw,Ntw,-1,1,1)
endif
endif
set Vtw=Vtw+1
endloop
elseif Atw>df[Ptw]then
set Ltw=-(Jtw*2)
set Ctw=-Ktw
set Vtw=Ktw
loop
exitwhen Ctw>Vtw
set Mtw=Atw-Jtw-1
set Ntw=Dtw+Ctw
set Btw=Tf[Ptw]
if not uI(LoadInteger(yf,Mtw,Ntw),1) then
set wiw=Mtw*128.
set uiw=Ntw*128.
if oww(Aa[Htw],wiw,uiw) then
call SetTerrainType(wiw,uiw,Btw,-1,1,1)
endif
endif
set Ctw=Ctw+1
endloop
endif
if Dtw<ff[Ptw]then
set Xtw=Ktw*2
set Ntw=-Jtw
set Btw=Jtw
loop
exitwhen Ntw>Btw
set Mtw=Atw+Ntw
set Ctw=Dtw+Ktw+1
set Vtw=Tf[Ptw]
if not uI(LoadInteger(yf,Mtw,Ctw),1) then
set wiw=Mtw*128.
set uiw=Ctw*128.
if oww(Aa[Htw],wiw,uiw) then
call SetTerrainType(wiw,uiw,Vtw,-1,1,1)
endif
endif
set Ntw=Ntw+1
endloop
elseif Dtw>ff[Ptw]then
set Xtw=-(Ktw*2)
set Mtw=-Jtw
set Btw=Jtw
loop
exitwhen Mtw>Btw
set Vtw=Atw+Mtw
set Ntw=Dtw-Ktw-1
set Ctw=Tf[Ptw]
if not uI(LoadInteger(yf,Vtw,Ntw),1) then
set wiw=Vtw*128.
set uiw=Ntw*128.
if oww(Aa[Htw],wiw,uiw) then
call SetTerrainType(wiw,uiw,Ctw,-1,1,1)
endif
endif
set Mtw=Mtw+1
endloop
endif
if Ltw!=0 and Xtw!=0 then
set Ltw=Atw+Ltw
set Xtw=Dtw+Xtw
set Btw=Tf[Ptw]
if not uI(LoadInteger(yf,Ltw,Xtw),1) then
set uiw=Ltw*128.
set wiw=Xtw*128.
if oww(Aa[Htw],uiw,wiw) then
call SetTerrainType(uiw,wiw,Btw,-1,1,1)
endif
endif
endif
set df[Ptw]=Atw
set ff[Ptw]=Dtw
set Xtw=-Ktw
set Ktw=Ktw
loop
exitwhen Xtw>Ktw
set Ltw=-Jtw
set Btw=Jtw
loop
exitwhen Ltw>Btw
if not uI(LoadInteger(yf,Atw+Ltw,Dtw+Xtw),1) then
set uiw=(Atw+Ltw)*128.
set wiw=(Dtw+Xtw)*128.
set Vtw=Rf[Ptw]
if oww(Aa[Htw],uiw,wiw) then
if GetTerrainType(uiw,wiw)!=Vtw then
call SetTerrainType(uiw,wiw,Vtw,-1,1,1)
endif
endif
endif
set Ltw=Ltw+1
endloop
set Xtw=Xtw+1
endloop
endif
endfunction
function spw takes integer wpw returns nothing
local integer upw=GetIssuedOrderId()
local timer rpw
set wpw=GetUnitUserData(GetOrderedUnit())
if mT[wpw]==718 then
if GetOrderedUnit()==Us[wpw]then
if upw==851971 then
call IssuePointOrderById(uo[wpw],upw,GetOrderPointX(),GetOrderPointY())
endif
if upw==851984 then
call IssuePointOrderById(uo[wpw],upw,GetOrderPointX(),GetOrderPointY())
set rpw=Hcw()
call TimerStart(rpw,0.1,false,qQ)
call MTw(cR,GetHandleId(rpw),wpw)
elseif upw==851983 then
call IssueTargetOrderById(uo[wpw],upw,GetOrderTargetUnit())
set rpw=Hcw()
call TimerStart(rpw,0.1,false,qQ)
call MTw(cR,GetHandleId(rpw),wpw)
elseif upw==851972 then
if Is[wpw]then
call IssueImmediateOrderById(uo[wpw],851972)
else
set Is[wpw]=true
endif
endif
endif
endif
set rpw=null
endfunction
function kcw takes real gcw,real hcw returns integer
local integer Fcw=GetTerrainType(gcw,hcw)
call hww(Pa[aww(gcw,hcw)])
if Fcw==JF then
return 1
elseif Fcw==1198285174 then
return 6
elseif Fcw==1315529573 then
return 4
elseif Fcw==1231317865 then
return 5
elseif Fcw==1147958883 then
return 2
elseif Fcw==1131442035 then
return 3
endif
return 0
endfunction
function t8 takes integer C7,real V7,real B7,boolean N7 returns nothing
local integer M7
local integer w8
local integer u8
local player r8
local integer s8
set V7=Gcw(V7,B7)
set B7=Hk
if hRw(aww(V7,B7),Ic[C7]) then
set M7=R2I(V7/128.)
set w8=R2I(B7/128.)
set u8=tfw(Fe[C7])
loop
exitwhen Jy[Vy[u8]]==Cy[u8]
set Vy[u8]=Jy[Vy[u8]]
set s8=Dy[Vy[u8]]
if Nf[s8]==M7 and Mf[s8]==w8 then
if N7 then
call eYw(t6(u8))
endif
set r8=null
return
endif
endloop
if kcw(V7,B7)!=0 then
set u8=Fe[C7]
set r8=Ic[C7]
if xT==0 then
if vT<8191 then
set vT=vT+1
set C7=vT
set mT[C7]=778
else
call tX("Out of memory: Could not create TileData.")
set C7=0
endif
else
set xT=xT-1
set C7=jT[xT]
set mT[C7]=778
endif
set tR[C7]=1
set wR[C7]=V7
set uR[C7]=B7
set Nf[C7]=M7
set Mf[C7]=w8
set sR[C7]=r8
set rR[C7]=AddSpecialEffect("abilities\\weapons\\vengeancemissile\\vengeancemissile.mdx",wR[C7],uR[C7])
call ufw(u8,C7)
endif
endif
set r8=null
endfunction
function tI takes integer rI,integer sI returns integer
set sI=R4(2,sI)
if ModuloInteger(rI,sI*2)<sI then
return rI+sI
else
return rI
endif
endfunction
function v9 takes player G9 returns string
local integer j9=GetPlayerId(G9)
local integer g9=Ri[j9]
local integer h9=g9/16
local integer F9=Ti[j9]
local integer k9=F9/16
local integer x9
set j9=Yi[j9]
set x9=j9/16
return "|cff"+di[h9]+di[g9-h9*16]+di[k9]+di[F9-k9*16]+di[x9]+di[j9-x9*16]+GetPlayerName(G9)+"|r"
endfunction
function vX takes real hX,real FX,real kX,player jX returns integer
local integer xX
if xT==0 then
if vT<8191 then
set vT=vT+1
set xX=vT
set mT[xX]=771
else
call tX("Out of memory: Could not create HolyEscaper.")
set xX=0
endif
else
set xT=xT-1
set xX=jT[xT]
set mT[xX]=771
endif
call cN(xX,hX,FX,kX,jX,1211117634)
return xX
endfunction
function A4 takes integer v4,real m4,real Q4,item W4,unit E4 returns nothing
local player Z4=GetOwningPlayer(E4)
local real U4
local real I4
local real P4
set Uc[v4]=1.
set Pc[v4]=false
set Ac[v4]=false
set Dc[v4]=true
set Hc[v4]=0
set Mc[v4]=true
set Cc=Cc+1
if Cc==1 then
set Jc=v4
set Bc[v4]=0
else
set Bc[v4]=Kc
set Nc[Kc]=v4
set Bc[Jc]=v4
endif
set Nc[v4]=0
set Kc=v4
set U4=HR
set I4=JR
set P4=KR
set xc[v4]=m4
set vc[v4]=Q4
set mc[v4]=0.
set Qc[v4]=U4
set Wc[v4]=I4
set Ec[v4]=P4
set Ic[v4]=Z4
set Zc[v4]=0.
set qS=qS+1
set Vl[v4]=E4
call UnitAddAbility(E4,1097167976)
call SetUnitUserData(E4,v4)
set Bl[v4]=W4
set W4=Bl[v4]
call SetItemUserData(W4,v4)
call SetItemPosition(W4,m4,Q4)
set Z4=null
endfunction
function JZ takes integer WZ,real EZ,real ZZ,unit UZ,real IZ,code PZ,code AZ returns nothing
local playerunitevent DZ
local integer HZ
call VL(WZ,UZ)
set ps[WZ]=null
set es[WZ]=0.
set as[WZ]=null
set ns[WZ]=true
call yww(WZ)
set qs[WZ]=AddSpecialEffect("objects\\inventoryitems\\questionmark\\questionmark.mdx",EZ,ZZ)
set UZ=uo[WZ]
call UnitAddAbility(UZ,1097167976)
call UnitAddAbility(UZ,1093677131)
call yww(WZ)
set ls[WZ]=xc[WZ]
set bs[WZ]=vc[WZ]
set ys[WZ]=mc[WZ]
if IZ>0. then
set ds[WZ]=CreateTrigger()
call YN(ds[WZ],uo[WZ],IZ,null)
if AZ==null then
call TriggerAddCondition(ds[WZ],Condition(Zv))
else
call TriggerAddCondition(ds[WZ],Condition(AZ))
endif
call TriggerAddAction(ds[WZ],PZ)
endif
set UZ=uo[WZ]
set DZ=EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER
if HT==0 then
if JT<8191 then
set JT=JT+1
set HZ=JT
set KT[HZ]=782
else
call tX("Out of memory: Could not create Closure.")
set HZ=0
endif
else
set HT=HT-1
set HZ=DT[HT]
set KT[HZ]=782
endif
set xO[HZ]=0
set vO[HZ]=0
call MN(UZ,DZ,HZ)
set UZ=uo[WZ]
set DZ=EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER
if HT==0 then
if JT<8191 then
set JT=JT+1
set HZ=JT
set KT[HZ]=787
else
call tX("Out of memory: Could not create Closure.")
set HZ=0
endif
else
set HT=HT-1
set HZ=DT[HT]
set KT[HZ]=787
endif
set xO[HZ]=0
set vO[HZ]=0
call MN(UZ,DZ,HZ)
set UZ=uo[WZ]
set DZ=EVENT_PLAYER_UNIT_SPELL_CAST
if HT==0 then
if JT<8191 then
set JT=JT+1
set HZ=JT
set KT[HZ]=822
else
call tX("Out of memory: Could not create Closure.")
set HZ=0
endif
else
set HT=HT-1
set HZ=DT[HT]
set KT[HZ]=822
endif
set xO[HZ]=0
set vO[HZ]=0
set fs[HZ]=WZ
call MN(UZ,DZ,HZ)
set DZ=null
endfunction
function Y2 takes integer q2,integer a2 returns nothing
local integer n2=0
local integer d2=tfw(Rb)
local integer f2
local player R2
local string T2
loop
exitwhen Jy[Vy[d2]]==Cy[d2]
set Vy[d2]=Jy[Vy[d2]]
set f2=Dy[Vy[d2]]
if jb[f2]==a2 then
set R2=GetOwningPlayer(GetTriggerUnit())
set a2=tfw(Tb[q2])
loop
exitwhen Jy[Vy[a2]]==Cy[a2]
set Vy[a2]=Jy[Vy[a2]]
if Fb[Dy[Vy[a2]]]==R2 then
call DisplayTimedTextToPlayer(R2,0.,0.,10.,"You already have a track in the jukebox!")
set R2=null
return
endif
endloop
set T2="The Track |cff84DE52"+mb[f2]+"|r has been queued by "+v9(R2)
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,10.,T2)
set f2=Tb[q2]
if LG==0 then
if XG<8191 then
set XG=XG+1
set a2=XG
set CG[a2]=855
else
call tX("Out of memory: Could not create JukeRequest.")
set a2=0
endif
else
set LG=LG-1
set a2=KG[LG]
set CG[a2]=855
endif
set Fb[a2]=R2
set kb[a2]=n2
call ufw(f2,a2)
if wp[Tb[q2]]==1 and(not gb[q2]) then
call TimerStart(Gb[q2],0.5,false,Lm)
endif
set R2=null
return
endif
set n2=n2+1
endloop
set R2=null
endfunction
function x5 takes real Y5,real G5,player g5 returns integer
local integer h5
local unit F5
local playerunitevent k5
local integer j5
if xT==0 then
if vT<8191 then
set vT=vT+1
set h5=vT
set mT[h5]=708
else
call tX("Out of memory: Could not create Key.")
set h5=0
endif
else
set xT=xT-1
set h5=jT[xT]
set mT[h5]=708
endif
call A4(h5,Y5,G5,CreateItem(Lb[0],Y5,G5),CreateUnit(g5,1748054091,Y5,G5,0.))
set Cb[h5]=0
set Vb[h5]=false
set Bb[h5]=true
set Nb[h5]=null
set F5=Vl[h5]
set k5=EVENT_PLAYER_UNIT_SPELL_CAST
if HT==0 then
if JT<8191 then
set JT=JT+1
set j5=JT
set KT[j5]=800
else
call tX("Out of memory: Could not create Closure.")
set j5=0
endif
else
set HT=HT-1
set j5=DT[HT]
set KT[j5]=800
endif
set xO[j5]=0
set vO[j5]=0
set uy[j5]=h5
call MN(F5,k5,j5)
set F5=null
set k5=null
return h5
endfunction
function xP takes integer TP returns nothing
local integer YP=GetSpellAbilityId()
local real GP=GetSpellTargetX()
local real gP=GetSpellTargetY()
local integer hP=aww(GP,gP)
local player FP
local playerunitevent kP
local unit jP
if hP==0 then
set FP=null
set kP=null
set jP=null
return
endif
if YP==1093677104 then
set FP=Ic[TP]
set GP=xL(TP)
call RP(TP,sOw(FP,1966092337,GP,AF,GetUnitFacing(GetTriggerUnit())*0.017453293,TP))
elseif YP==1093677135 then
set FP=Ic[TP]
set GP=xL(TP)
call RP(TP,sOw(FP,1966092341,GP,AF,GetUnitFacing(GetTriggerUnit())*0.017453293,TP))
elseif YP==1093678402 then
set FP=Ic[TP]
set GP=xL(TP)
call RP(TP,sOw(FP,1966092343,GP,AF,GetUnitFacing(GetTriggerUnit())*0.017453293,TP))
elseif YP==1093678403 then
set FP=Ic[TP]
set GP=xL(TP)
call RP(TP,sOw(FP,1966092355,GP,AF,GetUnitFacing(GetTriggerUnit())*0.017453293,TP))
elseif YP==1093678404 then
set FP=Ic[TP]
set GP=xL(TP)
call RP(TP,sOw(FP,1966092341,GP,AF,GetUnitFacing(GetTriggerUnit())*0.017453293,TP))
elseif YP==1093678405 then
set FP=Ic[TP]
set GP=xL(TP)
call RP(TP,sOw(FP,1966092343,GP,AF,GetUnitFacing(GetTriggerUnit())*0.017453293,TP))
elseif YP==1093677914 then
if hRw(hP,Ic[TP]) then
call x5(GP,gP,Ic[TP])
else
call DisplayTextToPlayer(Ic[TP],0.,0.,"|cffC51019You have no permission to place items in this region!")
endif
elseif YP==1093677913 then
if hRw(hP,Ic[TP]) then
set FP=Ic[TP]
if xT==0 then
if vT<8191 then
set vT=vT+1
set TP=vT
set mT[TP]=707
else
call tX("Out of memory: Could not create Boots.")
set TP=0
endif
else
set xT=xT-1
set TP=jT[xT]
set mT[TP]=707
endif
call A4(TP,GP,gP,CreateItem(1227894861,GP,gP),CreateUnit(FP,1748054091,GP,gP,0.))
else
call DisplayTextToPlayer(Ic[TP],0.,0.,"|cffC51019You have no permission to place items in this region!")
endif
elseif YP==1093678128 then
if hRw(hP,Ic[TP]) then
set FP=Ic[TP]
if xT==0 then
if vT<8191 then
set vT=vT+1
set TP=vT
set mT[TP]=710
else
call tX("Out of memory: Could not create Tome.")
set TP=0
endif
else
set xT=xT-1
set TP=jT[xT]
set mT[TP]=710
endif
call A4(TP,GP,gP,CreateItem(1227894849,GP,gP),CreateUnit(FP,1747988562,GP,gP,0.))
else
call DisplayTextToPlayer(Ic[TP],0.,0.,"|cffC51019You have no permission to place items in this region!")
endif
elseif YP==1093679182 then
if hRw(hP,Ic[TP]) then
set FP=Ic[TP]
if xT==0 then
if vT<8191 then
set vT=vT+1
set TP=vT
set mT[TP]=711
else
call tX("Out of memory: Could not create Coin.")
set TP=0
endif
else
set xT=xT-1
set TP=jT[xT]
set mT[TP]=711
endif
call A4(TP,GP,gP,CreateItem(1227895088,GP,gP),CreateUnit(FP,1747988563,GP,gP,0.))
else
call DisplayTextToPlayer(Ic[TP],0.,0.,"|cffC51019You have no permission to place items in this region!")
endif
elseif YP==1093677894 then
if hRw(hP,Ic[TP]) and Na[hP]then
if wn[hP]==0 then
set FP=Ic[TP]
call hww(Pa[hP])
set YP=NF
if xT==0 then
if vT<8191 then
set vT=vT+1
set TP=vT
set mT[TP]=761
else
call tX("Out of memory: Could not create Boss.")
set TP=0
endif
else
set xT=xT-1
set TP=jT[xT]
set mT[TP]=761
endif
call vuw(TP,Vow(FP,YP,GP,gP,0.,TP),sOw(FP,YP,GP,gP,0.,TP),64)
set Yt[TP]=400.
set Gt[TP]=400.
call UnitAddAbility(Fn[TP],ft)
set Dc[TP]=false
set jP=Fn[TP]
set kP=EVENT_PLAYER_UNIT_SPELL_CAST
if HT==0 then
if JT<8191 then
set JT=JT+1
set YP=JT
set KT[YP]=785
else
call tX("Out of memory: Could not create Closure.")
set YP=0
endif
else
set HT=HT-1
set YP=DT[HT]
set KT[YP]=785
endif
set xO[YP]=0
set vO[YP]=0
set ht[YP]=TP
call MN(jP,kP,YP)
set gt[TP]=AH(xc[TP],vc[TP],mc[TP],"|",120,6.)
set YP=gt[TP]
set Vi[YP]=200
set Bi[YP]=255
set Ni[YP]=125
set Mi[YP]=255
call Few(YP,cS[YP])
set wn[hP]=TP
else
call DisplayTextToPlayer(Ic[TP],0.,0.,"|cffC51019You can only have one boss each region!")
endif
else
call DisplayTextToPlayer(Ic[TP],0.,0.,"|cffC51019You are not allowed to place Boss objects in this region!")
endif
elseif YP==1093678673 then
if hRw(hP,Ic[TP]) and Na[hP]then
set FP=Ic[TP]
if xT==0 then
if vT<8191 then
set vT=vT+1
set hP=vT
set mT[hP]=765
else
call tX("Out of memory: Could not create SpellTarget.")
set hP=0
endif
else
set xT=xT-1
set hP=jT[xT]
set mT[hP]=765
endif
call vuw(hP,Vow(FP,1966092358,GP,gP,0.,hP),sOw(FP,1966092358,GP,gP,0.,hP),32)
set nt[hP]=0
set nt[hP]=0
set jP=Fn[hP]
set kP=EVENT_PLAYER_UNIT_SPELL_CAST
if HT==0 then
if JT<8191 then
set JT=JT+1
set TP=JT
set KT[TP]=830
else
call tX("Out of memory: Could not create Closure.")
set TP=0
endif
else
set HT=HT-1
set TP=DT[HT]
set KT[TP]=830
endif
set xO[TP]=0
set vO[TP]=0
set dt[TP]=hP
call MN(jP,kP,TP)
if bdw(Ot,GetPlayerId(FP))==0 then
call MTw(Ot,GetPlayerId(FP),p6())
endif
call ufw(bdw(Ot,GetPlayerId(FP)),hP)
endif
elseif YP==1093678674 then
if hRw(hP,Ic[TP]) and Na[hP]then
set FP=Ic[TP]
if xT==0 then
if vT<8191 then
set vT=vT+1
set TP=vT
set mT[TP]=724
else
call tX("Out of memory: Could not create BossDamager.")
set TP=0
endif
else
set xT=xT-1
set TP=jT[xT]
set mT[TP]=724
endif
call JZ(TP,sww(GP/64.)*64.,sww(gP/64.)*64.,sOw(FP,1848652111,sww(GP/64.)*64.,sww(gP/64.)*64.,0.,TP),32.,Uv,Os)
call E0w(1,"creating Boss Damager")
set ot[TP]=40.
set jP=uo[TP]
set kP=EVENT_PLAYER_UNIT_SPELL_CAST
if HT==0 then
if JT<8191 then
set JT=JT+1
set TP=JT
set KT[TP]=795
else
call tX("Out of memory: Could not create Closure.")
set TP=0
endif
else
set HT=HT-1
set TP=DT[HT]
set KT[TP]=795
endif
set xO[TP]=0
set vO[TP]=0
call MN(jP,kP,TP)
endif
elseif YP==1093678921 then
if hRw(aww(GP,gP),Ic[TP]) and Na[aww(GP,gP)]then
set FP=Ic[TP]
if xT==0 then
if vT<8191 then
set vT=vT+1
set TP=vT
set mT[TP]=706
else
call tX("Out of memory: Could not create WeaponObject.")
set TP=0
endif
else
set xT=xT-1
set TP=jT[xT]
set mT[TP]=706
endif
set hP=FT[TP]
call A4(TP,GP,gP,CreateItem(aT[hP],GP,gP),CreateUnit(FP,1747988555,GP,gP,0))
set hT[TP]=0
set FT[TP]=0
set jP=Vl[TP]
set kP=EVENT_PLAYER_UNIT_SPELL_CAST
if HT==0 then
if JT<8191 then
set JT=JT+1
set hP=JT
set KT[hP]=786
else
call tX("Out of memory: Could not create Closure.")
set hP=0
endif
else
set HT=HT-1
set hP=DT[HT]
set KT[hP]=786
endif
set xO[hP]=0
set vO[hP]=0
set kT[hP]=TP
call MN(jP,kP,hP)
endif
else
call Y2(fb,YP)
endif
set FP=null
set kP=null
set jP=null
endfunction
function pH takes real OH,real lH,string bH returns integer
local integer yH
if TY==0 then
if YY<8191 then
set YY=YY+1
set yH=YY
else
call tX("Out of memory: Could not create ConfigValue.")
set yH=0
endif
else
set TY=TY-1
set yH=RY[TY]
endif
set hi[yH]=OH
set Fi[yH]=lH
set ki[yH]=bH
return yH
endfunction
function A5 takes real m5,real Q5,player W5,real E5 returns integer
local integer Z5
local unit U5
local playerunitevent I5
local integer P5
if xT==0 then
if vT<8191 then
set vT=vT+1
set Z5=vT
set mT[Z5]=758
else
call tX("Out of memory: Could not create Knockbacker.")
set Z5=0
endif
else
set xT=xT-1
set Z5=jT[xT]
set mT[Z5]=758
endif
call bV(Z5,m5,Q5,0.,W5,1966092359,E5,64.,160.)
set Sy[Z5]=pH(20.,2.5,"Knockback")
set cy[Z5]=pH(50.,25.,"Damage")
set U5=Fn[Z5]
call UnitAddAbility(U5,ry)
call UnitAddAbility(U5,sy)
call UnitAddAbility(U5,ty)
call UnitAddAbility(U5,iy)
set U5=Fn[Z5]
set I5=EVENT_PLAYER_UNIT_SPELL_CAST
if HT==0 then
if JT<8191 then
set JT=JT+1
set P5=JT
set KT[P5]=784
else
call tX("Out of memory: Could not create Closure.")
set P5=0
endif
else
set HT=HT-1
set P5=DT[HT]
set KT[P5]=784
endif
set xO[P5]=0
set vO[P5]=0
set oy[P5]=Z5
call MN(U5,I5,P5)
set U5=null
set I5=null
return Z5
endfunction
function RV takes integer yV,real pV,real eV,real qV,player aV,integer nV,real dV,real fV returns nothing
call vuw(yV,Vow(aV,nV,pV,eV,0.,yV),sOw(aV,nV,pV,eV,0.,yV),dV)
set vo[yV]=null
set mo[yV]=null
set ho[yV]=fV
if cG==0 then
if oG<8191 then
set oG=oG+1
set nV=oG
set OG[nV]=1059
else
call tX("Out of memory: Could not create Closure.")
set nV=0
endif
else
set cG=cG-1
set nV=SG[cG]
set OG[nV]=1059
endif
set jo[nV]=yV
call oaw(yV,yV,nV)
endfunction
function DC takes real UC,real IC,player PC returns integer
local integer AC
if xT==0 then
if vT<8191 then
set vT=vT+1
set AC=vT
set mT[AC]=746
else
call tX("Out of memory: Could not create SmallRandomKiller.")
set AC=0
endif
else
set xT=xT-1
set AC=jT[xT]
set mT[AC]=746
endif
call RV(AC,UC,IC,0.,PC,1966092342,68.,68.)
return AC
endfunction
function Gnw takes nothing returns integer
local integer Ynw
if xT==0 then
if vT<8191 then
set vT=vT+1
set Ynw=vT
set mT[Ynw]=752
else
call tX("Out of memory: Could not create Faceless.")
set Ynw=0
endif
else
set xT=xT-1
set Ynw=jT[xT]
set mT[Ynw]=752
endif
return Ynw
endfunction
function Hqw takes nothing returns integer
local integer Dqw
if xT==0 then
if vT<8191 then
set vT=vT+1
set Dqw=vT
set mT[Dqw]=750
else
call tX("Out of memory: Could not create AirKiller.")
set Dqw=0
endif
else
set xT=xT-1
set Dqw=jT[xT]
set mT[Dqw]=750
endif
return Dqw
endfunction
function M9 takes real J9,real K9,player L9,real X9 returns integer
local integer C9
local unit V9
local playerunitevent B9
local integer N9
if xT==0 then
if vT<8191 then
set vT=vT+1
set C9=vT
set mT[C9]=753
else
call tX("Out of memory: Could not create Pointer.")
set C9=0
endif
else
set xT=xT-1
set C9=jT[xT]
set mT[C9]=753
endif
call bV(C9,J9,K9,0.,L9,1747988817,X9,64.,16.)
set wa[C9]=2.
set ra[C9]=false
set V9=Fn[C9]
set B9=EVENT_PLAYER_UNIT_SPELL_CAST
if HT==0 then
if JT<8191 then
set JT=JT+1
set N9=JT
set KT[N9]=837
else
call tX("Out of memory: Could not create Closure.")
set N9=0
endif
else
set HT=HT-1
set N9=DT[HT]
set KT[N9]=837
endif
set xO[N9]=0
set vO[N9]=0
set sa[N9]=C9
call MN(V9,B9,N9)
set ua[C9]=X9
set V9=null
set B9=null
return C9
endfunction
function QZ takes integer xZ returns real
local unit vZ
local boolean mZ
if ps[xZ]==null then
set mZ=true
else
set mZ=GetUnitState(ps[xZ],UNIT_STATE_LIFE)<=.405
endif
if mZ then
set Ok=ls[xZ]
set lk=bs[xZ]
set bk=ys[xZ]
set vZ=null
return Ok
elseif GetOwningPlayer(ps[xZ])!=Gs then
set vZ=ps[xZ]
set Ok=GetUnitX(vZ)
set lk=GetUnitY(vZ)
set bk=0.
set vZ=null
return Ok
else
set Ok=xc[xZ]
set lk=vc[xZ]
set bk=mc[xZ]
set vZ=null
return Ok
endif
endfunction
function RC takes real aC,real nC,player dC returns integer
local integer fC
if xT==0 then
if vT<8191 then
set vT=vT+1
set fC=vT
set mT[fC]=751
else
call tX("Out of memory: Could not create BigRandomKiller.")
set fC=0
endif
else
set xT=xT-1
set fC=jT[xT]
set mT[fC]=751
endif
call RV(fC,aC,nC,0.,dC,1966092344,88.,88.)
return fC
endfunction
function Tnw takes integer nnw returns nothing
local unit dnw=Fn[nnw]
local playerunitevent fnw
local integer Rnw
call SetUnitVertexColor(dnw,55,55,55,55)
call SetUnitScale(dnw,0.5,0.5,0.5)
call UnitAddAbility(dnw,MO)
call UnitAddAbility(dnw,wl)
call UnitAddAbility(dnw,ul)
call UnitAddAbility(dnw,rl)
set Dc[nnw]=false
set dnw=Fn[nnw]
set fnw=EVENT_PLAYER_UNIT_SPELL_CAST
if HT==0 then
if JT<8191 then
set JT=JT+1
set Rnw=JT
set KT[Rnw]=790
else
call tX("Out of memory: Could not create Closure.")
set Rnw=0
endif
else
set HT=HT-1
set Rnw=DT[HT]
set KT[Rnw]=790
endif
set xO[Rnw]=0
set vO[Rnw]=0
set sl[Rnw]=nnw
call MN(dnw,fnw,Rnw)
set dnw=null
set fnw=null
endfunction
function Xqw takes nothing returns integer
local integer Lqw
if xT==0 then
if vT<8191 then
set vT=vT+1
set Lqw=vT
set mT[Lqw]=759
else
call tX("Out of memory: Could not create GlaiveKiller.")
set Lqw=0
endif
else
set xT=xT-1
set Lqw=jT[xT]
set mT[Lqw]=759
endif
return Lqw
endfunction
function biw takes real tiw,real iiw,player Siw returns integer
local integer ciw
local unit oiw
local playerunitevent Oiw
local integer liw
if xT==0 then
if vT<8191 then
set vT=vT+1
set ciw=vT
set mT[ciw]=763
else
call tX("Out of memory: Could not create TerrainChanger.")
set ciw=0
endif
else
set xT=xT-1
set ciw=jT[xT]
set mT[ciw]=763
endif
call vuw(ciw,sOw(Siw,1848652101,tiw,iiw,0.,ciw),sOw(Siw,1848652101,tiw,iiw,0.,ciw),0)
set af[ciw]=pH(1.,1.,"Width")
set nf[ciw]=pH(1.,1.,"Height")
set df[ciw]=0
set ff[ciw]=0
set Rf[ciw]=808464432
set Tf[ciw]=808464433
set oiw=Fn[ciw]
set Oiw=EVENT_PLAYER_UNIT_SPELL_CAST
if HT==0 then
if JT<8191 then
set JT=JT+1
set liw=JT
set KT[liw]=789
else
call tX("Out of memory: Could not create Closure.")
set liw=0
endif
else
set HT=HT-1
set liw=DT[HT]
set KT[liw]=789
endif
set xO[liw]=0
set vO[liw]=0
set Yf[liw]=ciw
call MN(oiw,Oiw,liw)
call hww(Pa[Gww(ciw)])
set Rf[ciw]=JF
call hww(Pa[Gww(ciw)])
set Tf[ciw]=KF
set Dc[ciw]=false
set oiw=null
set Oiw=null
return ciw
endfunction
function eI takes real lI,real bI,player yI returns integer
local integer pI
if xT==0 then
if vT<8191 then
set vT=vT+1
set pI=vT
set mT[pI]=742
else
call tX("Out of memory: Could not create BomberTarget.")
set pI=0
endif
else
set xT=xT-1
set pI=jT[xT]
set mT[pI]=742
endif
call vuw(pI,sOw(yI,1966092340,lI,bI,0.,pI),sOw(yI,1966092340,lI,bI,0.,pI),0.)
return pI
endfunction
function ntw takes real ptw,real etw,player qtw returns integer
local integer atw
if xT==0 then
if vT<8191 then
set vT=vT+1
set atw=vT
set mT[atw]=764
else
call tX("Out of memory: Could not create TeleporterTarget.")
set atw=0
endif
else
set xT=xT-1
set atw=jT[xT]
set mT[atw]=764
endif
call vuw(atw,sOw(qtw,1966092354,ptw,etw,0.,atw),sOw(qtw,1966092354,ptw,etw,0.,atw),0.)
return atw
endfunction
function Auw takes integer Euw,unit Zuw,unit Uuw,real Iuw,code Puw returns nothing
call VL(Euw,Zuw)
set mn[Euw]=null
call xqw(Euw)
call UnitAddAbility(uo[Euw],1097625443)
call UnitAddAbility(Uuw,1097295983)
call SetUnitVertexColor(Uuw,255,255,255,155)
set vn[Euw]=Uuw
if Iuw>0. then
set mn[Euw]=CreateTrigger()
call YN(mn[Euw],Uuw,Iuw,null)
call TriggerAddAction(mn[Euw],Puw)
endif
call SetUnitUserData(Uuw,Euw)
endfunction
function d7 takes integer y7,real p7,real e7,player q7,integer a7,real n7 returns nothing
call bV(y7,p7,e7,0.,q7,a7,GetRandomReal(0.,360.)*0.017453293,n7,n7)
call UnitAddAbility(Fn[y7],1093677131)
endfunction
function G7 takes real f7,real R7,player T7 returns integer
local integer Y7
if xT==0 then
if vT<8191 then
set vT=vT+1
set Y7=vT
set mT[Y7]=756
else
call tX("Out of memory: Could not create SmallObstacle.")
set Y7=0
endif
else
set xT=xT-1
set Y7=jT[xT]
set mT[Y7]=756
endif
call hww(Pa[aww(f7,R7)])
call d7(Y7,f7,R7,T7,VF,32.)
return Y7
endfunction
function JSw takes real USw,real ISw,real PSw,string ASw,real DSw returns texttag
local texttag HSw=CreateTextTag()
call SetTextTagPermanent(HSw,true)
call SetTextTagText(HSw,ASw,DSw*0.0023)
call SetTextTagPos(HSw,USw,ISw,PSw)
call SetTextTagVisibility(HSw,true)
set TQ=HSw
set HSw=null
return TQ
endfunction
function Kqw takes nothing returns integer
local integer Jqw
if xT==0 then
if vT<8191 then
set vT=vT+1
set Jqw=vT
set mT[Jqw]=748
else
call tX("Out of memory: Could not create BigKiller.")
set Jqw=0
endif
else
set xT=xT-1
set Jqw=jT[xT]
set mT[Jqw]=748
endif
return Jqw
endfunction
function V4 takes nothing returns integer
local integer C4
if WG==0 then
if EG<8191 then
set EG=EG+1
set C4=EG
set ZG[C4]=852
else
call tX("Out of memory: Could not create Json.")
set C4=0
endif
else
set WG=WG-1
set C4=QG[WG]
set ZG[C4]=852
endif
set qb[C4]=D1()
set ab[C4]=p6()
return C4
endfunction
function Vqw takes nothing returns integer
local integer Cqw
if xT==0 then
if vT<8191 then
set vT=vT+1
set Cqw=vT
set mT[Cqw]=745
else
call tX("Out of memory: Could not create SmallKiller.")
set Cqw=0
endif
else
set xT=xT-1
set Cqw=jT[xT]
set mT[Cqw]=745
endif
return Cqw
endfunction
function b7 takes real c7,real o7,player O7 returns integer
local integer l7
if xT==0 then
if vT<8191 then
set vT=vT+1
set l7=vT
set mT[l7]=755
else
call tX("Out of memory: Could not create BigObstacle.")
set l7=0
endif
else
set xT=xT-1
set l7=jT[xT]
set mT[l7]=755
endif
call hww(Pa[aww(c7,o7)])
call d7(l7,c7,o7,O7,BF,64.)
return l7
endfunction
function hJ takes real dJ,real fJ,player RJ returns integer
local integer TJ
local unit YJ
local playerunitevent GJ
local integer gJ
if xT==0 then
if vT<8191 then
set vT=vT+1
set TJ=vT
set mT[TJ]=715
else
call tX("Out of memory: Could not create Door.")
set TJ=0
endif
else
set xT=xT-1
set TJ=jT[xT]
set mT[TJ]=715
endif
call Auw(TJ,CreateUnit(RJ,1747988530,dJ,fJ,270*0.017453293*57.295779513),CreateUnit(RJ,1747988547,dJ,fJ,0.),192.,Vv)
set HS[TJ]=0
set JS[TJ]=false
set KS[TJ]=false
set DS[TJ]=CreateUnit(Ic[TJ],1747988534,dJ,fJ,270.)
set YJ=vn[TJ]
set GJ=EVENT_PLAYER_UNIT_SPELL_CAST
if HT==0 then
if JT<8191 then
set JT=JT+1
set gJ=JT
set KT[gJ]=796
else
call tX("Out of memory: Could not create Closure.")
set gJ=0
endif
else
set HT=HT-1
set gJ=DT[HT]
set KT[gJ]=796
endif
set xO[gJ]=0
set vO[gJ]=0
set LS[gJ]=TJ
call MN(YJ,GJ,gJ)
set YJ=null
set GJ=null
return TJ
endfunction
function vU takes nothing returns integer
local integer xU
if rY==0 then
if sY<8191 then
set sY=sY+1
set xU=sY
set tY[xU]=632
else
call tX("Out of memory: Could not create BigString.")
set xU=0
endif
else
set rY=rY-1
set xU=uY[rY]
set tY[xU]=632
endif
set xs[xU]=0
set vs[xU]=0
call Dyw(xU)
return xU
endfunction
function wV takes real VC,real BC,player NC returns integer
local integer MC
if xT==0 then
if vT<8191 then
set vT=vT+1
set MC=vT
set mT[MC]=747
else
call tX("Out of memory: Could not create TankKiller.")
set MC=0
endif
else
set xT=xT-1
set MC=jT[xT]
set mT[MC]=747
endif
call RV(MC,VC,BC,0.,NC,1747988529,80.,80.)
return MC
endfunction
function s4 takes player H1,real J1,real K1,integer L1 returns integer
local integer X1
local hashtable C1
local integer V1
local hashtable B1
local integer N1
local texttag M1
local real w4
local playerunitevent u4
local unit r4
if L1==1 then
if xT==0 then
if vT<8191 then
set vT=vT+1
set N1=vT
set mT[N1]=725
else
call tX("Out of memory: Could not create Jumper.")
set N1=0
endif
else
set xT=xT-1
set N1=jT[xT]
set mT[N1]=725
endif
call JZ(N1,J1,K1,sOw(H1,1848651842,J1,K1,0.,N1),40.,Bv,Os)
set Ub[N1]=0
set Ib[N1]=0
set Pb[N1]=pH(12.,0.5,"Jump Force")
call UnitAddAbility(uo[N1],1415671403)
if lY==0 then
if bY<8191 then
set bY=bY+1
set L1=bY
set yY[L1]=642
else
call tX("Out of memory: Could not create Closure.")
set L1=0
endif
else
set lY=lY-1
set L1=OY[lY]
set yY[L1]=642
endif
set Ab[L1]=N1
call sA(J1,K1,8.,L1)
set C1=null
set B1=null
set M1=null
set u4=null
set r4=null
return N1
elseif L1==2 then
if xT==0 then
if vT<8191 then
set vT=vT+1
set X1=vT
set mT[X1]=717
else
call tX("Out of memory: Could not create RevivePoint.")
set X1=0
endif
else
set xT=xT-1
set X1=jT[xT]
set mT[X1]=717
endif
call Auw(X1,sOw(H1,1848651824,J1,K1,0.,X1),sOw(H1,1848651824,J1,K1,0.,X1),90.,Zm)
set bn[X1]=false
set yn[X1]=-1
set J1=xc[X1]
set K1=vc[X1]
call hww(Pa[Gww(X1)])
call SetTerrainType(J1,K1,JF,-1,1,0)
set C1=yf
set L1=sww(xc[X1])
set V1=sww(vc[X1])
set B1=yf
set N1=sww(xc[X1])
call SaveInteger(C1,L1,V1,tI(LoadInteger(B1,N1,sww(vc[X1])),4))
set C1=null
set B1=null
set M1=null
set u4=null
set r4=null
return X1
elseif L1==3 then
if xT==0 then
if vT<8191 then
set vT=vT+1
set L1=vT
set mT[L1]=732
else
call tX("Out of memory: Could not create Texter.")
set L1=0
endif
else
set xT=xT-1
set L1=jT[xT]
set mT[L1]=732
endif
call JZ(L1,J1,K1,sOw(H1,1848652098,J1,K1,0.,L1),32.,Im,Os)
set Kf[L1]=CreateTextTag()
set Lf[L1]=0.
set Xf[L1]=true
set Cf[L1]=255
set Vf[L1]=255
set Bf[L1]=255
set M1=Kf[L1]
call SetTextTagColor(M1,Cf[L1],Vf[L1],Bf[L1],0)
call SetTextTagPos(M1,GetUnitX(uo[L1]),GetUnitY(uo[L1]),0.)
call SetTextTagVisibility(M1,false)
call SetTextTagPermanent(M1,true)
set C1=null
set B1=null
set M1=null
set u4=null
set r4=null
return L1
elseif L1==4 then
if xT==0 then
if vT<8191 then
set vT=vT+1
set L1=vT
set mT[L1]=735
else
call tX("Out of memory: Could not create Bombertower.")
set L1=0
endif
else
set xT=xT-1
set L1=jT[xT]
set mT[L1]=735
endif
call JZ(L1,J1,K1,sOw(H1,1747988793,J1,K1,0.,L1),0.,Os,Os)
set Vs[L1]=false
set r4=uo[L1]
call UnitAddAbility(r4,1097167976)
call UnitAddAbility(r4,1097625443)
set Cs[L1]=sOw(H1,1747988793,J1,K1,0.,L1)
set r4=Cs[L1]
call UnitAddAbility(r4,1097295983)
call SetUnitUserData(r4,L1)
call SetUnitScale(r4,0.5,0.5,0.5)
call TriggerRegisterUnitEvent(Ks,Cs[L1],EVENT_UNIT_ISSUED_ORDER)
call TriggerRegisterUnitEvent(Ks,Cs[L1],EVENT_UNIT_ISSUED_POINT_ORDER)
call TriggerRegisterUnitEvent(Ks,Cs[L1],EVENT_UNIT_ISSUED_TARGET_ORDER)
call SetUnitPathing(Cs[L1],true)
set C1=null
set B1=null
set M1=null
set u4=null
set r4=null
return L1
elseif L1==5 then
if xT==0 then
if vT<8191 then
set vT=vT+1
set N1=vT
set mT[N1]=738
else
call tX("Out of memory: Could not create Vortex.")
set N1=0
endif
else
set xT=xT-1
set N1=jT[xT]
set mT[N1]=738
endif
call VL(N1,CreateUnit(H1,1848652083,J1,K1,0.))
set iT[N1]=2.
set ST[N1]=0
call yww(N1)
set r4=uo[N1]
set u4=EVENT_PLAYER_UNIT_SPELL_CAST
if HT==0 then
if JT<8191 then
set JT=JT+1
set L1=JT
set KT[L1]=805
else
call tX("Out of memory: Could not create Closure.")
set L1=0
endif
else
set HT=HT-1
set L1=DT[HT]
set KT[L1]=805
endif
set xO[L1]=0
set vO[L1]=0
set cT[L1]=N1
call MN(r4,u4,L1)
set r4=uo[N1]
call UnitAddAbility(r4,rT)
call UnitAddAbility(r4,sT)
call UnitAddAbility(r4,tT)
set C1=null
set B1=null
set M1=null
set u4=null
set r4=null
return N1
elseif L1==6 then
if xT==0 then
if vT<8191 then
set vT=vT+1
set N1=vT
set mT[N1]=727
else
call tX("Out of memory: Could not create Executer.")
set N1=0
endif
else
set xT=xT-1
set N1=jT[xT]
set mT[N1]=727
endif
call JZ(N1,J1,K1,sOw(H1,1848652100,J1,K1,0.,N1),42.,Pm,Os)
set WO[N1]=false
set EO[N1]=true
set IO[N1]=0
set PO[N1]=0
set AO[N1]=false
set HO[N1]=808464433
set JO[N1]=0
set KO[N1]=0
set VO[N1]=false
set r4=uo[N1]
set u4=EVENT_PLAYER_UNIT_SPELL_CAST
if HT==0 then
if JT<8191 then
set JT=JT+1
set L1=JT
set KT[L1]=820
else
call tX("Out of memory: Could not create Closure.")
set L1=0
endif
else
set HT=HT-1
set L1=DT[HT]
set KT[L1]=820
endif
set xO[L1]=0
set vO[L1]=0
set NO[L1]=N1
call MN(r4,u4,L1)
set C1=null
set B1=null
set M1=null
set u4=null
set r4=null
return N1
elseif L1==7 then
if xT==0 then
if vT<8191 then
set vT=vT+1
set L1=vT
set mT[L1]=721
else
call tX("Out of memory: Could not create Booster.")
set L1=0
endif
else
set xT=xT-1
set L1=jT[xT]
set mT[L1]=721
endif
call JZ(L1,J1,K1,sOw(H1,1848651850,J1,K1,0.,L1),32.,Am,Os)
set ct[L1]=pH(200.,25.,"Boostspeed")
call ayw(L1)
call UnitAddAbility(uo[L1],1415671403)
set C1=null
set B1=null
set M1=null
set u4=null
set r4=null
return L1
elseif L1==8 then
if xT==0 then
if vT<8191 then
set vT=vT+1
set L1=vT
set mT[L1]=737
else
call tX("Out of memory: Could not create UnitRemover.")
set L1=0
endif
else
set xT=xT-1
set L1=jT[xT]
set mT[L1]=737
endif
call JZ(L1,J1,K1,sOw(H1,1848651827,J1,K1,0.,L1),64.,wm,Os)
call ayw(L1)
call UnitAddAbility(uo[L1],1415671403)
set C1=null
set B1=null
set M1=null
set u4=null
set r4=null
return L1
elseif L1==9 then
if xT==0 then
if vT<8191 then
set vT=vT+1
set L1=vT
set mT[L1]=730
else
call tX("Out of memory: Could not create Waypoint.")
set L1=0
endif
else
set xT=xT-1
set L1=jT[xT]
set mT[L1]=730
endif
call JZ(L1,J1,K1,CreateUnit(H1,1848651828,J1,K1,0.),32.,Mv,Os)
set yT[L1]=0.
set pT[L1]=true
set eT[L1]=0
set qT[L1]=false
call UnitAddAbility(uo[L1],1415671403)
set C1=null
set B1=null
set M1=null
set u4=null
set r4=null
return L1
elseif L1==10 then
if xT==0 then
if vT<8191 then
set vT=vT+1
set L1=vT
set mT[L1]=723
else
call tX("Out of memory: Could not create Teleporter.")
set L1=0
endif
else
set xT=xT-1
set L1=jT[xT]
set mT[L1]=723
endif
call JZ(L1,J1,K1,sOw(H1,1848651843,J1,K1,0.,L1),38.,Dm,Os)
set bf[L1]=0
call UnitAddAbility(uo[L1],1415671403)
set C1=null
set B1=null
set M1=null
set u4=null
set r4=null
return L1
elseif L1==11 then
set C1=null
set B1=null
set M1=null
set u4=null
set r4=null
return hJ(J1,K1,H1)
elseif L1==12 then
set C1=null
set B1=null
set M1=null
set u4=null
set r4=null
return G7(J1,K1,H1)
elseif L1==13 then
set C1=null
set B1=null
set M1=null
set u4=null
set r4=null
return b7(J1,K1,H1)
elseif L1==14 then
if xT==0 then
if vT<8191 then
set vT=vT+1
set L1=vT
set mT[L1]=719
else
call tX("Out of memory: Could not create Tree.")
set L1=0
endif
else
set xT=xT-1
set L1=jT[xT]
set mT[L1]=719
endif
call VL(L1,CreateUnit(H1,1848651848,J1,K1,0))
call hww(Pa[yww(L1)])
set vR[L1]=CreateDestructable(CF,J1,K1,GetRandomReal(0.,360.)*0.017453293*57.295779513,GetRandomReal(0.8,1.2),GetRandomInt(0,2))
set C1=null
set B1=null
set M1=null
set u4=null
set r4=null
return L1
elseif L1==15 then
if xT==0 then
if vT<8191 then
set vT=vT+1
set L1=vT
set mT[L1]=766
else
call tX("Out of memory: Could not create Spinner.")
set L1=0
endif
else
set xT=xT-1
set L1=jT[xT]
set mT[L1]=766
endif
call vuw(L1,sOw(H1,1747988813,J1,K1,0.,L1),sOw(H1,1747988813,J1,K1,0.,L1),0)
set ad[L1]=0
set nd[L1]=pH(2.*0.017453293,0.25*0.017453293,"Spinspeed")
set dd[L1]=pH(1.,0.1,"Cos-Factor")
set fd[L1]=pH(1.,0.1,"Sin-Factor")
set Dc[L1]=false
set r4=Fn[L1]
set u4=EVENT_PLAYER_UNIT_SPELL_CAST
if HT==0 then
if JT<8191 then
set JT=JT+1
set N1=JT
set KT[N1]=808
else
call tX("Out of memory: Could not create Closure.")
set N1=0
endif
else
set HT=HT-1
set N1=DT[HT]
set KT[N1]=808
endif
set xO[N1]=0
set vO[N1]=0
set Td[N1]=L1
call MN(r4,u4,N1)
set C1=null
set B1=null
set M1=null
set u4=null
set r4=null
return L1
elseif L1==16 then
if xT==0 then
if vT<8191 then
set vT=vT+1
set L1=vT
set mT[L1]=731
else
call tX("Out of memory: Could not create UnitCreator.")
set L1=0
endif
else
set xT=xT-1
set L1=jT[xT]
set mT[L1]=731
endif
call JZ(L1,J1,K1,sOw(H1,1848651830,J1,K1,0.,L1),0.,Os,Os)
set ZR[L1]=5.
set UR[L1]=5.
set IR[L1]=1747988529
set PR[L1]=0
call UnitAddAbility(uo[L1],WR)
call eyw(L1,false)
set C1=null
set B1=null
set M1=null
set u4=null
set r4=null
return L1
elseif L1==24 then
if xT==0 then
if vT<8191 then
set vT=vT+1
set L1=vT
set mT[L1]=733
else
call tX("Out of memory: Could not create Wall.")
set L1=0
endif
else
set xT=xT-1
set L1=jT[xT]
set mT[L1]=733
endif
call JZ(L1,J1,K1,sOw(H1,Ll[24],J1,K1,270.*0.017453293,L1),0.,Os,Os)
set oT[L1]=0
set oT[L1]=24
call ayw(L1)
set C1=null
set B1=null
set M1=null
set u4=null
set r4=null
return L1
elseif L1==17 then
if xT==0 then
if vT<8191 then
set vT=vT+1
set N1=vT
set mT[N1]=739
else
call tX("Out of memory: Could not create Tracks.")
set N1=0
endif
else
set xT=xT-1
set N1=jT[xT]
set mT[N1]=739
endif
call VL(N1,sOw(H1,lR[0],J1,K1,0.,N1))
set yR[N1]=pH(2.,0.25,"Trackspeed")
set pR[N1]=0
set eR[N1]=0
set qR[N1]=0
set aR[N1]=CR
set nR[N1]=VR
call yww(N1)
set bR[N1]=sOw(H1,1848652115,J1,K1,0.,N1)
call SetUnitUserData(bR[N1],N1)
set r4=bR[N1]
set u4=EVENT_PLAYER_UNIT_SPELL_CAST
if HT==0 then
if JT<8191 then
set JT=JT+1
set L1=JT
set KT[L1]=783
else
call tX("Out of memory: Could not create Closure.")
set L1=0
endif
else
set HT=HT-1
set L1=DT[HT]
set KT[L1]=783
endif
set xO[L1]=0
set vO[L1]=0
set dR[L1]=N1
call MN(r4,u4,L1)
set C1=null
set B1=null
set M1=null
set u4=null
set r4=null
return N1
elseif L1==18 then
if xT==0 then
if vT<8191 then
set vT=vT+1
set N1=vT
set mT[N1]=716
else
call tX("Out of memory: Could not create Fountain.")
set N1=0
endif
else
set xT=xT-1
set N1=jT[xT]
set mT[N1]=716
endif
call Auw(N1,CreateUnit(H1,1747988552,J1,K1,270*0.017453293*57.295779513),CreateUnit(H1,1747988552,J1,K1,270*0.017453293*57.295779513),200.,Nv)
set gl[N1]=true
set r4=vn[N1]
set u4=EVENT_PLAYER_UNIT_SPELL_CAST
if HT==0 then
if JT<8191 then
set JT=JT+1
set L1=JT
set KT[L1]=811
else
call tX("Out of memory: Could not create Closure.")
set L1=0
endif
else
set HT=HT-1
set L1=DT[HT]
set KT[L1]=811
endif
set xO[L1]=0
set vO[L1]=0
set Fl[L1]=N1
call MN(r4,u4,L1)
set C1=null
set B1=null
set M1=null
set u4=null
set r4=null
return N1
elseif L1==19 then
if xT==0 then
if vT<8191 then
set vT=vT+1
set N1=vT
set mT[N1]=760
else
call tX("Out of memory: Could not create Powernode.")
set N1=0
endif
else
set xT=xT-1
set N1=jT[xT]
set mT[N1]=760
endif
call vuw(N1,sOw(H1,1748004462,J1,K1,0.,N1),sOw(H1,1748004462,J1,K1,0.,N1),0.)
set ya[N1]=pH(0.75,0.25,"Bounciness")
set pa[N1]=0
set r4=Fn[N1]
call UnitAddAbility(r4,1093678929)
call UnitAddAbility(r4,1093678641)
call UnitAddAbility(r4,ta)
call UnitAddAbility(r4,ia)
set Dc[N1]=false
set r4=Fn[N1]
set u4=EVENT_PLAYER_UNIT_SPELL_CAST
if HT==0 then
if JT<8191 then
set JT=JT+1
set L1=JT
set KT[L1]=840
else
call tX("Out of memory: Could not create Closure.")
set L1=0
endif
else
set HT=HT-1
set L1=DT[HT]
set KT[L1]=840
endif
set xO[L1]=0
set vO[L1]=0
set ea[L1]=N1
call MN(r4,u4,L1)
set C1=null
set B1=null
set M1=null
set u4=null
set r4=null
return N1
elseif L1==20 then
if xT==0 then
if vT<8191 then
set vT=vT+1
set L1=vT
set mT[L1]=722
else
call tX("Out of memory: Could not create Trap.")
set L1=0
endif
else
set xT=xT-1
set L1=jT[xT]
set mT[L1]=722
endif
call JZ(L1,J1,K1,sOw(H1,1848651849,J1,K1,0.,L1),65.,Hm,Os)
set RR[L1]=3
set TR[L1]=2.
set YR[L1]=0.
set FR[L1]=false
set kR[L1]=0
set jR[L1]=0
call xqw(L1)
set r4=uo[L1]
set u4=EVENT_PLAYER_UNIT_SPELL_CAST
if HT==0 then
if JT<8191 then
set JT=JT+1
set N1=JT
set KT[N1]=824
else
call tX("Out of memory: Could not create Closure.")
set N1=0
endif
else
set HT=HT-1
set N1=DT[HT]
set KT[N1]=824
endif
set xO[N1]=0
set vO[N1]=0
set xR[N1]=L1
call MN(r4,u4,N1)
set C1=null
set B1=null
set M1=null
set u4=null
set r4=null
return L1
elseif L1==25 then
if xT==0 then
if vT<8191 then
set vT=vT+1
set L1=vT
set mT[L1]=733
else
call tX("Out of memory: Could not create Wall.")
set L1=0
endif
else
set xT=xT-1
set L1=jT[xT]
set mT[L1]=733
endif
call JZ(L1,J1,K1,sOw(H1,Ll[25],J1,K1,270.*0.017453293,L1),0.,Os,Os)
set oT[L1]=0
set oT[L1]=25
call ayw(L1)
set C1=null
set B1=null
set M1=null
set u4=null
set r4=null
return L1
elseif L1==26 then
if xT==0 then
if vT<8191 then
set vT=vT+1
set L1=vT
set mT[L1]=733
else
call tX("Out of memory: Could not create Wall.")
set L1=0
endif
else
set xT=xT-1
set L1=jT[xT]
set mT[L1]=733
endif
call JZ(L1,J1,K1,sOw(H1,Ll[26],J1,K1,270.*0.017453293,L1),0.,Os,Os)
set oT[L1]=0
set oT[L1]=26
call ayw(L1)
set C1=null
set B1=null
set M1=null
set u4=null
set r4=null
return L1
elseif L1==21 then
if xT==0 then
if vT<8191 then
set vT=vT+1
set N1=vT
set mT[N1]=762
else
call tX("Out of memory: Could not create CongaLineHead.")
set N1=0
endif
else
set xT=xT-1
set N1=jT[xT]
set mT[N1]=762
endif
call vuw(N1,sOw(H1,1747988528,J1,K1,0.,N1),sOw(H1,1747988528,J1,K1,0.,N1),0.)
set mi[N1]=0
set Qi[N1]=1
set Wi[N1]=75.
set r4=Fn[N1]
set u4=EVENT_PLAYER_UNIT_SPELL_CAST
if HT==0 then
if JT<8191 then
set JT=JT+1
set L1=JT
set KT[L1]=827
else
call tX("Out of memory: Could not create Closure.")
set L1=0
endif
else
set HT=HT-1
set L1=DT[HT]
set KT[L1]=827
endif
set xO[L1]=0
set vO[L1]=0
set Ei[L1]=N1
call MN(r4,u4,L1)
set Dc[N1]=false
call UnitAddAbility(Fn[N1],vi)
set C1=null
set B1=null
set M1=null
set u4=null
set r4=null
return N1
elseif L1==22 then
if xT==0 then
if vT<8191 then
set vT=vT+1
set L1=vT
set mT[L1]=736
else
call tX("Out of memory: Could not create TerrainBlocker.")
set L1=0
endif
else
set xT=xT-1
set L1=jT[xT]
set mT[L1]=736
endif
call JZ(L1,J1,K1,sOw(H1,1747988537,sww(J1/128.)*128.,sww(K1/128.)*128.,0.,L1),0,Os,Os)
set qf[L1]=false
set pf[L1]=sww(J1/128.0)
set ef[L1]=sww(K1/128.0)
call ayw(L1)
if HaveSavedInteger(yf,pf[L1],ef[L1]) then
set N1=LoadInteger(yf,pf[L1],ef[L1])
if uI(N1,1) then
set qf[L1]=true
call kqw(L1)
else
set N1=tI(N1,1)
call SaveInteger(yf,pf[L1],ef[L1],N1)
endif
else
call SaveInteger(yf,pf[L1],ef[L1],tI(0,1))
endif
set C1=null
set B1=null
set M1=null
set u4=null
set r4=null
return L1
elseif L1==23 then
if xT==0 then
if vT<8191 then
set vT=vT+1
set L1=vT
set mT[L1]=757
else
call tX("Out of memory: Could not create VolcanoObstacle.")
set L1=0
endif
else
set xT=xT-1
set L1=jT[xT]
set mT[L1]=757
endif
call d7(L1,J1,K1,H1,1848651851,256.)
set C1=null
set B1=null
set M1=null
set u4=null
set r4=null
return L1
elseif L1==140 then
set w4=GetRandomReal(0.,360.)
if xT==0 then
if vT<8191 then
set vT=vT+1
set N1=vT
set mT[N1]=714
else
call tX("Out of memory: Could not create Decoration.")
set N1=0
endif
else
set xT=xT-1
set N1=jT[xT]
set mT[N1]=714
endif
call Auw(N1,CreateUnit(H1,Ll[L1],J1,K1,w4),CreateUnit(H1,Ll[L1],J1,K1,w4),0.,Os)
set RS[N1]=pH(1.0,0.1,"Scale")
set TS[N1]=0
set YS[N1]=false
set TS[N1]=L1
set r4=vn[N1]
call UnitAddAbility(r4,nS)
call UnitAddAbility(r4,dS)
call UnitAddAbility(r4,fS)
set r4=uo[N1]
set u4=EVENT_PLAYER_UNIT_SPELL_CAST
if HT==0 then
if JT<8191 then
set JT=JT+1
set L1=JT
set KT[L1]=792
else
call tX("Out of memory: Could not create Closure.")
set L1=0
endif
else
set HT=HT-1
set L1=DT[HT]
set KT[L1]=792
endif
set xO[L1]=0
set vO[L1]=0
set GS[L1]=N1
call MN(r4,u4,L1)
set C1=null
set B1=null
set M1=null
set u4=null
set r4=null
return N1
elseif L1==141 then
set w4=GetRandomReal(0.,360.)
if xT==0 then
if vT<8191 then
set vT=vT+1
set N1=vT
set mT[N1]=714
else
call tX("Out of memory: Could not create Decoration.")
set N1=0
endif
else
set xT=xT-1
set N1=jT[xT]
set mT[N1]=714
endif
call Auw(N1,CreateUnit(H1,Ll[L1],J1,K1,w4),CreateUnit(H1,Ll[L1],J1,K1,w4),0.,Os)
set RS[N1]=pH(1.0,0.1,"Scale")
set TS[N1]=0
set YS[N1]=false
set TS[N1]=L1
set r4=vn[N1]
call UnitAddAbility(r4,nS)
call UnitAddAbility(r4,dS)
call UnitAddAbility(r4,fS)
set r4=uo[N1]
set u4=EVENT_PLAYER_UNIT_SPELL_CAST
if HT==0 then
if JT<8191 then
set JT=JT+1
set L1=JT
set KT[L1]=792
else
call tX("Out of memory: Could not create Closure.")
set L1=0
endif
else
set HT=HT-1
set L1=DT[HT]
set KT[L1]=792
endif
set xO[L1]=0
set vO[L1]=0
set GS[L1]=N1
call MN(r4,u4,L1)
set C1=null
set B1=null
set M1=null
set u4=null
set r4=null
return N1
elseif L1==142 then
set w4=GetRandomReal(0.,360.)
if xT==0 then
if vT<8191 then
set vT=vT+1
set N1=vT
set mT[N1]=714
else
call tX("Out of memory: Could not create Decoration.")
set N1=0
endif
else
set xT=xT-1
set N1=jT[xT]
set mT[N1]=714
endif
call Auw(N1,CreateUnit(H1,Ll[L1],J1,K1,w4),CreateUnit(H1,Ll[L1],J1,K1,w4),0.,Os)
set RS[N1]=pH(1.0,0.1,"Scale")
set TS[N1]=0
set YS[N1]=false
set TS[N1]=L1
set r4=vn[N1]
call UnitAddAbility(r4,nS)
call UnitAddAbility(r4,dS)
call UnitAddAbility(r4,fS)
set r4=uo[N1]
set u4=EVENT_PLAYER_UNIT_SPELL_CAST
if HT==0 then
if JT<8191 then
set JT=JT+1
set L1=JT
set KT[L1]=792
else
call tX("Out of memory: Could not create Closure.")
set L1=0
endif
else
set HT=HT-1
set L1=DT[HT]
set KT[L1]=792
endif
set xO[L1]=0
set vO[L1]=0
set GS[L1]=N1
call MN(r4,u4,L1)
set C1=null
set B1=null
set M1=null
set u4=null
set r4=null
return N1
elseif L1==143 then
set w4=GetRandomReal(0.,360.)
if xT==0 then
if vT<8191 then
set vT=vT+1
set N1=vT
set mT[N1]=714
else
call tX("Out of memory: Could not create Decoration.")
set N1=0
endif
else
set xT=xT-1
set N1=jT[xT]
set mT[N1]=714
endif
call Auw(N1,CreateUnit(H1,Ll[L1],J1,K1,w4),CreateUnit(H1,Ll[L1],J1,K1,w4),0.,Os)
set RS[N1]=pH(1.0,0.1,"Scale")
set TS[N1]=0
set YS[N1]=false
set TS[N1]=L1
set r4=vn[N1]
call UnitAddAbility(r4,nS)
call UnitAddAbility(r4,dS)
call UnitAddAbility(r4,fS)
set r4=uo[N1]
set u4=EVENT_PLAYER_UNIT_SPELL_CAST
if HT==0 then
if JT<8191 then
set JT=JT+1
set L1=JT
set KT[L1]=792
else
call tX("Out of memory: Could not create Closure.")
set L1=0
endif
else
set HT=HT-1
set L1=DT[HT]
set KT[L1]=792
endif
set xO[L1]=0
set vO[L1]=0
set GS[L1]=N1
call MN(r4,u4,L1)
set C1=null
set B1=null
set M1=null
set u4=null
set r4=null
return N1
elseif L1==144 then
set w4=GetRandomReal(0.,360.)
if xT==0 then
if vT<8191 then
set vT=vT+1
set N1=vT
set mT[N1]=714
else
call tX("Out of memory: Could not create Decoration.")
set N1=0
endif
else
set xT=xT-1
set N1=jT[xT]
set mT[N1]=714
endif
call Auw(N1,CreateUnit(H1,Ll[L1],J1,K1,w4),CreateUnit(H1,Ll[L1],J1,K1,w4),0.,Os)
set RS[N1]=pH(1.0,0.1,"Scale")
set TS[N1]=0
set YS[N1]=false
set TS[N1]=L1
set r4=vn[N1]
call UnitAddAbility(r4,nS)
call UnitAddAbility(r4,dS)
call UnitAddAbility(r4,fS)
set r4=uo[N1]
set u4=EVENT_PLAYER_UNIT_SPELL_CAST
if HT==0 then
if JT<8191 then
set JT=JT+1
set L1=JT
set KT[L1]=792
else
call tX("Out of memory: Could not create Closure.")
set L1=0
endif
else
set HT=HT-1
set L1=DT[HT]
set KT[L1]=792
endif
set xO[L1]=0
set vO[L1]=0
set GS[L1]=N1
call MN(r4,u4,L1)
set C1=null
set B1=null
set M1=null
set u4=null
set r4=null
return N1
elseif L1==145 then
set w4=GetRandomReal(0.,360.)
if xT==0 then
if vT<8191 then
set vT=vT+1
set N1=vT
set mT[N1]=714
else
call tX("Out of memory: Could not create Decoration.")
set N1=0
endif
else
set xT=xT-1
set N1=jT[xT]
set mT[N1]=714
endif
call Auw(N1,CreateUnit(H1,Ll[L1],J1,K1,w4),CreateUnit(H1,Ll[L1],J1,K1,w4),0.,Os)
set RS[N1]=pH(1.0,0.1,"Scale")
set TS[N1]=0
set YS[N1]=false
set TS[N1]=L1
set r4=vn[N1]
call UnitAddAbility(r4,nS)
call UnitAddAbility(r4,dS)
call UnitAddAbility(r4,fS)
set r4=uo[N1]
set u4=EVENT_PLAYER_UNIT_SPELL_CAST
if HT==0 then
if JT<8191 then
set JT=JT+1
set L1=JT
set KT[L1]=792
else
call tX("Out of memory: Could not create Closure.")
set L1=0
endif
else
set HT=HT-1
set L1=DT[HT]
set KT[L1]=792
endif
set xO[L1]=0
set vO[L1]=0
set GS[L1]=N1
call MN(r4,u4,L1)
set C1=null
set B1=null
set M1=null
set u4=null
set r4=null
return N1
elseif L1==146 then
set w4=GetRandomReal(0.,360.)
if xT==0 then
if vT<8191 then
set vT=vT+1
set N1=vT
set mT[N1]=714
else
call tX("Out of memory: Could not create Decoration.")
set N1=0
endif
else
set xT=xT-1
set N1=jT[xT]
set mT[N1]=714
endif
call Auw(N1,CreateUnit(H1,Ll[L1],J1,K1,w4),CreateUnit(H1,Ll[L1],J1,K1,w4),0.,Os)
set RS[N1]=pH(1.0,0.1,"Scale")
set TS[N1]=0
set YS[N1]=false
set TS[N1]=L1
set r4=vn[N1]
call UnitAddAbility(r4,nS)
call UnitAddAbility(r4,dS)
call UnitAddAbility(r4,fS)
set r4=uo[N1]
set u4=EVENT_PLAYER_UNIT_SPELL_CAST
if HT==0 then
if JT<8191 then
set JT=JT+1
set L1=JT
set KT[L1]=792
else
call tX("Out of memory: Could not create Closure.")
set L1=0
endif
else
set HT=HT-1
set L1=DT[HT]
set KT[L1]=792
endif
set xO[L1]=0
set vO[L1]=0
set GS[L1]=N1
call MN(r4,u4,L1)
set C1=null
set B1=null
set M1=null
set u4=null
set r4=null
return N1
elseif L1==147 then
set w4=GetRandomReal(0.,360.)
if xT==0 then
if vT<8191 then
set vT=vT+1
set N1=vT
set mT[N1]=714
else
call tX("Out of memory: Could not create Decoration.")
set N1=0
endif
else
set xT=xT-1
set N1=jT[xT]
set mT[N1]=714
endif
call Auw(N1,CreateUnit(H1,Ll[L1],J1,K1,w4),CreateUnit(H1,Ll[L1],J1,K1,w4),0.,Os)
set RS[N1]=pH(1.0,0.1,"Scale")
set TS[N1]=0
set YS[N1]=false
set TS[N1]=L1
set r4=vn[N1]
call UnitAddAbility(r4,nS)
call UnitAddAbility(r4,dS)
call UnitAddAbility(r4,fS)
set r4=uo[N1]
set u4=EVENT_PLAYER_UNIT_SPELL_CAST
if HT==0 then
if JT<8191 then
set JT=JT+1
set L1=JT
set KT[L1]=792
else
call tX("Out of memory: Could not create Closure.")
set L1=0
endif
else
set HT=HT-1
set L1=DT[HT]
set KT[L1]=792
endif
set xO[L1]=0
set vO[L1]=0
set GS[L1]=N1
call MN(r4,u4,L1)
set C1=null
set B1=null
set M1=null
set u4=null
set r4=null
return N1
elseif L1==148 then
set w4=GetRandomReal(0.,360.)
if xT==0 then
if vT<8191 then
set vT=vT+1
set N1=vT
set mT[N1]=714
else
call tX("Out of memory: Could not create Decoration.")
set N1=0
endif
else
set xT=xT-1
set N1=jT[xT]
set mT[N1]=714
endif
call Auw(N1,CreateUnit(H1,Ll[L1],J1,K1,w4),CreateUnit(H1,Ll[L1],J1,K1,w4),0.,Os)
set RS[N1]=pH(1.0,0.1,"Scale")
set TS[N1]=0
set YS[N1]=false
set TS[N1]=L1
set r4=vn[N1]
call UnitAddAbility(r4,nS)
call UnitAddAbility(r4,dS)
call UnitAddAbility(r4,fS)
set r4=uo[N1]
set u4=EVENT_PLAYER_UNIT_SPELL_CAST
if HT==0 then
if JT<8191 then
set JT=JT+1
set L1=JT
set KT[L1]=792
else
call tX("Out of memory: Could not create Closure.")
set L1=0
endif
else
set HT=HT-1
set L1=DT[HT]
set KT[L1]=792
endif
set xO[L1]=0
set vO[L1]=0
set GS[L1]=N1
call MN(r4,u4,L1)
set C1=null
set B1=null
set M1=null
set u4=null
set r4=null
return N1
elseif L1==149 then
set w4=GetRandomReal(0.,360.)
if xT==0 then
if vT<8191 then
set vT=vT+1
set N1=vT
set mT[N1]=714
else
call tX("Out of memory: Could not create Decoration.")
set N1=0
endif
else
set xT=xT-1
set N1=jT[xT]
set mT[N1]=714
endif
call Auw(N1,CreateUnit(H1,Ll[L1],J1,K1,w4),CreateUnit(H1,Ll[L1],J1,K1,w4),0.,Os)
set RS[N1]=pH(1.0,0.1,"Scale")
set TS[N1]=0
set YS[N1]=false
set TS[N1]=L1
set r4=vn[N1]
call UnitAddAbility(r4,nS)
call UnitAddAbility(r4,dS)
call UnitAddAbility(r4,fS)
set r4=uo[N1]
set u4=EVENT_PLAYER_UNIT_SPELL_CAST
if HT==0 then
if JT<8191 then
set JT=JT+1
set L1=JT
set KT[L1]=792
else
call tX("Out of memory: Could not create Closure.")
set L1=0
endif
else
set HT=HT-1
set L1=DT[HT]
set KT[L1]=792
endif
set xO[L1]=0
set vO[L1]=0
set GS[L1]=N1
call MN(r4,u4,L1)
set C1=null
set B1=null
set M1=null
set u4=null
set r4=null
return N1
elseif L1==150 then
set w4=GetRandomReal(0.,360.)
if xT==0 then
if vT<8191 then
set vT=vT+1
set N1=vT
set mT[N1]=714
else
call tX("Out of memory: Could not create Decoration.")
set N1=0
endif
else
set xT=xT-1
set N1=jT[xT]
set mT[N1]=714
endif
call Auw(N1,CreateUnit(H1,Ll[L1],J1,K1,w4),CreateUnit(H1,Ll[L1],J1,K1,w4),0.,Os)
set RS[N1]=pH(1.0,0.1,"Scale")
set TS[N1]=0
set YS[N1]=false
set TS[N1]=L1
set r4=vn[N1]
call UnitAddAbility(r4,nS)
call UnitAddAbility(r4,dS)
call UnitAddAbility(r4,fS)
set r4=uo[N1]
set u4=EVENT_PLAYER_UNIT_SPELL_CAST
if HT==0 then
if JT<8191 then
set JT=JT+1
set L1=JT
set KT[L1]=792
else
call tX("Out of memory: Could not create Closure.")
set L1=0
endif
else
set HT=HT-1
set L1=DT[HT]
set KT[L1]=792
endif
set xO[L1]=0
set vO[L1]=0
set GS[L1]=N1
call MN(r4,u4,L1)
set C1=null
set B1=null
set M1=null
set u4=null
set r4=null
return N1
elseif L1==151 then
if xT==0 then
if vT<8191 then
set vT=vT+1
set L1=vT
set mT[L1]=728
else
call tX("Out of memory: Could not create MemoryAccessPedestal.")
set L1=0
endif
else
set xT=xT-1
set L1=jT[xT]
set mT[L1]=728
endif
call JZ(L1,J1,K1,CreateUnit(H1,Ap,J1,K1,bj_UNIT_FACING*57.295779513),0,Os,Os)
set he[L1]=p6()
set Fe[L1]=p6()
set ke[L1]=D1()
set je[L1]=JSw(xc[L1],vc[L1],mc[L1],"",12)
if xG==0 then
if vG<8191 then
set vG=vG+1
set N1=vG
set mG[N1]=851
else
call tX("Out of memory: Could not create JsonParser.")
set N1=0
endif
else
set xG=xG-1
set N1=jG[xG]
set mG[N1]=851
endif
set rb[N1]=0
set sb[N1]=0
set tb[N1]=0
set ib[N1]=0
set Sb[N1]=0
set cb[N1]=null
set ob[N1]=V4()
set Ob[N1]=0
set lb[N1]=0
set bb[N1]=0
set xe[L1]=N1
if xG==0 then
if vG<8191 then
set vG=vG+1
set N1=vG
set mG[N1]=851
else
call tX("Out of memory: Could not create JsonParser.")
set N1=0
endif
else
set xG=xG-1
set N1=jG[xG]
set mG[N1]=851
endif
set rb[N1]=0
set sb[N1]=0
set tb[N1]=0
set ib[N1]=0
set Sb[N1]=0
set cb[N1]=null
set ob[N1]=V4()
set Ob[N1]=0
set lb[N1]=0
set bb[N1]=0
set ve[L1]=N1
set me[L1]=vU()
set Qe[L1]=vU()
call Aqw(L1,Gcw(J1,K1),Hk,0.)
call Nrw(je[L1],J1,K1,0.,"|cff4AA542ready",10.)
set r4=uo[L1]
call UnitAddAbility(r4,Lp)
call UnitAddAbility(r4,Bp)
call UnitAddAbility(r4,Xp)
call UnitAddAbility(r4,Cp)
call UnitAddAbility(r4,Kp)
call UnitAddAbility(r4,Np)
call UnitAddAbility(r4,Jp)
call UnitAddAbility(r4,Mp)
call UnitAddAbility(r4,1093677131)
call UnitAddAbility(r4,Dp)
call UnitAddAbility(r4,Hp)
call ayw(L1)
set C1=null
set B1=null
set M1=null
set u4=null
set r4=null
return L1
elseif L1==27 then
if xT==0 then
if vT<8191 then
set vT=vT+1
set L1=vT
set mT[L1]=729
else
call tX("Out of memory: Could not create Arcanery.")
set L1=0
endif
else
set xT=xT-1
set L1=jT[xT]
set mT[L1]=729
endif
call JZ(L1,J1,K1,sOw(H1,1848651826,J1,K1,0.,L1),92.,Jm,Km)
set Mr[L1]=0
set ws[L1]=1
call ayw(L1)
set K1=Ylw(xc[L1],vc[L1],mc[L1],0.,0.,86.)
set w4=uk
set J1=rk
set N1=Sdw()
set xl[N1]=null
set vl[N1]=null
set ml[N1]=""
set Ql[N1]=255
set Wl[N1]=255
set El[N1]=255
set Zl[N1]=255
set xl[N1]=wK(K1,w4,0.)
call SetUnitFlyHeight(xl[N1],J1,0.)
call SetUnitScale(xl[N1],1.25,1.25,1.25)
set us[L1]=N1
set N1=Mr[L1]
if N1==0 then
call rdw(us[L1],"abilities\\spells\\other\\silence\\silencetarget.mdx")
elseif N1==1 then
call rdw(us[L1],"war3mapImported\\BootsofSpeed.mdx")
elseif N1==2 then
call rdw(us[L1],"TC_EnergyBolt.mdx")
endif
set C1=null
set B1=null
set M1=null
set u4=null
set r4=null
return L1
elseif L1==28 then
set L1=Vqw()
call hww(Pa[aww(J1,K1)])
call RV(L1,J1,K1,0.,H1,LF,72.,76)
set C1=null
set B1=null
set M1=null
set u4=null
set r4=null
return L1
elseif L1==29 then
set L1=Kqw()
call hww(Pa[aww(J1,K1)])
call RV(L1,J1,K1,0.,H1,XF,92.,69)
set C1=null
set B1=null
set M1=null
set u4=null
set r4=null
return L1
elseif L1==30 then
if xT==0 then
if vT<8191 then
set vT=vT+1
set L1=vT
set mT[L1]=718
else
call tX("Out of memory: Could not create Bomber.")
set L1=0
endif
else
set xT=xT-1
set L1=jT[xT]
set mT[L1]=718
endif
call VL(L1,sOw(H1,1747988569,J1,K1,0.,L1))
set Is[L1]=true
call yww(L1)
set r4=sOw(H1,1747988569,J1,K1,0.,L1)
call UnitAddAbility(r4,1097295983)
call SetUnitUserData(r4,L1)
set Us[L1]=r4
call UnitAddAbility(uo[L1],1097625443)
call UnitAddType(Us[L1],UNIT_TYPE_PEON)
call UnitAddType(uo[L1],UNIT_TYPE_PEON)
set r4=Us[L1]
set u4=EVENT_PLAYER_UNIT_ISSUED_ORDER
if HT==0 then
if JT<8191 then
set JT=JT+1
set N1=JT
set KT[N1]=828
else
call tX("Out of memory: Could not create Closure.")
set N1=0
endif
else
set HT=HT-1
set N1=DT[HT]
set KT[N1]=828
endif
set xO[N1]=0
set vO[N1]=0
set Ps[N1]=L1
call MN(r4,u4,N1)
set r4=Us[L1]
set u4=EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER
if HT==0 then
if JT<8191 then
set JT=JT+1
set N1=JT
set KT[N1]=818
else
call tX("Out of memory: Could not create Closure.")
set N1=0
endif
else
set HT=HT-1
set N1=DT[HT]
set KT[N1]=818
endif
set xO[N1]=0
set vO[N1]=0
set As[N1]=L1
call MN(r4,u4,N1)
set r4=Us[L1]
set u4=EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER
if HT==0 then
if JT<8191 then
set JT=JT+1
set N1=JT
set KT[N1]=813
else
call tX("Out of memory: Could not create Closure.")
set N1=0
endif
else
set HT=HT-1
set N1=DT[HT]
set KT[N1]=813
endif
set xO[N1]=0
set vO[N1]=0
set Ds[N1]=L1
call MN(r4,u4,N1)
set r4=Us[L1]
set u4=EVENT_PLAYER_UNIT_ATTACKED
if HT==0 then
if JT<8191 then
set JT=JT+1
set N1=JT
set KT[N1]=803
else
call tX("Out of memory: Could not create Closure.")
set N1=0
endif
else
set HT=HT-1
set N1=DT[HT]
set KT[N1]=803
endif
set xO[N1]=0
set vO[N1]=0
set Hs[N1]=L1
call MN(r4,u4,N1)
set r4=Us[L1]
set u4=EVENT_PLAYER_UNIT_SPELL_CAST
if HT==0 then
if JT<8191 then
set JT=JT+1
set N1=JT
set KT[N1]=794
else
call tX("Out of memory: Could not create Closure.")
set N1=0
endif
else
set HT=HT-1
set N1=DT[HT]
set KT[N1]=794
endif
set xO[N1]=0
set vO[N1]=0
set Js[N1]=L1
call MN(r4,u4,N1)
call ZOw(Us[L1])
call ZOw(uo[L1])
set C1=null
set B1=null
set M1=null
set u4=null
set r4=null
return L1
elseif L1==31 then
set C1=null
set B1=null
set M1=null
set u4=null
set r4=null
return x5(J1,K1,H1)
elseif L1==34 then
set C1=null
set B1=null
set M1=null
set u4=null
set r4=null
return DC(J1,K1,H1)
elseif L1==33 then
set C1=null
set B1=null
set M1=null
set u4=null
set r4=null
return RC(J1,K1,H1)
elseif L1==35 then
set C1=null
set B1=null
set M1=null
set u4=null
set r4=null
return wV(J1,K1,H1)
elseif L1==36 then
set L1=Xqw()
call RV(L1,J1,K1,0.,H1,1966092353,54.,54.)
set C1=null
set B1=null
set M1=null
set u4=null
set r4=null
return L1
elseif L1==38 then
if xT==0 then
if vT<8191 then
set vT=vT+1
set L1=vT
set mT[L1]=749
else
call tX("Out of memory: Could not create FireKiller.")
set L1=0
endif
else
set xT=xT-1
set L1=jT[xT]
set mT[L1]=749
endif
call RV(L1,J1,K1,0.,H1,1966092368,8.,8.)
call IssueImmediateOrder(uo[L1],"immolation")
call UnitRemoveAbility(Fn[L1],1093679177)
set C1=null
set B1=null
set M1=null
set u4=null
set r4=null
return L1
elseif L1==37 then
set L1=Hqw()
call RV(L1,J1,K1,0.,H1,1966092362,52.,78.)
set C1=null
set B1=null
set M1=null
set u4=null
set r4=null
return L1
elseif L1==40 then
set C1=null
set B1=null
set M1=null
set u4=null
set r4=null
return A5(J1,K1,H1,0.)
elseif L1==39 then
set L1=Gnw()
call RV(L1,J1,K1,0.,H1,1966092361,64.,64.)
set tl[L1]=li
set il[L1]=bi
set Sl[L1]=yi
set cl[L1]=pi
set ol[L1]=pH(2.,0.5,"Visible Duration")
set Ol[L1]=1.
set ll[L1]=pH(.5,0.5,"Invisible Duration")
set bl[L1]=0
set yl[L1]=hi[ol[L1]]
call Tnw(L1)
set C1=null
set B1=null
set M1=null
set u4=null
set r4=null
return L1
elseif L1==41 then
set C1=null
set B1=null
set M1=null
set u4=null
set r4=null
return M9(J1,K1,H1,0.)
elseif L1==42 then
set C1=null
set B1=null
set M1=null
set u4=null
set r4=null
return ntw(J1,K1,H1)
elseif L1==43 then
set C1=null
set B1=null
set M1=null
set u4=null
set r4=null
return biw(J1,K1,H1)
elseif L1==43 then
set C1=null
set B1=null
set M1=null
set u4=null
set r4=null
return biw(J1,K1,H1)
elseif L1==32 then
set C1=null
set B1=null
set M1=null
set u4=null
set r4=null
return eI(J1,K1,H1)
endif
set C1=null
set B1=null
set M1=null
set u4=null
set r4=null
return 0
endfunction
function xow takes integer Tow returns boolean
local integer Yow=GetSpellAbilityId()
local real Gow
local unit gow
local integer how
local real Fow
local player kow
local boolean jow
set Tow=GetUnitUserData(GetSpellAbilityUnit())
set Fow=QZ(Tow)
set Gow=lk
set how=aww(Fow,Gow)
if Yow==1093678913 then
set gow=uo[Tow]
call UnitRemoveAbility(gow,1093678406)
call UnitRemoveAbility(gow,1093678411)
call UnitRemoveAbility(gow,1093678410)
call UnitRemoveAbility(gow,1093678407)
call UnitRemoveAbility(gow,1093678413)
call UnitRemoveAbility(gow,1093678408)
call UnitRemoveAbility(gow,1093678913)
call UnitRemoveAbility(gow,1093678915)
call UnitRemoveAbility(gow,1093678933)
call UnitRemoveAbility(gow,1093678937)
call UnitRemoveAbility(gow,1097232997)
call UnitAddAbility(gow,1093678414)
call UnitAddAbility(gow,1093678416)
call UnitAddAbility(gow,1093678412)
call UnitAddAbility(gow,1093678409)
call UnitAddAbility(gow,1093678914)
call UnitAddAbility(gow,1093678415)
set gow=null
set kow=null
return false
elseif Yow==1093678914 then
set gow=uo[Tow]
call UnitAddAbility(gow,1093678406)
call UnitAddAbility(gow,1093678411)
call UnitAddAbility(gow,1093678410)
call UnitAddAbility(gow,1093678407)
call UnitAddAbility(gow,1093678413)
call UnitAddAbility(gow,1097232997)
call UnitAddAbility(gow,1093678408)
call UnitAddAbility(gow,1093678913)
call UnitAddAbility(gow,1093678915)
call UnitAddAbility(gow,1093678933)
call UnitAddAbility(gow,1093678937)
call UnitRemoveAbility(gow,1093678414)
call UnitRemoveAbility(gow,1093678416)
call UnitRemoveAbility(gow,1093678412)
call UnitRemoveAbility(gow,1093678409)
call UnitRemoveAbility(gow,1093678914)
call UnitRemoveAbility(gow,1093678415)
set gow=null
set kow=null
return false
endif
if how==0 then
set gow=null
set kow=null
return false
endif
if hRw(how,Ic[Tow]) then
call hww(Pa[how])
set jow=XF>0
else
set jow=false
endif
if jow then
set how=-1
if Yow==1093678406 then
set how=29
elseif Yow==1093678411 then
set how=28
elseif Yow==1093678407 then
call RC(Fow,Gow,Ic[Tow])
elseif Yow==1093678410 then
call DC(Fow,Gow,Ic[Tow])
elseif Yow==1093678413 then
call wV(Fow,Gow,Ic[Tow])
elseif Yow==1093678414 then
call ntw(Fow,Gow,Ic[Tow])
elseif Yow==1093678408 then
set kow=Ic[Tow]
call RV(Xqw(),Fow,Gow,0.,kow,1966092353,54.,54.)
elseif Yow==1093678416 then
call eI(Fow,Gow,Ic[Tow])
elseif Yow==1093678412 then
call biw(Fow,Gow,Ic[Tow])
elseif Yow==1093678409 then
call M9(Fow,Gow,Ic[Tow],0.)
elseif Yow==1093678415 then
set how=30
elseif Yow==1093678915 then
call A5(Fow,Gow,Ic[Tow],0.)
elseif Yow==1093678933 then
set kow=Ic[Tow]
set Yow=Gnw()
call bV(Yow,Fow,Gow,0.,kow,1966092361,0.,64.,64.)
set tl[Yow]=li
set il[Yow]=bi
set Sl[Yow]=yi
set cl[Yow]=pi
set ol[Yow]=pH(2.,0.5,"Visible Duration")
set Ol[Yow]=1.
set ll[Yow]=pH(.5,0.5,"Invisible Duration")
set bl[Yow]=0
set yl[Yow]=hi[ol[Yow]]
call Tnw(Yow)
elseif Yow==1093678937 then
set kow=Ic[Tow]
call bV(Hqw(),Fow,Gow,200.,kow,1966092362,0.,52.,78.)
elseif Yow==1097232997 then
set kow=Ic[Tow]
if xT==0 then
if vT<8191 then
set vT=vT+1
set Yow=vT
set mT[Yow]=749
else
call tX("Out of memory: Could not create FireKiller.")
set Yow=0
endif
else
set xT=xT-1
set Yow=jT[xT]
set mT[Yow]=749
endif
call bV(Yow,Fow,Gow,256.,kow,1966092368,0.,8.,64)
call IssueImmediateOrder(uo[Yow],"immolation")
call UnitRemoveAbility(Fn[Yow],1093679177)
endif
if how>0 then
call s4(Ic[Tow],Fow,Gow,how)
endif
else
call DisplayTextToPlayer(Ic[Tow],0.,0.,"|cffC51019You have no permission to build in this region!")
endif
set gow=null
set kow=null
return false
endfunction
function yYw takes integer bYw returns nothing
if UnitRemoveAbility(uo[bYw],hf) then
call UnitAddAbility(uo[bYw],gf)
endif
if UnitRemoveAbility(uo[bYw],kf) then
call UnitAddAbility(uo[bYw],Ff)
endif
if UnitRemoveAbility(uo[bYw],xf) then
call UnitAddAbility(uo[bYw],jf)
endif
endfunction
function jM takes nothing returns nothing
local unit GM=GetTriggerUnit()
local eventid rM=GetTriggerEventId()
local integer wM=hO[GetHandleId(rM)]
local integer uM
local real sM
local item tM
local real iM
local real SM
local integer cM
local integer oM
local integer OM
local integer lM
local integer bM
local image yM
local player pM
local group eM
local string qM
local playerstate aM
local integer nM
local real dM
local item fM
local timer RM
local player TM
local unit YM
local texttag gM
local boolean hM
local lightning FM
local rect kM
if wM==0 then
set wM=EN(rM)
endif
set wM=wM
set pS=pS+1
if GM!=null then
if GetUnitAbilityLevel(GM,1685024372)>0 then
set rM=null
set tM=null
set yM=null
set pM=null
set eM=null
set aM=null
set fM=null
set RM=null
set TM=null
set YM=null
set GM=null
set gM=null
set FM=null
set kM=null
return
elseif jO[GetUnitUserData(GM)]!=0 then
set uM=jO[GetUnitUserData(GM)]
loop
exitwhen uM==0
if xO[uM]==wM then
if KT[uM]<=811 then
if KT[uM]<=795 then
if KT[uM]<=787 then
if KT[uM]<=783 then
if KT[uM]<=781 then
if KT[uM]<=780 then
if GetSpellAbilityId()==Rs then
set GM=GetSpellAbilityUnit()
set dM=GetSpellTargetX()
set sM=GetSpellTargetY()
call UnitRemoveAbility(GM,Rs)
set tM=null
set oM=0
loop
exitwhen oM>5
set fM=UnitItemInSlot(GM,oM)
if GetItemTypeId(fM)==Ts then
set tM=fM
call UnitRemoveItem(GM,fM)
exitwhen true
endif
set oM=oM+1
endloop
if tM!=null then
set nM=GetItemUserData(tM)
if xT==0 then
if vT<8191 then
set vT=vT+1
set oM=vT
set mT[oM]=703
else
call tX("Out of memory: Could not create BallProjectile.")
set oM=0
endif
else
set xT=xT-1
set oM=jT[xT]
set mT[oM]=703
endif
set iM=GetUnitX(GM)
set SM=GetUnitY(GM)
set pM=GetOwningPlayer(GM)
set dM=COw(GetUnitX(GM),GetUnitY(GM),dM,sM)
call B0w(oM,iM,SM,128.,32,pM,dM,"Cannonball.mdx")
set Ie[oM]=true
set Pe[oM]=0.
set Ae[oM]=0.9
set De[oM]=0.9
set He[oM]=10.
call lRw(oM,dM)
call cRw(oM,15.)
call SetUnitColor(xl[kl[oM]],GetPlayerColor(GetOwningPlayer(GM)))
set He[oM]=125.
set De[oM]=0.65
set Ys[oM]=nM
endif
endif
else
call Liw(Uf[uM])
endif
elseif KT[uM]<=782 then
call jZ()
else
set oM=dR[uM]
set nM=GetSpellAbilityId()
if nM==1093678163 then
call iew(yR[oM],oM,20.)
elseif nM==1093678164 then
call Oew(yR[oM],oM,1.)
elseif nM==1093678152 then
if pR[oM]<2 then
set pR[oM]=pR[oM]+1
if aR[oM]==CR and nR[oM]==VR then
set hM=true
else
set hM=aR[oM]==MR and nR[oM]==wT
endif
if hM then
set qR[oM]=0
set eR[oM]=pR[oM]
else
set eR[oM]=0
set qR[oM]=pR[oM]
endif
call Eqw(oM,sOw(Ic[oM],lR[pR[oM]],xc[oM],vc[oM],Atan2(nR[oM],aR[oM])-90*0.017453293,oM))
endif
elseif nM==1093678384 then
if pR[oM]>0 then
set pR[oM]=pR[oM]-1
if aR[oM]==CR and nR[oM]==VR then
set hM=true
else
set hM=aR[oM]==MR and nR[oM]==wT
endif
if hM then
set qR[oM]=0
set eR[oM]=pR[oM]
else
set eR[oM]=0
set qR[oM]=pR[oM]
endif
call Eqw(oM,sOw(Ic[oM],lR[pR[oM]],xc[oM],vc[oM],Atan2(nR[oM],aR[oM])-90*0.017453293,oM))
endif
elseif nM==1093678156 then
if aR[oM]==CR and nR[oM]==VR then
set aR[oM]=BR
set nR[oM]=NR
elseif aR[oM]==BR and nR[oM]==NR then
set aR[oM]=MR
set nR[oM]=wT
elseif aR[oM]==MR and nR[oM]==wT then
set aR[oM]=LR
set nR[oM]=XR
else
set aR[oM]=CR
set nR[oM]=VR
endif
if aR[oM]==CR and nR[oM]==VR then
set hM=true
else
set hM=aR[oM]==MR and nR[oM]==wT
endif
if hM then
set qR[oM]=0
set eR[oM]=pR[oM]
else
set eR[oM]=0
set qR[oM]=pR[oM]
endif
call Eqw(oM,sOw(Ic[oM],lR[pR[oM]],xc[oM],vc[oM],Atan2(nR[oM],aR[oM])-90*0.017453293,oM))
elseif nM==1093678165 then
if aR[oM]==CR and nR[oM]==VR then
set aR[oM]=LR
set nR[oM]=XR
elseif aR[oM]==LR and nR[oM]==XR then
set aR[oM]=MR
set nR[oM]=wT
elseif aR[oM]==MR and nR[oM]==wT then
set aR[oM]=BR
set nR[oM]=NR
else
set aR[oM]=CR
set nR[oM]=VR
endif
if aR[oM]==CR and nR[oM]==VR then
set hM=true
else
set hM=aR[oM]==MR and nR[oM]==wT
endif
if hM then
set qR[oM]=0
set eR[oM]=pR[oM]
else
set eR[oM]=0
set qR[oM]=pR[oM]
endif
call Eqw(oM,sOw(Ic[oM],lR[pR[oM]],xc[oM],vc[oM],Atan2(nR[oM],aR[oM])-90*0.017453293,oM))
endif
call SetUnitTimeScale(uo[oM],0.5+hi[yR[oM]]/6.)
endif
elseif KT[uM]<=785 then
if KT[uM]<=784 then
set oM=oy[uM]
set nM=GetSpellAbilityId()
if nM==ry then
call iew(Sy[oM],oM,75.)
elseif nM==sy then
call Oew(Sy[oM],oM,5.)
elseif nM==ty then
call iew(cy[oM],oM,500.)
elseif nM==iy then
call Oew(cy[oM],oM,0.)
endif
else
set oM=ht[uM]
set nM=GetSpellAbilityId()
call SetUnitAnimation(uo[oM],"spell")
if nM==1093678677 then
set cM=GetUnitAbilityLevel(uo[oM],1093678680)
set nM=GetUnitAbilityLevel(uo[oM],1093678681)
if nM==4 then
if cM<4 then
if cM==0 then
call UnitAddAbility(uo[oM],1093678680)
else
call SetUnitAbilityLevel(uo[oM],1093678680,cM+1)
endif
call SetUnitAbilityLevel(uo[oM],1093678681,0)
else
call Rcw(xc[oM],vc[oM],mc[oM],0.,0.05,"|cffC51019Max HP",10.,2.,255,255,255,0,Ic[oM])
endif
elseif nM==0 then
call UnitAddAbility(uo[oM],1093678681)
else
call SetUnitAbilityLevel(uo[oM],1093678681,nM+1)
endif
elseif nM==1093678676 then
set nM=GetUnitAbilityLevel(uo[oM],1093678680)
set cM=GetUnitAbilityLevel(uo[oM],1093678681)
if cM==0 then
if nM>0 then
call SetUnitAbilityLevel(uo[oM],1093678680,nM-1)
call SetUnitAbilityLevel(uo[oM],1093678681,4)
else
call Rcw(xc[oM],vc[oM],mc[oM],0.,0.05,"|cffC51019Min HP",10.,2.,255,255,255,0,Ic[oM])
endif
else
call SetUnitAbilityLevel(uo[oM],1093678681,cM-1)
endif
elseif nM==1093678678 then
set nM=1
set cM=bdw(Ot,GetPlayerId(Ic[oM]))
set oM=p6()
set cM=tfw(cM)
loop
exitwhen Jy[Vy[cM]]==Cy[cM]
set Vy[cM]=Jy[Vy[cM]]
set OM=Dy[Vy[cM]]
if nt[OM]==nM then
call ufw(oM,OM)
endif
endloop
set nM=oM
set OM=cfw(oM)
loop
exitwhen Jy[Ly[OM]]==Ky[OM]
set Ly[OM]=Jy[Ly[OM]]
set oM=Dy[Ly[OM]]
call DestroyEffect(AddSpecialEffect("war3mapImported\\DarknessMeteor.mdx",xc[oM],vc[oM]))
set SM=xL(oM)
set iM=AF
if IT==0 then
if PT<8191 then
set PT=PT+1
set cM=PT
set AT[cM]=652
else
call tX("Out of memory: Could not create Closure.")
set cM=0
endif
else
set IT=IT-1
set cM=UT[IT]
set AT[cM]=652
endif
set et[cM]=SM
set qt[cM]=iM
set at[cM]=oM
call lA(cM,1.)
endloop
call Ldw(OM)
call Ndw(nM)
elseif nM==1093678679 then
set cM=3
set OM=bdw(Ot,GetPlayerId(Ic[oM]))
set nM=p6()
set lM=tfw(OM)
loop
exitwhen Jy[Vy[lM]]==Cy[lM]
set Vy[lM]=Jy[Vy[lM]]
set OM=Dy[Vy[lM]]
if nt[OM]==cM then
call ufw(nM,OM)
endif
endloop
set cM=nM
set nM=cfw(nM)
loop
exitwhen Jy[Ly[nM]]==Ky[nM]
set Ly[nM]=Jy[Ly[nM]]
set GM=uo[oM]
set OM=Dy[Ly[nM]]
if xT==0 then
if vT<8191 then
set vT=vT+1
set lM=vT
set mT[lM]=701
else
call tX("Out of memory: Could not create BossMissile.")
set lM=0
endif
else
set xT=xT-1
set lM=jT[xT]
set mT[lM]=701
endif
call B0w(lM,GetUnitX(GM),GetUnitY(GM),92.,64.,Ic[lM],Fbw(xc[lM],vc[lM],mc[lM],qqw(OM),jk,xk),"abilities\\weapons\\greendragonmissile\\greendragonmissile.mdx")
set lt[lM]=null
set lt[lM]=GM
call cRw(lM,14.)
set Fa[lM]=10.
set Ya[lM]=true
endloop
call Ldw(nM)
call Ndw(cM)
elseif nM==ft then
set dM=xc[oM]
set iM=vc[oM]
set pM=Ic[oM]
set SM=GetUnitFacing(uo[oM])*0.017453293
if xT==0 then
if vT<8191 then
set vT=vT+1
set cM=vT
set mT[cM]=744
else
call tX("Out of memory: Could not create Minion.")
set cM=0
endif
else
set xT=xT-1
set cM=jT[xT]
set mT[cM]=744
endif
call hww(Pa[aww(dM,iM)])
call bV(cM,dM,iM,0.,pM,MF,SM,0.,16)
set dp[cM]=40.
set fp[cM]=40.
set Gp[cM]=0
call afw(cM)
set Dc[cM]=false
set SM=vc[cM]
set Rp[cM]=xc[cM]
set Tp[cM]=SM
set nM=AH(xc[cM],vc[cM],mc[cM],"|",40,6.)
set Vi[nM]=200
set Bi[nM]=255
set Ni[nM]=125
set Mi[nM]=255
call Few(nM,cS[nM])
set Yp[cM]=nM
set nM=Rt
set iM=xc[oM]
set dM=vc[oM]
set SM=mc[oM]
set Kn[nM]=10000
set oM=rrw(nM)
set Mn[oM]=iM
set wd[oM]=dM
set ud[oM]=SM
set RM=Hcw()
call MTw(cR,GetHandleId(RM),oM)
call TimerStart(RM,0.,false,cm)
elseif nM==1093678924 then
call aTw(Tt)
call VI(oM)
endif
endif
elseif KT[uM]<=786 then
set OM=kT[uM]
set oM=GetSpellAbilityId()
set lM=0
set nM=3
loop
exitwhen lM>nM
if nT[lM]==oM then
set FT[OM]=lM
call RemoveItem(Bl[OM])
set cM=FT[OM]
set Bl[OM]=CreateItem(aT[cM],xc[OM],vc[OM])
call SetItemUserData(Bl[OM],OM)
endif
set lM=lM+1
endloop
else
call jZ()
endif
elseif KT[uM]<=791 then
if KT[uM]<=789 then
if KT[uM]<=788 then
call Inw(hl[uM])
else
set oM=Yf[uM]
set nM=GetSpellAbilityId()
if nM==1093677387 then
call iew(af[oM],oM,3.)
elseif nM==1093677389 then
call iew(nf[oM],oM,3.)
elseif nM==1093677397 then
set cM=Rf[oM]
set nM=Tf[oM]
set df[oM]=-99999
set ff[oM]=-99999
call hww(Pa[Gww(oM)])
set Rf[oM]=KF
call hww(Pa[Gww(oM)])
set Tf[oM]=KF
call siw(oM)
set Rf[oM]=cM
set Tf[oM]=nM
call Oew(af[oM],oM,0.)
elseif nM==1093677396 then
set cM=Rf[oM]
set nM=Tf[oM]
set df[oM]=-99999
set ff[oM]=-99999
call hww(Pa[Gww(oM)])
set Rf[oM]=KF
call hww(Pa[Gww(oM)])
set Tf[oM]=KF
call siw(oM)
set Rf[oM]=cM
set Tf[oM]=nM
call Oew(nf[oM],oM,0.)
elseif nM==1093677640 then
call hww(Pa[Gww(oM)])
set Rf[oM]=JF
elseif nM==1093677638 then
call hww(Pa[Gww(oM)])
set Rf[oM]=KF
elseif nM==1093677633 then
set Rf[oM]=1315529573
elseif nM==1093677636 then
set Rf[oM]=1231317865
elseif nM==1093677639 then
call hww(Pa[Gww(oM)])
set Tf[oM]=JF
elseif nM==1093677635 then
call hww(Pa[Gww(oM)])
set Tf[oM]=KF
elseif nM==1093677634 then
set Tf[oM]=1315529573
elseif nM==1093677637 then
set Tf[oM]=1231317865
endif
call siw(oM)
endif
elseif KT[uM]<=790 then
set nM=sl[uM]
set oM=GetSpellAbilityId()
if oM==MO then
call iew(ol[nM],nM,10.)
elseif oM==wl then
call Oew(ol[nM],nM,0.)
elseif oM==ul then
call iew(ll[nM],nM,10.)
elseif oM==rl then
call Oew(ll[nM],nM,0.)
endif
else
call lTw(jn[uM])
endif
elseif KT[uM]<=793 then
if KT[uM]<=792 then
set nM=GS[uM]
set oM=GetSpellAbilityId()
if oM==nS then
set iM=GetSpellTargetX()
set SM=GetSpellTargetY()
call Eew(nM,fbw(xc[nM],vc[nM],mc[nM],iM,SM))
elseif oM==dS then
call iew(RS[nM],nM,3.0)
elseif oM==fS then
call Oew(RS[nM],nM,0.1)
endif
set SM=hi[RS[nM]]
call SetUnitScale(uo[nM],SM,SM,SM)
set SM=hi[RS[nM]]
call SetUnitScale(vn[nM],SM,SM,SM)
else
call f5()
endif
elseif KT[uM]<=794 then
set nM=Js[uM]
set oM=GetSpellAbilityId()
call oZ(oM,uo[nM])
if oM==1093677890 then
if IsUnitType(uo[nM],UNIT_TYPE_PEON) then
call UnitRemoveType(uo[nM],UNIT_TYPE_PEON)
call SetUnitPropWindow(Us[nM],0.)
call SetUnitPropWindow(uo[nM],0.)
call Rcw(xL(nM),AF,DF,0.,0.05,"ON",10.,2.,200,0,0,0,Ic[nM])
else
call UnitAddType(uo[nM],UNIT_TYPE_PEON)
call SetUnitPropWindow(Us[nM],60.)
call SetUnitPropWindow(uo[nM],60.)
call Rcw(xL(nM),AF,DF,0.,0.05,"OFF",10.,2.,0,200,0,0,Ic[nM])
endif
endif
else
set oM=GetUnitUserData(GetTriggerUnit())
if mT[oM]==724 then
set nM=GetSpellAbilityId()
if nM==1093678923 then
if ot[oM]>=200. then
call Rcw(xc[oM],vc[oM],mc[oM],0.,0.05,"|cffC51019Max",10.,2.,255,255,255,0,Ic[oM])
else
set ot[oM]=ot[oM]+10.
call Rcw(xc[oM],vc[oM],mc[oM],0.,0.05,"|cffC51019Damage "+R2SW(ot[oM],1,2),10.,2.,255,255,255,0,Ic[oM])
endif
elseif nM==1093678922 then
if ot[oM]<=0. then
call Rcw(xc[oM],vc[oM],mc[oM],0.,0.05,"|cffC51019Min",10.,2.,255,255,255,0,Ic[oM])
else
set ot[oM]=ot[oM]-10.
call Rcw(xc[oM],vc[oM],mc[oM],0.,0.05,"|cffC51019Damage "+R2SW(ot[oM],1,2),10.,2.,255,255,255,0,Ic[oM])
endif
endif
endif
endif
elseif KT[uM]<=803 then
if KT[uM]<=799 then
if KT[uM]<=797 then
if KT[uM]<=796 then
set nM=LS[uM]
set oM=GetSpellAbilityId()
if oM==1093677130 then
if KS[nM]then
call Aew(nM)
else
call Hew(nM)
endif
elseif oM==1093677399 then
call Kew(nM)
else
call Iew(nM,oM)
endif
else
call Vaw(lO[uM])
endif
elseif KT[uM]<=798 then
call Liw(Zf[uM])
else
call xP(Kt[uM])
endif
elseif KT[uM]<=801 then
if KT[uM]<=800 then
set oM=uy[uM]
set nM=GetSpellAbilityId()
if nM==Dt[0]then
set Cb[oM]=0
elseif nM==Dt[1]then
set Cb[oM]=1
elseif nM==Dt[2]then
set Cb[oM]=2
elseif nM==Dt[3]then
set Cb[oM]=3
elseif nM==Dt[4]then
set Cb[oM]=4
elseif nM==Dt[5]then
set Cb[oM]=5
elseif nM==Dt[6]then
set Cb[oM]=6
elseif nM==Dt[7]then
set Cb[oM]=7
elseif nM==Dt[8]then
set Cb[oM]=8
elseif nM==1093677133 then
set Bb[oM]=false
set GM=Vl[oM]
call UnitRemoveAbility(GM,1093677133)
call UnitAddAbility(GM,1093677391)
set Nb[oM]=AddSpecialEffect("XTex.mdx",xc[oM],vc[oM])
elseif nM==1093677391 then
set Bb[oM]=true
set GM=Vl[oM]
call UnitRemoveAbility(GM,1093677391)
call UnitAddAbility(GM,1093677133)
if Nb[oM]!=null then
call DestroyEffect(Nb[oM])
endif
endif
call Ddw(oM)
else
set oM=If[uM]
set nM=GetSpellAbilityId()
set Hc[oM]=0
if nM==Gf[1]then
call UnitRemoveAbility(uo[oM],Gf[1])
call UnitAddAbility(uo[oM],Gf[Ef[oM]])
set Ef[oM]=1
call DisplayTextToPlayer(GetOwningPlayer(GetSpellAbilityUnit()),0.,0.,"Poison")
elseif nM==Gf[2]then
call UnitRemoveAbility(uo[oM],Gf[2])
call UnitAddAbility(uo[oM],Gf[Ef[oM]])
set Ef[oM]=2
call DisplayTextToPlayer(GetOwningPlayer(GetSpellAbilityUnit()),0.,0.,"Lava")
elseif nM==Gf[0]then
call UnitRemoveAbility(uo[oM],Gf[0])
call UnitAddAbility(uo[oM],Gf[Ef[oM]])
set Ef[oM]=0
call DisplayTextToPlayer(GetOwningPlayer(GetSpellAbilityUnit()),0.,0.,"Normal")
elseif nM==1093678643 then
call UnitRemoveAbility(uo[oM],1093678643)
call UnitAddAbility(uo[oM],1093677123)
set Ef[oM]=0
call DisplayTextToPlayer(GetOwningPlayer(GetSpellAbilityUnit()),0.,0.,"Normal")
elseif nM==1093677123 then
call UnitRemoveAbility(uo[oM],1093677123)
call UnitAddAbility(uo[oM],1093678643)
set Ef[oM]=1
call DisplayTextToPlayer(GetOwningPlayer(GetSpellAbilityUnit()),0.,0.,"Reverse")
elseif nM==gf then
call yYw(oM)
set GM=uo[oM]
call UnitRemoveAbility(GM,gf)
call UnitAddAbility(GM,hf)
set Qf[oM]=0
elseif nM==Ff then
call yYw(oM)
set GM=uo[oM]
call UnitRemoveAbility(GM,Ff)
call UnitAddAbility(GM,kf)
set Qf[oM]=1
elseif nM==jf then
call yYw(oM)
set GM=uo[oM]
call UnitRemoveAbility(GM,jf)
call UnitAddAbility(GM,xf)
set Qf[oM]=2
elseif nM==mf then
set Wf[oM]=1
set GM=uo[oM]
call UnitRemoveAbility(GM,mf)
call UnitAddAbility(GM,vf)
elseif nM==vf then
set Wf[oM]=0
set GM=uo[oM]
call UnitRemoveAbility(GM,vf)
call UnitAddAbility(GM,mf)
endif
endif
elseif KT[uM]<=802 then
call hpw(Jt[uM])
else
call spw(Hs[uM])
endif
elseif KT[uM]<=807 then
if KT[uM]<=805 then
if KT[uM]<=804 then
set tM=GetManipulatedItem()
set GM=GetManipulatingUnit()
set oM=GetItemUserData(tM)
set nM=GetUnitUserData(GM)
set cM=mT[oM]
if cM>=705 and cM<=711 and(not Ac[oM]) then
set cM=mT[nM]
if cM>=770 and cM<=775 and(not Ac[nM]) then
if mT[oM]<=708 then
if mT[oM]<=707 then
if mT[oM]<=706 then
if rO[nM]==0 then
set rO[nM]=oM
set cM=FT[oM]
set sO[nM]=AddSpecialEffectTarget(fT[cM],uo[nM],"hand")
set hT[oM]=nM
call ShowUnit(Vl[oM],false)
set nM=FT[oM]
call UnitAddAbility(uo[hT[oM]],dT[nM])
else
call hYw(oM)
endif
else
call SetItemUserData(Bl[oM],0)
set Bl[oM]=null
call kqw(oM)
endif
elseif jq[eq[GetPlayerId(Ic[nM])]]==1 or Ic[oM]==Ic[nM]then
set Vb[oM]=true
set Mb[oM]=nM
set cM=D3(xc[oM],vc[oM],mc[oM],"war3mapImported\\Key_ITEM.mdx")
call Mnw(cM,X3(Cb[oM]),Ik,Pk,Ak)
set SM=Ylw(xL(nM),AF,DF,0.,0.,128.)
call WOw(xl[cM],SM,uk,rk)
set wy[oM]=cM
call ShowUnit(Vl[oM],false)
call mqw(oM)
else
set Vb[oM]=false
call UnitRemoveItem(uo[nM],Bl[oM])
call SetItemPosition(Bl[oM],xc[oM],vc[oM])
call GOw(Vl[oM],xc[oM],vc[oM])
call ShowUnit(Vl[oM],true)
set Mb[oM]=0
endif
elseif mT[oM]<=710 then
if mT[oM]<=709 then
call UnitAddAbility(uo[nM],Rs)
call ShowUnit(Vl[oM],false)
else
call kqw(oM)
endif
else
call kqw(oM)
endif
endif
endif
else
set nM=cT[uM]
set oM=GetSpellAbilityId()
if oM==1093678154 then
if iT[nM]<25. then
set iT[nM]=iT[nM]+.5
call Rcw(xc[nM],vc[nM],mc[nM],0.,0.06,"Gravity : "+R2S(iT[nM]),12.,2.,255,255,255,0,Ic[nM])
endif
elseif oM==1093678155 then
if iT[nM]>(-25.) then
set iT[nM]=iT[nM]-.5
call Rcw(xc[nM],vc[nM],mc[nM],0.,0.06,"Gravity : "+R2S(iT[nM]),12.,2.,255,255,255,0,Ic[nM])
endif
elseif oM==rT then
set ST[nM]=0
call Rcw(xc[nM],vc[nM],mc[nM],0.,0.06,"Z Mode: None",12.,2.,255,255,255,0,Ic[nM])
elseif oM==sT then
set ST[nM]=1
call Rcw(xc[nM],vc[nM],mc[nM],0.,0.06,"Z Mode: Cylinder",12.,2.,255,255,255,0,Ic[nM])
elseif oM==tT then
set ST[nM]=2
call Rcw(xc[nM],vc[nM],mc[nM],0.,0.06,"Z Mode: Hemisphere",12.,2.,255,255,255,0,Ic[nM])
endif
endif
elseif KT[uM]<=806 then
set nM=GetSpellAbilityId()
if nM==1093678150 or nM==1093677109 then
set GM=GetSpellAbilityUnit()
set cM=GetUnitUserData(GM)
set oM=mT[cM]
if oM>=741 and oM<=766 then
if nM==1093678150 then
set GM=uo[cM]
call UnitRemoveAbility(GM,1097295983)
call UnitAddAbility(GM,1097167976)
set GM=Fn[cM]
call UnitRemoveAbility(GM,1093678150)
call UnitAddAbility(GM,1093677109)
elseif nM==1093677109 then
set GM=uo[cM]
call UnitRemoveAbility(GM,1097167976)
call UnitAddAbility(GM,1097295983)
set GM=Fn[cM]
call UnitRemoveAbility(GM,1093677109)
call UnitAddAbility(GM,1093678150)
endif
elseif nM==1093678150 then
call UnitRemoveAbility(GM,1097295983)
call UnitAddAbility(GM,1097167976)
call UnitRemoveAbility(GM,1093678150)
call UnitAddAbility(GM,1093677109)
elseif nM==1093677109 then
if GetUnitAbilityLevel(GM,1097167976)>0 then
call UnitRemoveAbility(GM,1097167976)
endif
call UnitAddAbility(GM,1097295983)
call UnitRemoveAbility(GM,1093677109)
call UnitAddAbility(GM,1093678150)
endif
endif
else
call xow(QR[uM])
endif
elseif KT[uM]<=809 then
if KT[uM]<=808 then
call ETw(Td[uM])
else
call f5()
endif
elseif KT[uM]<=810 then
call f5()
else
call Inw(Fl[uM])
endif
elseif KT[uM]<=827 then
if KT[uM]<=819 then
if KT[uM]<=815 then
if KT[uM]<=813 then
if KT[uM]<=812 then
set tM=GetManipulatedItem()
set GM=GetManipulatingUnit()
set nM=GetItemUserData(tM)
set oM=GetUnitUserData(GM)
set cM=mT[nM]
if cM>=705 and cM<=711 and(not Ac[nM]) then
set cM=mT[oM]
if cM>=770 and cM<=775 and(not Ac[oM]) then
if mT[nM]<=708 then
if mT[nM]<=707 then
if mT[nM]<=706 then
call Oyw(nM,oM)
endif
endif
elseif mT[nM]<=710 then
endif
endif
endif
else
call spw(Ds[uM])
endif
elseif KT[uM]<=814 then
call Vaw(bO[uM])
else
call naw(yO[uM],0)
endif
elseif KT[uM]<=817 then
if KT[uM]<=816 then
call lTw(xn[uM])
else
call hpw(Ht[uM])
endif
elseif KT[uM]<=818 then
call spw(As[uM])
else
set oM=go[uM]
set cM=GetLearnedSkill()
set nM=GetLearnedSkillLevel()
if cM==1093679180 then
if nM==1 then
call UnitAddAbility(uo[oM],so)
elseif nM==2 then
set GM=uo[oM]
call UnitRemoveAbility(GM,so)
call UnitAddAbility(GM,io)
elseif nM==3 then
set GM=uo[oM]
call UnitRemoveAbility(GM,io)
call UnitAddAbility(GM,So)
endif
endif
endif
elseif KT[uM]<=823 then
if KT[uM]<=821 then
if KT[uM]<=820 then
set oM=NO[uM]
call E0w(1,"Executer casts")
set nM=GetSpellAbilityId()
if nM==1093678648 then
set IO[oM]=2
call UnitAddAbility(uo[oM],1093677390)
call UnitAddAbility(uo[oM],1093677368)
call UnitAddAbility(uo[oM],1093677393)
call UnitAddAbility(uo[oM],1093677878)
call UnitAddAbility(uo[oM],1093678162)
call UnitAddAbility(uo[oM],1093678675)
call UnitRemoveAbility(uo[oM],1093678648)
call UnitRemoveAbility(uo[oM],1093678649)
call UnitRemoveAbility(uo[oM],1093678647)
call UnitRemoveAbility(uo[oM],1093678646)
elseif nM==1093678649 then
set IO[oM]=1
call UnitAddAbility(uo[oM],1093677390)
call UnitAddAbility(uo[oM],1093677368)
call UnitAddAbility(uo[oM],1093677393)
call UnitAddAbility(uo[oM],1093677878)
call UnitAddAbility(uo[oM],1093678162)
call UnitAddAbility(uo[oM],1093678675)
call UnitRemoveAbility(uo[oM],1093678648)
call UnitRemoveAbility(uo[oM],1093678649)
call UnitRemoveAbility(uo[oM],1093678647)
call UnitRemoveAbility(uo[oM],1093678646)
elseif nM==1093678647 then
set IO[oM]=3
call UnitAddAbility(uo[oM],1093677390)
call UnitAddAbility(uo[oM],1093677368)
call UnitAddAbility(uo[oM],1093677393)
call UnitAddAbility(uo[oM],1093677878)
call UnitRemoveAbility(uo[oM],1093678648)
call UnitRemoveAbility(uo[oM],1093678649)
call UnitRemoveAbility(uo[oM],1093678647)
call UnitRemoveAbility(uo[oM],1093678646)
set BO[oM]=CreateDestructable(1146383478,GetUnitX(uo[oM]),GetUnitY(uo[oM]),0.,1.,0)
call SetDestructableAnimation(BO[oM],"death")
elseif nM==1093678646 then
set IO[oM]=4
call UnitAddAbility(uo[oM],1093677390)
call UnitAddAbility(uo[oM],1093677368)
call UnitAddAbility(uo[oM],1093677393)
call UnitAddAbility(uo[oM],1093677878)
call UnitRemoveAbility(uo[oM],1093678648)
call UnitRemoveAbility(uo[oM],1093678649)
call UnitRemoveAbility(uo[oM],1093678647)
call UnitRemoveAbility(uo[oM],1093678646)
set iM=GetUnitX(uo[oM])
set SM=GetUnitY(uo[oM])
call TriggerClearConditions(ds[oM])
call TriggerClearActions(ds[oM])
call DestroyTrigger(ds[oM])
set UO[oM]=CreateRegion()
set ZO[oM]=Rect(iM-50.,SM-50.,iM+50.,SM+50.)
call RegionAddRect(UO[oM],ZO[oM])
call MTw(RO,GetHandleId(UO[oM]),oM)
call TriggerRegisterLeaveRegion(mO,UO[oM],null)
call TriggerAddAction(mO,om)
call TriggerRegisterEnterRegion(QO,UO[oM],null)
call TriggerAddAction(QO,Om)
set BO[oM]=CreateDestructable(1110454321,GetUnitX(uo[oM]),GetUnitY(uo[oM]),0.,1.,0)
call SetDestructableAnimation(BO[oM],"stand alternate")
elseif nM==1093678682 then
set VO[oM]=false
call SetUnitVertexColor(uo[oM],0,128,0,255)
call UnitRemoveAbility(uo[oM],1093678682)
elseif nM==1093678150 then
if IO[oM]==4 then
call ShowDestructable(BO[oM],true)
call SetDestructableAnimation(BO[oM],"death")
elseif IO[oM]==3 then
call ShowDestructable(BO[oM],true)
call SetDestructableAnimation(BO[oM],"stand alternate")
endif
elseif nM==1093677109 then
if IO[oM]==4 then
call ShowDestructable(BO[oM],false)
elseif IO[oM]==3 then
call ShowDestructable(BO[oM],false)
endif
elseif nM==1093677362 then
set WO[oM]=true
set EO[oM]=true
call UnitRemoveAbility(uo[oM],1093677362)
call UnitAddAbility(uo[oM],1093677364)
elseif nM==1093677113 then
set WO[oM]=true
set EO[oM]=false
call UnitRemoveAbility(uo[oM],1093677113)
call UnitAddAbility(uo[oM],1093677362)
elseif nM==1093677364 then
set WO[oM]=false
set EO[oM]=true
call UnitRemoveAbility(uo[oM],1093677364)
call UnitAddAbility(uo[oM],1093677113)
elseif nM==1093677368 then
set PO[oM]=1
call UnitRemoveAbility(uo[oM],1093677390)
call UnitRemoveAbility(uo[oM],1093677368)
call UnitRemoveAbility(uo[oM],1093677393)
call UnitRemoveAbility(uo[oM],1093677878)
call UnitRemoveAbility(uo[oM],1093678162)
call UnitRemoveAbility(uo[oM],1093678675)
call UnitAddAbility(uo[oM],1415671403)
elseif nM==1093677390 then
set PO[oM]=2
call UnitRemoveAbility(uo[oM],1093677390)
call UnitRemoveAbility(uo[oM],1093677368)
call UnitRemoveAbility(uo[oM],1093677393)
call UnitRemoveAbility(uo[oM],1093677878)
call UnitRemoveAbility(uo[oM],1093678162)
call UnitRemoveAbility(uo[oM],1093678675)
call UnitAddAbility(uo[oM],1415671403)
elseif nM==1093677393 then
set PO[oM]=3
call UnitRemoveAbility(uo[oM],1093677390)
call UnitRemoveAbility(uo[oM],1093677368)
call UnitRemoveAbility(uo[oM],1093677393)
call UnitRemoveAbility(uo[oM],1093677878)
call UnitRemoveAbility(uo[oM],1093678162)
call UnitRemoveAbility(uo[oM],1093678675)
call UnitAddAbility(uo[oM],1415671403)
elseif nM==1093677878 then
set PO[oM]=6
call UnitRemoveAbility(uo[oM],1093677390)
call UnitRemoveAbility(uo[oM],1093677368)
call UnitRemoveAbility(uo[oM],1093677393)
call UnitRemoveAbility(uo[oM],1093677878)
call UnitRemoveAbility(uo[oM],1093678162)
call UnitRemoveAbility(uo[oM],1093678675)
call UnitAddAbility(uo[oM],1415671403)
call UnitAddAbility(uo[oM],1093677389)
call UnitAddAbility(uo[oM],1093677387)
call UnitAddAbility(uo[oM],1093677396)
call UnitAddAbility(uo[oM],1093677397)
call UnitAddAbility(uo[oM],1093677877)
if IO[oM]==3 or IO[oM]==4 then
call UnitAddAbility(uo[oM],1093678658)
endif
set DO[oM]=808464432
set HO[oM]=808464433
elseif nM==1093677365 then
set DO[oM]=808464432
elseif nM==1093677889 then
set HO[oM]=808464432
elseif nM==1093677366 then
set DO[oM]=808464433
elseif nM==1093677881 then
set HO[oM]=808464433
elseif nM==1093677369 then
set DO[oM]=1315529573
elseif nM==1093677880 then
set HO[oM]=1315529573
elseif nM==1093677377 then
set DO[oM]=1231317865
elseif nM==1093677879 then
set HO[oM]=1231317865
elseif nM==1093678675 then
set PO[oM]=4
set XO[oM]=1
call UnitRemoveAbility(uo[oM],1093677390)
call UnitRemoveAbility(uo[oM],1093677368)
call UnitRemoveAbility(uo[oM],1093677393)
call UnitRemoveAbility(uo[oM],1093677878)
call UnitRemoveAbility(uo[oM],1093678162)
call UnitRemoveAbility(uo[oM],1093678675)
call UnitAddAbility(uo[oM],1415671403)
call UnitAddAbility(uo[oM],1093678130)
elseif nM==1093678133 then
set XO[oM]=4
elseif nM==1093678134 then
set XO[oM]=3
elseif nM==1093678136 then
set XO[oM]=6
elseif nM==1093678146 then
set XO[oM]=5
elseif nM==1093678147 then
set XO[oM]=1
elseif nM==1093678167 then
set XO[oM]=2
elseif nM==1093678148 then
set XO[oM]=7
elseif nM==1093678930 then
set XO[oM]=8
elseif nM==1093678162 then
set CO[oM]="move"
if PO[oM]==0 then
set PO[oM]=5
call UnitRemoveAbility(uo[oM],1093677390)
call UnitRemoveAbility(uo[oM],1093677368)
call UnitRemoveAbility(uo[oM],1093677393)
call UnitRemoveAbility(uo[oM],1093677878)
call UnitRemoveAbility(uo[oM],1093678162)
call UnitRemoveAbility(uo[oM],1093678675)
call UnitAddAbility(uo[oM],1415671403)
call UnitAddAbility(uo[oM],1093678645)
call UnitAddAbility(uo[oM],1093678162)
call UnitAddAbility(uo[oM],1093678644)
call UnitAddAbility(uo[oM],1093678657)
endif
elseif nM==1093678644 then
set CO[oM]="patrol"
elseif nM==1093678645 then
set CO[oM]="stop"
elseif nM==1093678657 then
set GM=GetSpellTargetUnit()
if GetOwningPlayer(GM)==Ic[oM]then
set hM=Gww(GetUnitUserData(GM))==Gww(oM)
else
set hM=false
endif
if hM then
set hM=mT[GetUnitUserData(GM)]!=768
else
set hM=false
endif
if hM then
set LO[oM]=GM
endif
elseif nM==1093677387 then
if KO[oM]<=3 then
set KO[oM]=KO[oM]+1
endif
elseif nM==1093677389 then
if JO[oM]<=3 then
set JO[oM]=JO[oM]+1
endif
elseif nM==1093677397 then
if KO[oM]>=1 then
set KO[oM]=KO[oM]-1
endif
elseif nM==1093677396 then
if JO[oM]>=1 then
set JO[oM]=JO[oM]-1
endif
endif
else
set nM=GetSpellAbilityId()
set oM=GetUnitUserData(GetSpellAbilityUnit())
if nM==1093677381 or nM==1093677384 then
set cM=mT[oM]
set hM=cM>=741 and cM<=766
else
set hM=false
endif
if hM then
set SM=sww(GetUnitMoveSpeed(Fn[oM])/25.)*25.
if nM==1093677381 then
if SM<=500. then
call SetUnitMoveSpeed(Fn[oM],SM+25.)
call SetUnitMoveSpeed(uo[oM],SM+25.)
call Rcw(qqw(oM),jk,xk,0.,0.05,R2S(SM+25.),10.,2.,255,255,255,0,Ic[oM])
endif
elseif nM==1093677384 then
if SM>50.5 then
call SetUnitMoveSpeed(Fn[oM],SM-25.)
call SetUnitMoveSpeed(uo[oM],SM-25.)
call Rcw(qqw(oM),jk,xk,0.,0.05,R2S(SM-25.),10.,2.,255,255,255,0,Ic[oM])
endif
endif
endif
endif
elseif KT[uM]<=822 then
set oM=fs[uM]
if mT[oM]<=727 then
if mT[oM]<=723 then
if mT[oM]<=721 then
if mT[oM]<=720 then
call aZ(oM)
else
call aZ(oM)
set nM=GetSpellAbilityId()
if nM==1093678159 then
call iew(ct[oM],oM,525.)
elseif nM==1093678161 then
call Oew(ct[oM],oM,25.)
endif
endif
elseif mT[oM]<=722 then
call aZ(oM)
else
call aZ(oM)
set nM=GetSpellAbilityId()
if nM==1093677364 then
set GM=uo[oM]
call UnitRemoveAbility(GM,1093677364)
call UnitAddAbility(GM,1093677113)
set bf[oM]=0
elseif nM==1093677113 then
set GM=uo[oM]
call UnitRemoveAbility(GM,1093677113)
call UnitAddAbility(GM,1093677362)
set bf[oM]=1
elseif nM==1093677362 then
set GM=uo[oM]
call UnitRemoveAbility(GM,1093677362)
call UnitAddAbility(GM,1093677364)
set bf[oM]=2
endif
endif
elseif mT[oM]<=725 then
if mT[oM]<=724 then
call aZ(oM)
else
call aZ(oM)
set nM=GetSpellAbilityId()
if nM==1093678896 then
set GM=uo[oM]
call UnitRemoveAbility(GM,1093678896)
call UnitAddAbility(GM,1093678897)
call SetUnitVertexColor(GM,75,95,205,255)
set Ib[oM]=1
call ayw(oM)
elseif nM==1093678897 then
set GM=uo[oM]
call UnitRemoveAbility(GM,1093678897)
call UnitAddAbility(GM,1093678896)
call SetUnitVertexColor(GM,50,50,255,255)
set Ib[oM]=0
elseif nM==1093678899 then
call Oew(Pb[oM],oM,6.)
elseif nM==1093678898 then
call iew(Pb[oM],oM,30.)
elseif nM==1093678927 then
if Ub[oM]<5 then
set OM=sww(GetSpellTargetX()/128.)
set cM=sww(GetSpellTargetY()/128.)
set yM=CreateImage("textures\\blugoo.blp",128,128,0.,OM*128.,cM*128.,0.,128/2.,128/2.,0.,1)
call SetImageRenderAlways(yM,true)
set nM=Ub[oM]
set lM=P2(yM,OM,cM)
if nM<0 or nM>=5 then
call tX("Index out of Bounds")
elseif nM<=2 then
if nM<=1 then
if nM<=0 then
set aF[oM]=lM
else
set nF[oM]=lM
endif
else
set dF[oM]=lM
endif
elseif nM<=3 then
set fF[oM]=lM
else
set RF[oM]=lM
endif
set Ub[oM]=Ub[oM]+1
call SaveInteger(yf,OM,cM,tI(LoadInteger(yf,OM,cM),2))
endif
endif
endif
else
call aZ(oM)
endif
elseif mT[oM]<=731 then
if mT[oM]<=729 then
if mT[oM]<=728 then
set nM=oM
call aZ(oM)
set cM=GetSpellAbilityId()
set iM=GetSpellTargetX()
set SM=GetSpellTargetY()
if cM==Hp then
if lY==0 then
if bY<8191 then
set bY=bY+1
set nM=bY
set yY[nM]=648
else
call tX("Out of memory: Could not create Closure.")
set nM=0
endif
else
set lY=lY-1
set nM=OY[lY]
set yY[nM]=648
endif
set Ge[nM]=oM
call sA(iM,SM,256.,nM)
elseif cM==Dp then
if Ic[GetUnitUserData(GetSpellTargetUnit())]==Ic[oM]then
call X7(oM,GetUnitUserData(GetSpellTargetUnit()),true)
endif
elseif cM==Kp then
call t8(oM,iM,SM,true)
elseif cM==Lp then
call PauseUnit(uo[oM],true)
call Nrw(je[oM],xc[oM],vc[oM],mc[oM],"|cff0884CEsaving...",10.)
set iM=Gcw(xc[oM],vc[oM])
set SM=Hk
set Fc=iM
set kc=SM
set jc=0.
set cM=tfw(he[oM])
set We[oM]=1
call Dyw(Qe[oM])
call Xyw(Qe[oM],pn[pb])
if VY==0 then
if BY<8191 then
set BY=BY+1
set nM=BY
set NY[nM]=1089
else
call tX("Out of memory: Could not create Closure.")
set nM=0
endif
else
set VY=VY-1
set nM=CY[VY]
set NY[nM]=1089
endif
set qn[nM]=false
set an[nM]=null
set ne[nM]=cM
set de[nM]=oM
call Bww(nM)
elseif cM==Xp then
call PauseUnit(uo[oM],true)
call Nrw(je[oM],xc[oM],vc[oM],mc[oM],"|cff0884CEsaving...",10.)
set SM=Gcw(xc[oM],vc[oM])
set iM=Hk
set Fc=SM
set kc=iM
set jc=0.
set cM=tfw(he[oM])
set We[oM]=2
call Dyw(Qe[oM])
call Xyw(Qe[oM],pn[pb])
if VY==0 then
if BY<8191 then
set BY=BY+1
set nM=BY
set NY[nM]=1089
else
call tX("Out of memory: Could not create Closure.")
set nM=0
endif
else
set VY=VY-1
set nM=CY[VY]
set NY[nM]=1089
endif
set qn[nM]=false
set an[nM]=null
set ne[nM]=cM
set de[nM]=oM
call Bww(nM)
elseif cM==Cp then
call PauseUnit(uo[oM],true)
call Nrw(je[oM],xc[oM],vc[oM],mc[oM],"|cff0884CEsaving...",10.)
set SM=Gcw(xc[oM],vc[oM])
set iM=Hk
set Fc=SM
set kc=iM
set jc=0.
set cM=tfw(he[oM])
set We[oM]=3
call Dyw(Qe[oM])
call Xyw(Qe[oM],pn[pb])
if VY==0 then
if BY<8191 then
set BY=BY+1
set nM=BY
set NY[nM]=1089
else
call tX("Out of memory: Could not create Closure.")
set nM=0
endif
else
set VY=VY-1
set nM=CY[VY]
set NY[nM]=1089
endif
set qn[nM]=false
set an[nM]=null
set ne[nM]=cM
set de[nM]=oM
call Bww(nM)
elseif cM==Vp then
call PauseUnit(uo[oM],true)
call Nrw(je[oM],xc[oM],vc[oM],mc[oM],"|cff0884CEsaving...",10.)
set SM=Gcw(xc[oM],vc[oM])
set iM=Hk
set Fc=SM
set kc=iM
set jc=0.
set nM=tfw(he[oM])
set We[oM]=4
call Dyw(Qe[oM])
call Xyw(Qe[oM],pn[pb])
if VY==0 then
if BY<8191 then
set BY=BY+1
set cM=BY
set NY[cM]=1089
else
call tX("Out of memory: Could not create Closure.")
set cM=0
endif
else
set VY=VY-1
set cM=CY[VY]
set NY[cM]=1089
endif
set qn[cM]=false
set an[cM]=null
set ne[cM]=nM
set de[cM]=oM
call Bww(cM)
elseif cM==Bp then
call PauseUnit(uo[oM],true)
call Nrw(je[oM],xc[oM],vc[oM],mc[oM],"|cff0884CEloading...",10.)
set ge[GetPlayerId(Ic[oM])]=oM
call Dsw(eq[GetPlayerId(Ic[oM])],"dataSlot"+I2S(1),Filter(lm))
elseif cM==Np then
call PauseUnit(uo[oM],true)
call Nrw(je[oM],xc[oM],vc[oM],mc[oM],"|cff0884CEloading...",10.)
set ge[GetPlayerId(Ic[oM])]=oM
call Dsw(eq[GetPlayerId(Ic[oM])],"dataSlot"+I2S(2),Filter(lm))
elseif cM==Mp then
call PauseUnit(uo[oM],true)
call Nrw(je[oM],xc[oM],vc[oM],mc[oM],"|cff0884CEloading...",10.)
set ge[GetPlayerId(Ic[oM])]=oM
call Dsw(eq[GetPlayerId(Ic[oM])],"dataSlot"+I2S(3),Filter(lm))
elseif cM==we then
call PauseUnit(uo[oM],true)
call Nrw(je[oM],xc[oM],vc[oM],mc[oM],"|cff0884CEloading...",10.)
set ge[GetPlayerId(Ic[oM])]=oM
call Dsw(eq[GetPlayerId(Ic[oM])],"dataSlot"+I2S(4),Filter(lm))
elseif cM==Jp then
set OM=sww(2)
set lM=-OM
set bM=OM
loop
exitwhen lM>bM
set oM=-OM
set cM=OM
loop
exitwhen oM>cM
call t8(nM,iM+lM*128.,SM+oM*128.,false)
set oM=oM+1
endloop
set lM=lM+1
endloop
endif
else
call aZ(oM)
endif
elseif mT[oM]<=730 then
call aZ(oM)
set nM=GetSpellAbilityId()
if nM==1093678388 then
if yT[oM]<5. then
set yT[oM]=yT[oM]+.25
call Rcw(xc[oM],vc[oM],mc[oM],0.,0.05,"Delay "+R2S(yT[oM]),10.,2.,255,255,255,0,Ic[oM])
else
call Rcw(xc[oM],vc[oM],mc[oM],0.,0.05,"Maximum Delay",10.,2.,255,255,255,0,Ic[oM])
endif
elseif nM==1093678389 then
if yT[oM]>=.25 then
set yT[oM]=yT[oM]-.25
call Rcw(xc[oM],vc[oM],mc[oM],0.,0.05,"Delay "+R2S(yT[oM]),10.,2.,255,255,255,0,Ic[oM])
else
call Rcw(xc[oM],vc[oM],mc[oM],0.,0.05,"Minimum Delay",10.,2.,255,255,255,0,Ic[oM])
endif
elseif nM==1093677623 then
if pT[oM]then
set pT[oM]=false
call Rcw(xc[oM],vc[oM],mc[oM],0.,0.05,"Wisps |cffAD0821inactive",10.,2.,255,255,255,0,Ic[oM])
else
set pT[oM]=true
call Rcw(xc[oM],vc[oM],mc[oM],0.,0.05,"Wisps |cff08BD52active",10.,2.,255,255,255,0,Ic[oM])
endif
elseif nM==1093679176 then
set nM=GetUnitUserData(GetSpellTargetUnit())
if nM!=0 and mT[nM]==730 then
set eT[oM]=nM
set eT[eT[oM]]=oM
call Rcw(qqw(nM),jk,xk,0.,0.1,"|cff0873C5Linked",9.,1.5,255,255,255,255,Ic[oM])
else
set eT[oM]=0
endif
endif
else
call aZ(oM)
set nM=GetSpellAbilityId()
if nM==1093677392 then
if ZR[oM]>=15. then
call Rcw(xc[oM],vc[oM],mc[oM],0.,0.05,"|cffC51019Max",10.,2.,255,255,255,0,Ic[oM])
else
set ZR[oM]=ZR[oM]+0.25
call Rcw(xc[oM],vc[oM],mc[oM],0.,0.05,"|cffC51019Intervall "+R2SW(ZR[oM],1,2),10.,2.,255,255,255,0,Ic[oM])
endif
elseif nM==1093677394 then
if ZR[oM]<0.75 then
call Rcw(xc[oM],vc[oM],mc[oM],0.,0.05,"|cffC51019Min",10.,2.,255,255,255,0,Ic[oM])
else
set ZR[oM]=ZR[oM]-0.25
call Rcw(xc[oM],vc[oM],mc[oM],0.,0.05,"|cffC51019Intervall "+R2SW(ZR[oM],1,2),10.,2.,255,255,255,0,Ic[oM])
endif
elseif nM==1093678133 then
set IR[oM]=1112098635
elseif nM==1093678134 then
set IR[oM]=1397571916
elseif nM==1093678136 then
set IR[oM]=1966092344
elseif nM==1093678148 then
set IR[oM]=1747988817
elseif nM==1093678167 then
set IR[oM]=1966092353
elseif nM==1093678147 then
set IR[oM]=1747988529
elseif nM==1093678146 then
set IR[oM]=1966092342
elseif nM==1093678930 then
set IR[oM]=1966092359
elseif nM==WR then
set GM=uo[oM]
call UnitRemoveAbility(GM,WR)
call UnitAddAbility(GM,ER)
set PR[oM]=1
elseif nM==ER then
set GM=uo[oM]
call UnitRemoveAbility(GM,ER)
call UnitAddAbility(GM,WR)
set PR[oM]=0
endif
endif
elseif mT[oM]<=735 then
if mT[oM]<=734 then
call aZ(oM)
else
call aZ(oM)
call oZ(GetSpellAbilityId(),uo[oM])
endif
else
call aZ(oM)
endif
else
set GM=GetTriggerUnit()
if GetUnitUserData(GM)>0 then
set oM=GetUnitUserData(GM)
if oM!=0 and(not Ac[oM]) then
set hM=Ft[oM]!=0
else
set hM=false
endif
if hM then
set oM=tfw(Ft[oM])
loop
exitwhen Jy[Vy[oM]]==Cy[oM]
set Vy[oM]=Jy[Vy[oM]]
call cpw(Dy[Vy[oM]])
endloop
endif
endif
endif
elseif KT[uM]<=825 then
if KT[uM]<=824 then
set oM=xR[uM]
set nM=GetSpellAbilityId()
if nM==1093678660 then
if RR[oM]>=9 then
set RR[oM]=0
else
set RR[oM]=RR[oM]+1
endif
if RR[oM]<9 then
call DestroyEffect(AddSpecialEffect(fR[RR[oM]],GetUnitX(uo[oM]),GetUnitY(uo[oM])))
else
call Rcw(xc[oM],vc[oM],mc[oM],0.,0.05,"|cffC51019No Effect",14.,2.,255,255,255,0,Ic[oM])
endif
elseif nM==1093678659 then
if RR[oM]<=0 then
set RR[oM]=9
else
set RR[oM]=RR[oM]-1
endif
if RR[oM]<9 then
call DestroyEffect(AddSpecialEffect(fR[RR[oM]],GetUnitX(uo[oM]),GetUnitY(uo[oM])))
else
call Rcw(xc[oM],vc[oM],mc[oM],0.,0.05,"|cffC51019No Effect",14.,2.,255,255,255,0,Ic[oM])
endif
elseif nM==1093678661 then
set GR[oM]=0
call UnitRemoveAbility(uo[oM],1093678661)
call UnitRemoveAbility(uo[oM],1093678663)
call UnitRemoveAbility(uo[oM],1093677875)
call UnitRemoveAbility(uo[oM],1093678665)
call UnitRemoveAbility(uo[oM],1093678664)
call UnitRemoveAbility(uo[oM],1093678662)
call UnitAddAbility(uo[oM],1093677647)
call UnitAddAbility(uo[oM],1093677649)
call UnitAddAbility(uo[oM],1093677652)
call UnitAddAbility(uo[oM],1093678660)
call UnitAddAbility(uo[oM],1093678659)
if qs[oM]!=null then
call DestroyEffect(qs[oM])
set qs[oM]=null
endif
elseif nM==1093678663 then
set GR[oM]=1
set gR[oM]=1.
call UnitRemoveAbility(uo[oM],1093678661)
call UnitRemoveAbility(uo[oM],1093678663)
call UnitRemoveAbility(uo[oM],1093677875)
call UnitRemoveAbility(uo[oM],1093678665)
call UnitRemoveAbility(uo[oM],1093678664)
call UnitRemoveAbility(uo[oM],1093678662)
call UnitAddAbility(uo[oM],1093677647)
call UnitAddAbility(uo[oM],1093677649)
call UnitAddAbility(uo[oM],1093677652)
call UnitAddAbility(uo[oM],1093678660)
call UnitAddAbility(uo[oM],1093678659)
call UnitAddAbility(uo[oM],1093677622)
call UnitAddAbility(uo[oM],1093677621)
if qs[oM]!=null then
call DestroyEffect(qs[oM])
set qs[oM]=null
endif
elseif nM==1093678665 then
set GR[oM]=3
set hR[oM]=120.
set gR[oM]=1.
call UnitRemoveAbility(uo[oM],1093678661)
call UnitRemoveAbility(uo[oM],1093678663)
call UnitRemoveAbility(uo[oM],1093677875)
call UnitRemoveAbility(uo[oM],1093678665)
call UnitRemoveAbility(uo[oM],1093678664)
call UnitRemoveAbility(uo[oM],1093678662)
call UnitAddAbility(uo[oM],1093677647)
call UnitAddAbility(uo[oM],1093677649)
call UnitAddAbility(uo[oM],1093677652)
call UnitAddAbility(uo[oM],1093678660)
call UnitAddAbility(uo[oM],1093678659)
call UnitAddAbility(uo[oM],1093677619)
call UnitAddAbility(uo[oM],1093677395)
if qs[oM]!=null then
call DestroyEffect(qs[oM])
set qs[oM]=null
endif
elseif nM==1093677875 then
set GR[oM]=5
set hR[oM]=500.
set gR[oM]=3.
call UnitRemoveAbility(uo[oM],1093678661)
call UnitRemoveAbility(uo[oM],1093678663)
call UnitRemoveAbility(uo[oM],1093677875)
call UnitRemoveAbility(uo[oM],1093678665)
call UnitRemoveAbility(uo[oM],1093678664)
call UnitRemoveAbility(uo[oM],1093678662)
call UnitAddAbility(uo[oM],1093677647)
call UnitAddAbility(uo[oM],1093677649)
call UnitAddAbility(uo[oM],1093677652)
call UnitAddAbility(uo[oM],1093678660)
call UnitAddAbility(uo[oM],1093678659)
call UnitAddAbility(uo[oM],1093677622)
call UnitAddAbility(uo[oM],1093677621)
call UnitAddAbility(uo[oM],1093677619)
call UnitAddAbility(uo[oM],1093677395)
if qs[oM]!=null then
call DestroyEffect(qs[oM])
set qs[oM]=null
endif
elseif nM==1093678664 then
set GR[oM]=4
set hR[oM]=10.
call UnitAddAbility(uo[oM],1095917932)
call UnitAddAbility(uo[oM],1093678900)
call UnitRemoveAbility(uo[oM],1093678661)
call UnitRemoveAbility(uo[oM],1093678663)
call UnitRemoveAbility(uo[oM],1093677875)
call UnitRemoveAbility(uo[oM],1093678665)
call UnitRemoveAbility(uo[oM],1093678664)
call UnitRemoveAbility(uo[oM],1093678662)
call UnitAddAbility(uo[oM],1093677647)
call UnitAddAbility(uo[oM],1093677649)
call UnitAddAbility(uo[oM],1093677652)
call UnitAddAbility(uo[oM],1093678660)
call UnitAddAbility(uo[oM],1093678659)
call UnitAddAbility(uo[oM],1093677619)
call UnitAddAbility(uo[oM],1093677395)
if qs[oM]!=null then
call DestroyEffect(qs[oM])
set qs[oM]=null
endif
elseif nM==1093678662 then
set GR[oM]=2
call UnitRemoveAbility(uo[oM],1093678661)
call UnitRemoveAbility(uo[oM],1093678663)
call UnitRemoveAbility(uo[oM],1093677875)
call UnitRemoveAbility(uo[oM],1093678665)
call UnitRemoveAbility(uo[oM],1093678664)
call UnitRemoveAbility(uo[oM],1093678662)
call UnitAddAbility(uo[oM],1093677647)
call UnitAddAbility(uo[oM],1093677649)
call UnitAddAbility(uo[oM],1093677652)
call UnitAddAbility(uo[oM],1093678660)
call UnitAddAbility(uo[oM],1093678659)
if qs[oM]!=null then
call DestroyEffect(qs[oM])
set qs[oM]=null
endif
elseif nM==1093677647 then
if TR[oM]>=10. then
call Rcw(xc[oM],vc[oM],mc[oM],0.,0.05,"|cffC51019Max",10.,2.,255,255,255,0,Ic[oM])
else
set TR[oM]=TR[oM]+0.25
call Rcw(xc[oM],vc[oM],mc[oM],0.,0.05,"|cffC51019Intervall "+R2SW(TR[oM],1,2),10.,2.,255,255,255,0,Ic[oM])
endif
elseif nM==1093677649 then
if TR[oM]<0.75 then
call Rcw(xc[oM],vc[oM],mc[oM],0.,0.05,"|cffC51019Min",10.,2.,255,255,255,0,Ic[oM])
else
set TR[oM]=TR[oM]-0.25
call Rcw(xc[oM],vc[oM],mc[oM],0.,0.05,"|cffC51019Intervall "+R2SW(TR[oM],1,2),10.,2.,255,255,255,0,Ic[oM])
endif
elseif nM==1093677619 then
set nM=GR[oM]
if nM==4 then
if hR[oM]>=200. then
call Rcw(xc[oM],vc[oM],mc[oM],0.,0.05,"|cffC51019Max Force",10.,2.,255,255,255,0,Ic[oM])
else
set hR[oM]=hR[oM]+5.
call Rcw(xc[oM],vc[oM],mc[oM],0.,0.05,"|cffC51019Force "+R2SW(hR[oM],1,0),10.,2.,255,255,255,0,Ic[oM])
endif
elseif nM==5 then
if hR[oM]>=1500. then
call Rcw(xc[oM],vc[oM],mc[oM],0.,0.05,"|cffC51019Intensity Max",10.,2.,255,255,255,0,Ic[oM])
else
set hR[oM]=hR[oM]+100.
call Rcw(xc[oM],vc[oM],mc[oM],0.,0.05,"|cffC51019Intensity "+R2SW(hR[oM],1,0),10.,2.,255,255,255,0,Ic[oM])
endif
elseif nM==3 then
if hR[oM]>=180. then
set kR[oM]=kR[oM]+1
call Rcw(xc[oM],vc[oM],mc[oM],0.,0.05,"|cffC51019Max Speed",10.,2.,255,255,255,0,Ic[oM])
else
set hR[oM]=hR[oM]+20.
call Rcw(xc[oM],vc[oM],mc[oM],0.,0.05,"|cffC51019Speed Bonus "+R2SW(hR[oM],1,0)+"%",10.,2.,255,255,255,0,Ic[oM])
endif
if kR[oM]>10 then
set kR[oM]=-99999999
call DisplayTimedTextToPlayer(Ic[oM],0.,0.,20.,"|cff08C5E6Relax|r, it's already |cffCE2919max|r... |cffFF7B29But maybe this will help you!")
call UnitAddAbility(uo[oM],1093678934)
endif
endif
elseif nM==1093677395 then
set nM=GR[oM]
if nM==4 then
if hR[oM]<=5. then
call Rcw(xc[oM],vc[oM],mc[oM],0.,0.05,"|cffC51019Min Force",10.,2.,255,255,255,0,Ic[oM])
else
set hR[oM]=hR[oM]-5.
call Rcw(xc[oM],vc[oM],mc[oM],0.,0.05,"|cffC51019Force "+I2S(R2I(hR[oM])),10.,2.,255,255,255,0,Ic[oM])
endif
elseif nM==5 then
if hR[oM]<=100. then
call Rcw(xc[oM],vc[oM],mc[oM],0.,0.05,"|cffC51019Min Intensity",10.,2.,255,255,255,0,Ic[oM])
else
set hR[oM]=hR[oM]-100.
call Rcw(xc[oM],vc[oM],mc[oM],0.,0.05,"|cffC51019Intensity "+I2S(R2I(hR[oM])),10.,2.,255,255,255,0,Ic[oM])
endif
elseif nM==3 then
if hR[oM]<=20. then
call Rcw(xc[oM],vc[oM],mc[oM],0.,0.05,"|cffC51019Min Speed",10.,2.,255,255,255,0,Ic[oM])
else
set hR[oM]=hR[oM]-20.
call Rcw(xc[oM],vc[oM],mc[oM],0.,0.05,"|cffC51019Speed Bonus "+I2S(R2I(hR[oM]))+"%",10.,2.,255,255,255,0,Ic[oM])
endif
endif
elseif nM==1093677622 then
set nM=GR[oM]
if nM==1 then
if gR[oM]>=4. then
call Rcw(xc[oM],vc[oM],mc[oM],0.,0.05,"|cffC51019Max Duration",10.,2.,255,255,255,0,Ic[oM])
else
set gR[oM]=gR[oM]+1.
call Rcw(xc[oM],vc[oM],mc[oM],0.,0.05,"|cffC51019Duration "+R2SW(gR[oM],1,0),10.,2.,255,255,255,0,Ic[oM])
endif
elseif nM==5 then
if gR[oM]>=5. then
call Rcw(xc[oM],vc[oM],mc[oM],0.,0.05,"|cffC51019Max Duration",10.,2.,255,255,255,0,Ic[oM])
else
set gR[oM]=gR[oM]+1.
call Rcw(xc[oM],vc[oM],mc[oM],0.,0.05,"|cffC51019Duration "+R2SW(gR[oM],1,0),10.,2.,255,255,255,0,Ic[oM])
endif
elseif nM==3 then
if gR[oM]>=20. then
call Rcw(xc[oM],vc[oM],mc[oM],0.,0.05,"|cffC51019Max Duration",10.,2.,255,255,255,0,Ic[oM])
else
set gR[oM]=gR[oM]+1.
call Rcw(xc[oM],vc[oM],mc[oM],0.,0.05,"|cffC51019Duration "+R2SW(gR[oM],1,0),10.,2.,255,255,255,0,Ic[oM])
endif
endif
elseif nM==1093677621 then
set nM=GR[oM]
if nM==1 then
if gR[oM]<=1. then
call Rcw(xc[oM],vc[oM],mc[oM],0.,0.05,"|cffC51019Min Duration",10.,2.,255,255,255,0,Ic[oM])
else
set gR[oM]=gR[oM]-1.
call Rcw(xc[oM],vc[oM],mc[oM],0.,0.05,"|cffC51019Duration "+R2SW(gR[oM],1,0),10.,2.,255,255,255,0,Ic[oM])
endif
elseif nM==5 then
if gR[oM]<=1. then
call Rcw(xc[oM],vc[oM],mc[oM],0.,0.05,"|cffC51019Min Duration",10.,2.,255,255,255,0,Ic[oM])
else
set gR[oM]=gR[oM]-1.
call Rcw(xc[oM],vc[oM],mc[oM],0.,0.05,"|cffC51019Duration "+R2SW(gR[oM],1,0),10.,2.,255,255,255,0,Ic[oM])
endif
elseif nM==3 then
if gR[oM]<=1. then
call Rcw(xc[oM],vc[oM],mc[oM],0.,0.05,"|cffC51019Min Duration",10.,2.,255,255,255,0,Ic[oM])
else
set gR[oM]=gR[oM]-1.
call Rcw(xc[oM],vc[oM],mc[oM],0.,0.05,"|cffC51019Duration "+R2SW(gR[oM],1,0),10.,2.,255,255,255,0,Ic[oM])
endif
endif
elseif nM==1093677652 then
call mqw(oM)
call UnitRemoveAbility(uo[oM],1093677652)
call UnitAddAbility(uo[oM],1093677653)
elseif nM==1093677653 then
call xqw(oM)
set YR[oM]=0.
call UnitRemoveAbility(uo[oM],1093677653)
call UnitAddAbility(uo[oM],1093677652)
elseif nM==1093678900 then
set FR[oM]=true
call UnitRemoveAbility(uo[oM],1093678900)
call UnitAddAbility(uo[oM],1093678901)
elseif nM==1093678901 then
set FR[oM]=false
call UnitRemoveAbility(uo[oM],1093678901)
call UnitAddAbility(uo[oM],1093678900)
elseif nM==1093678934 then
if jR[oM]<5 then
set cM=sww(GetSpellTargetX()/128.)
set OM=sww(GetSpellTargetY()/128.)
set yM=CreateImage("textures\\orangegoo.blp",128,128,0.,cM*128.,OM*128.,0.,128/2.,128/2.,0.,1)
call SetImageRenderAlways(yM,true)
set lM=jR[oM]
set nM=P2(yM,cM,OM)
if lM<0 or lM>=5 then
call tX("Index out of Bounds")
elseif lM<=2 then
if lM<=1 then
if lM<=0 then
set WF[oM]=nM
else
set EF[oM]=nM
endif
else
set ZF[oM]=nM
endif
elseif lM<=3 then
set UF[oM]=nM
else
set IF[oM]=nM
endif
set jR[oM]=jR[oM]+1
call SaveInteger(yf,cM,OM,tI(LoadInteger(yf,cM,OM),3))
endif
endif
else
set oM=Tn[uM]
set nM=GetSpellAbilityId()
set pM=GetOwningPlayer(uo[oM])
if nM==1093678391 then
if Da[Rn[oM]]>=15. then
call DisplayTextToPlayer(pM,0.,0.,"Slidespeed is on Maximum")
else
set Da[Rn[oM]]=Da[Rn[oM]]+.25
call DisplayTextToPlayer(pM,0.,0.,"Slidespeed: "+R2S(Da[Rn[oM]]))
endif
elseif nM==1093677110 then
if Da[Rn[oM]]<=(-15.) then
call DisplayTextToPlayer(pM,0.,0.,"Slidespeed is on Minimum")
else
set Da[Rn[oM]]=Da[Rn[oM]]-.25
call DisplayTextToPlayer(pM,0.,0.,"Slidespeed: "+R2S(Da[Rn[oM]]))
endif
elseif nM==1093677361 then
if Ha[Rn[oM]]>=20. then
call DisplayTextToPlayer(pM,0.,0.,"Poisondamage is on Maximum")
else
set Ha[Rn[oM]]=Ha[Rn[oM]]+.25
call DisplayTextToPlayer(pM,0.,0.,"Poisondamage: "+R2S(Ha[Rn[oM]]))
endif
elseif nM==1093678393 then
if Ha[Rn[oM]]<=.25 then
call DisplayTextToPlayer(pM,0.,0.,"Poisondamage is on Minimum")
else
set Ha[Rn[oM]]=Ha[Rn[oM]]-.25
call DisplayTextToPlayer(pM,0.,0.,"Poisondamage: "+R2S(Ha[Rn[oM]]))
endif
elseif nM==1093678392 then
if Ja[Rn[oM]]>=20. then
call DisplayTextToPlayer(pM,0.,0.,"Lavadmg is on Maximum")
else
set Ja[Rn[oM]]=Ja[Rn[oM]]+.25
call DisplayTextToPlayer(pM,0.,0.,"Lavadmg: "+R2S(Ja[Rn[oM]]))
endif
elseif nM==1093678401 then
if Ja[Rn[oM]]<=.25 then
call DisplayTextToPlayer(pM,0.,0.,"Lavadmg is on Minimum")
else
set Ja[Rn[oM]]=Ja[Rn[oM]]-.25
call DisplayTextToPlayer(pM,0.,0.,"Lavadmg: "+R2S(Ja[Rn[oM]]))
endif
elseif nM==1093677400 then
set GM=GetSpellTargetUnit()
set TM=GetOwningPlayer(GM)
if jq[eq[GetPlayerId(TM)]]==0 and TM!=pM then
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Invisibility\\InvisibilityTarget.mdl",GetUnitX(GM),GetUnitY(GM)))
if hRw(Rn[oM],TM) then
set hM=xq[eq[GetPlayerId(TM)]]!=2
else
set hM=false
endif
if hM then
call MTw(Ia[Rn[oM]],GetPlayerId(TM),0)
call DisplayTimedTextToPlayer(pM,0.,0.,25.,"|cff9C0808Disallowed|r "+v9(TM)+" |cffffcc00to build in your region.")
call DisplayTimedTextToPlayer(TM,0.,0.,25.,v9(pM)+" |cff9C0808disallowed|r|cffffcc00 you to build in his region.")
if GetLocalPlayer()==TM then
call PingMinimapEx((GetRectMinX(Aa[Rn[oM]])+GetRectMaxX(Aa[Rn[oM]]))/2.,(GetRectMinY(Aa[Rn[oM]])+GetRectMaxY(Aa[Rn[oM]]))/2.,3.,156,8,8,false)
endif
else
call MTw(Ia[Rn[oM]],GetPlayerId(TM),1)
call DisplayTimedTextToPlayer(pM,0.,0.,25.,"|cff08B552Allowed|r "+v9(TM)+" |cffffcc00to build in your region.")
call DisplayTimedTextToPlayer(TM,0.,0.,25.,v9(pM)+" |cff08B552allowed|r|cffffcc00 you to build in his region.")
if GetLocalPlayer()==TM then
call PingMinimapEx((GetRectMaxX(Aa[Rn[oM]])+GetRectMinX(Aa[Rn[oM]]))/2.,(GetRectMaxY(Aa[Rn[oM]])+GetRectMinY(Aa[Rn[oM]]))/2.,3.,8,181,82,false)
endif
endif
else
call DisplayTimedTextToPlayer(pM,0.,0.,15.,"|cffC51019Why would you do this!")
endif
elseif nM==1093677616 then
call GroupEnumUnitsInRect(Kl,Aa[Rn[oM]],null)
loop
exitwhen FirstOfGroup(Kl)==null
set eM=Kl
set GM=FirstOfGroup(eM)
call GroupRemoveUnit(eM,GM)
set nM=GetUnitUserData(GM)
if nM!=0 then
set cM=mT[nM]
set hM=not(cM>=770 and cM<=775)
else
set hM=false
endif
if hM and mT[nM]!=768 and GM!=uo[oM]then
call kqw(nM)
endif
endloop
set oM=Rn[oM]
if Pa[oM]!=0 then
set kM=Aa[oM]
call hww(Pa[oM])
call Www(kM,KF)
endif
elseif nM==1093678931 then
set oM=aww(xc[oM],vc[oM])
if Ba[oM]>0 then
set nM=pRw(oM)
loop
exitwhen Jy[Vy[nM]]==Cy[nM]
set Vy[nM]=Jy[Vy[nM]]
call UnitRemoveAbility(uo[Dy[Vy[nM]]],Ba[oM])
endloop
endif
set Ba[oM]=1093678642
call DisplayTimedTextToPlayer(pM,0.,0.,25.,"|cffFF8C29Escapers can now jump in this region!")
set nM=pRw(oM)
loop
exitwhen Jy[Vy[nM]]==Cy[nM]
set Vy[nM]=Jy[Vy[nM]]
call UnitAddAbility(uo[Dy[Vy[nM]]],Ba[oM])
endloop
elseif nM==1093679170 then
set oM=aww(xc[oM],vc[oM])
if Ba[oM]>0 then
set nM=pRw(oM)
loop
exitwhen Jy[Vy[nM]]==Cy[nM]
set Vy[nM]=Jy[Vy[nM]]
call UnitRemoveAbility(uo[Dy[Vy[nM]]],Ba[oM])
endloop
endif
set Ba[oM]=1093679169
call DisplayTimedTextToPlayer(pM,0.,0.,25.,"|cffFF8C29Escapers can now use the orb in this region!")
set nM=pRw(oM)
loop
exitwhen Jy[Vy[nM]]==Cy[nM]
set Vy[nM]=Jy[Vy[nM]]
call UnitAddAbility(uo[Dy[Vy[nM]]],Ba[oM])
endloop
elseif nM==1093679171 then
set oM=aww(xc[oM],vc[oM])
if Ba[oM]>0 then
set nM=pRw(oM)
loop
exitwhen Jy[Vy[nM]]==Cy[nM]
set Vy[nM]=Jy[Vy[nM]]
call UnitRemoveAbility(uo[Dy[Vy[nM]]],Ba[oM])
endloop
endif
set Ba[oM]=0
call DisplayTimedTextToPlayer(pM,0.,0.,25.,"|cffFF8C29Removed all abilities!")
elseif nM==1093677893 then
if Qq[eq[GetPlayerId(pM)]]>=0 then
call aTw(fn)
call UnitRemoveAbility(uo[oM],1093677893)
set Na[Rn[oM]]=true
call DisplayTimedTextToPlayer(pM,0.,0.,15.,"|cff63BD4AYou converted your area to a |cff086BBDB|r|cff0C5CB0o|r|cff104DA3s|r|cff143E96s|r|cff182F89r|r|cff1C207Ce|r|cff590E4Fg|r|cff750D41i|r|cff910C33o|r|cffAD0B25n|r")
set GM=uo[oM]
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl",GetUnitX(GM),GetUnitY(GM)))
set nM=mq[eq[GetPlayerId(pM)]]
set GM=uo[nM]
if GetLocalPlayer()==pM then
call ClearSelection()
call SelectUnit(GM,true)
endif
call GroupEnumUnitsInRect(Kl,Aa[Rn[oM]],null)
set Nt[nM]=true
call UnitAddAbility(uo[nM],1093677892)
else
call DisplayTextToPlayer(pM,0.,0.,"|cffFFD621[Info]|r - You need to have at least the |cffFFE6AD3:Novice|r Rank to be able to make a BossRegion.\nYou accumulate Rank-XP over time by playing.")
endif
elseif nM==1093678913 then
set GM=uo[oM]
call UnitRemoveAbility(GM,1093677400)
call UnitRemoveAbility(GM,1093678671)
call UnitRemoveAbility(GM,1093677616)
call UnitRemoveAbility(GM,1093678913)
call UnitRemoveAbility(GM,1093678936)
call UnitRemoveAbility(GM,1093678935)
call UnitRemoveAbility(GM,1093679158)
call UnitRemoveAbility(GM,1093679159)
call UnitRemoveAbility(GM,1093679174)
call UnitRemoveAbility(GM,1093679175)
call UnitRemoveAbility(GM,dn)
call UnitRemoveAbility(GM,nn)
set GM=uo[oM]
call UnitAddAbility(GM,1093678391)
call UnitAddAbility(GM,1093677110)
call UnitAddAbility(GM,1093677361)
call UnitAddAbility(GM,1093678393)
call UnitAddAbility(GM,1093678392)
call UnitAddAbility(GM,1093678401)
call UnitAddAbility(GM,1093678914)
elseif nM==1093678914 then
set GM=uo[oM]
call UnitRemoveAbility(GM,1093678391)
call UnitRemoveAbility(GM,1093677110)
call UnitRemoveAbility(GM,1093677361)
call UnitRemoveAbility(GM,1093678393)
call UnitRemoveAbility(GM,1093678392)
call UnitRemoveAbility(GM,1093678401)
call UnitRemoveAbility(GM,1093678914)
set GM=uo[oM]
call UnitAddAbility(GM,1093677400)
call UnitAddAbility(GM,1093678671)
call UnitAddAbility(GM,1093677616)
call UnitAddAbility(GM,1093678913)
call UnitAddAbility(GM,1093678936)
call UnitAddAbility(GM,1093678935)
call UnitAddAbility(GM,1093679158)
call UnitAddAbility(GM,1093679159)
if Ma[Rn[oM]]then
call UnitAddAbility(uo[oM],1093679175)
else
call UnitAddAbility(uo[oM],1093679174)
endif
if Va[Rn[oM]]then
call UnitAddAbility(uo[oM],dn)
else
call UnitAddAbility(uo[oM],nn)
endif
elseif nM==1093678936 then
set nM=Rn[oM]
if Ca[nM]>-10. then
set cM=Rn[oM]
set nM=Rn[oM]
set La[cM]=xlw(La[nM],Xa[nM],Ca[nM],0.,0.,0.1)
set Xa[cM]=Ek
set Ca[cM]=Zk
set oM=Rn[oM]
call DisplayTimedTextToPlayer(pM,0.,0.,10.,"Gravity: "+R2S(Ca[oM]))
endif
elseif nM==1093678935 then
set nM=Rn[oM]
if Ca[nM]<(-.1) then
set cM=Rn[oM]
set nM=Rn[oM]
set La[cM]=Ylw(La[nM],Xa[nM],Ca[nM],0.,0.,0.1)
set Xa[cM]=uk
set Ca[cM]=rk
set oM=Rn[oM]
call DisplayTimedTextToPlayer(pM,0.,0.,10.,"Gravity: "+R2S(Ca[oM]))
endif
elseif nM==1093679158 then
if Ka[Rn[oM]]>0. then
set Ka[Rn[oM]]=Ka[Rn[oM]]-.25
if Ka[Rn[oM]]<=0.01 then
set Ka[Rn[oM]]=0.01
endif
call DisplayTimedTextToPlayer(pM,0.,0.,10.,"Turnspeed: "+R2S(Ka[Rn[oM]]))
endif
set nM=pRw(Rn[oM])
loop
exitwhen Jy[Vy[nM]]==Cy[nM]
set Vy[nM]=Jy[Vy[nM]]
call SetUnitTurnSpeed(uo[Dy[Vy[nM]]],Ka[Rn[oM]])
endloop
elseif nM==1093679159 then
if Ka[Rn[oM]]<5.0 then
if Ka[Rn[oM]]<=0.01 then
set Ka[Rn[oM]]=0.
endif
set Ka[Rn[oM]]=Ka[Rn[oM]]+.25
call DisplayTimedTextToPlayer(pM,0.,0.,10.,"Turnspeed: "+R2S(Ka[Rn[oM]]))
endif
set nM=pRw(Rn[oM])
loop
exitwhen Jy[Vy[nM]]==Cy[nM]
set Vy[nM]=Jy[Vy[nM]]
call SetUnitTurnSpeed(uo[Dy[Vy[nM]]],Ka[Rn[oM]])
endloop
elseif nM==1093679174 then
set Ma[Rn[oM]]=true
set GM=uo[oM]
call UnitRemoveAbility(GM,1093679174)
call UnitAddAbility(GM,1093679175)
call DisplayTimedTextToPlayer(pM,0.,0.,15.,"|cffFF9C29Escapers can now cut diagonal tiles")
elseif nM==1093679175 then
set Ma[Rn[oM]]=false
set GM=uo[oM]
call UnitRemoveAbility(GM,1093679175)
call UnitAddAbility(GM,1093679174)
call DisplayTimedTextToPlayer(pM,0.,0.,15.,"|cffFF9C29Escapers can no longer cut diagonal tiles.")
elseif nM==nn then
set Va[Rn[oM]]=true
set GM=uo[oM]
call UnitRemoveAbility(GM,nn)
call UnitAddAbility(GM,dn)
call DisplayTimedTextToPlayer(pM,0.,0.,15.,"|cffFF9C29Activated easy mode")
elseif nM==dn then
set Va[Rn[oM]]=false
set GM=uo[oM]
call UnitRemoveAbility(GM,dn)
call UnitAddAbility(GM,nn)
call DisplayTimedTextToPlayer(pM,0.,0.,15.,"|cffFF9C29Deactivated easy mode")
endif
endif
elseif KT[uM]<=826 then
set GM=GetTriggerUnit()
set YM=GetEventDamageSource()
if GetUnitUserData(YM)!=0 then
set hM=UnitAlive(YM)
else
set hM=false
endif
if hM then
set oM=GetUnitUserData(YM)
if Ft[oM]!=0 then
set oM=tfw(Ft[oM])
loop
exitwhen Jy[Vy[oM]]==Cy[oM]
set Vy[oM]=Jy[Vy[oM]]
set nM=Dy[Vy[oM]]
if not mt[nM]then
if ZT[nM]<=638 then
endif
endif
endloop
endif
endif
if GetUnitUserData(GM)!=0 then
set hM=UnitAlive(GM)
else
set hM=false
endif
if hM then
set oM=GetUnitUserData(GM)
if Ft[oM]!=0 then
set oM=tfw(Ft[oM])
loop
exitwhen Jy[Vy[oM]]==Cy[oM]
set Vy[oM]=Jy[Vy[oM]]
set nM=Dy[Vy[oM]]
if not mt[nM]then
if ZT[nM]<=638 then
if ZT[nM]<=637 then
else
set SM=BH()
if SM>=aa[nM]then
set SM=-aa[nM]
call sJ(BH()+SM)
set aa[nM]=0.
call sRw(nM)
else
call sJ(0.)
set aa[nM]=aa[nM]-SM
endif
endif
endif
endif
endloop
endif
endif
else
set cM=Ei[uM]
set oM=GetSpellAbilityId()
set GM=GetSpellTargetUnit()
if oM==1093677657 then
set nM=GetUnitUserData(GM)
if Ic[nM]==Ic[cM]then
set oM=mT[nM]
set hM=oM>=741 and oM<=766
else
set hM=false
endif
if hM then
set oM=cM
set nM=nM
set hM=true
set OM=mi[cM]
loop
exitwhen OM==0
if Ii[OM]==nM then
set hM=false
exitwhen true
endif
set OM=Zi[OM]
endloop
if hM then
if mi[oM]==0 then
if gY==0 then
if hY<8191 then
set hY=hY+1
set cM=hY
set FY[cM]=685
else
call tX("Out of memory: Could not create CongaSegment.")
set cM=0
endif
else
set gY=gY-1
set cM=GY[gY]
set FY[cM]=685
endif
set Zi[cM]=0
set Ui[cM]=0
set Ii[cM]=nM
set Pi[cM]=oM
call UnitRemoveAbility(Fn[nM],1093677131)
call Fbw(xL(oM),AF,DF,xL(nM),AF,DF)
set mi[oM]=cM
else
set OM=mi[oM]
loop
exitwhen Zi[OM]==0
set OM=Zi[OM]
endloop
if gY==0 then
if hY<8191 then
set hY=hY+1
set cM=hY
set FY[cM]=685
else
call tX("Out of memory: Could not create CongaSegment.")
set cM=0
endif
else
set gY=gY-1
set cM=GY[gY]
set FY[cM]=685
endif
set Zi[cM]=0
set Ui[cM]=0
set Ii[cM]=nM
set Pi[cM]=oM
call UnitRemoveAbility(Fn[nM],1093677131)
call Fbw(xL(oM),AF,DF,xL(nM),AF,DF)
set Zi[OM]=cM
set Ui[Zi[OM]]=OM
set SM=xL(nM)
call fbw(SM,AF,DF,xc[oM],vc[oM])
endif
else
call bew(OM)
endif
endif
elseif oM==1093677658 then
if Wi[cM]<500. then
set Wi[cM]=Wi[cM]+25.
call Rcw(xc[cM],vc[cM],mc[cM],0.,0.05,"Segment Length: "+R2SW(Wi[cM],1,2),10.,2.,255,255,255,0,Ic[cM])
else
call Rcw(xc[cM],vc[cM],mc[cM],0.,0.05,"Maximum Speed",10.,2.,255,255,255,0,Ic[cM])
endif
elseif oM==1093677872 then
if Wi[cM]>25. then
set Wi[cM]=Wi[cM]-25.
call Rcw(xc[cM],vc[cM],mc[cM],0.,0.05,"Segment Length: "+R2SW(Wi[cM],1,2),10.,2.,255,255,255,0,Ic[cM])
else
call Rcw(xc[cM],vc[cM],mc[cM],0.,0.05,"Minimum Speed",10.,2.,255,255,255,0,Ic[cM])
endif
elseif oM==ji then
set Qi[cM]=0
elseif oM==xi then
set Qi[cM]=1
endif
endif
elseif KT[uM]<=835 then
if KT[uM]<=831 then
if KT[uM]<=829 then
if KT[uM]<=828 then
call spw(Ps[uM])
else
call f5()
endif
elseif KT[uM]<=830 then
set oM=dt[uM]
set nM=GetSpellAbilityId()
if nM==1093678678 then
set nt[oM]=1
set GM=uo[oM]
call SetUnitVertexColor(GM,255,255,0,255)
call UnitRemoveAbility(GM,1093678678)
call UnitAddAbility(GM,1093678679)
elseif nM==1093678679 then
set nt[oM]=3
set GM=uo[oM]
call SetUnitVertexColor(GM,0,255,255,255)
call UnitRemoveAbility(GM,1093678679)
call UnitAddAbility(GM,1093678678)
endif
else
call f5()
endif
elseif KT[uM]<=833 then
if KT[uM]<=832 then
set oM=pO[uM]
if GetItemTypeId(GetManipulatedItem())==1227895088 then
call iK("ui\\feedback\\goldcredit\\goldcredit.mdx",xc[oM],vc[oM],mc[oM])
set GM=uo[oM]
set pM=Ic[oM]
set qM="+"+I2S(15)
set iM=GetUnitX(GM)
set SM=GetUnitY(GM)-gd
set iM=iM-Gd
set gM=CreateTextTag()
call SetTextTagText(gM,qM,Yd*0.0023)
call SetTextTagPos(gM,iM,SM,0.)
call SetTextTagFadepoint(gM,2.)
call SetTextTagLifespan(gM,3.)
call SetTextTagVelocity(gM,0.,.03)
call SetTextTagPermanent(gM,false)
call SetTextTagVisibility(gM,true)
call SetTextTagColor(gM,255,220,0,255)
call SetTextTagVisibility(gM,GetLocalPlayer()==pM)
set pM=Ic[oM]
set aM=PLAYER_STATE_RESOURCE_GOLD
call SetPlayerState(pM,aM,GetPlayerState(pM,aM)+10)
set oM=cfw(aq)
loop
exitwhen Jy[Ly[oM]]==Ky[oM]
set Ly[oM]=Jy[Ly[oM]]
set pM=Tq[Dy[Ly[oM]]]
set aM=PLAYER_STATE_RESOURCE_GOLD
call SetPlayerState(pM,aM,GetPlayerState(pM,aM)+5)
endloop
call Ldw(oM)
endif
else
call f5()
endif
elseif KT[uM]<=834 then
call ETw(Rd[uM])
else
set nM=bq[uM]
set cM=GetSpellAbilityId()
set oM=eq[GetPlayerId(GetOwningPlayer(uo[nM]))]
if cM==Be then
set nM=Je[Yq[oM]]
if GetLocalPlayer()==Tq[oM]then
call SetTextTagVisibility(uq[nM],false)
call SetUnitVertexColor(sq[nM],ei,qi,ai,ni)
endif
set nM=I8(Je[Yq[oM]])
set Je[Yq[oM]]=nM
set nM=Je[Yq[oM]]
if GetLocalPlayer()==Tq[oM]then
call SetTextTagVisibility(uq[nM],true)
call SetUnitVertexColor(sq[nM],li,bi,yi,pi)
endif
elseif cM==Ne then
set nM=Je[Yq[oM]]
if GetLocalPlayer()==Tq[oM]then
call SetTextTagVisibility(uq[nM],false)
call SetUnitVertexColor(sq[nM],ei,qi,ai,ni)
endif
set nM=Z8(Je[Yq[oM]])
set Je[Yq[oM]]=nM
set nM=Je[Yq[oM]]
if GetLocalPlayer()==Tq[oM]then
call SetTextTagVisibility(uq[nM],true)
call SetUnitVertexColor(sq[nM],li,bi,yi,pi)
endif
elseif cM==Me then
set cM=Je[Yq[oM]]
if GetLocalPlayer()==Tq[oM]then
call SetTextTagVisibility(uq[cM],false)
call SetUnitVertexColor(sq[cM],ei,qi,ai,ni)
endif
call DisplayTimedTextToPlayer(Tq[oM],0.,0.,20.,"|cffE68C19Welcome to |cff086BC5Escape Builder Reloaded|cffE68C19!\n    |r")
set cM=Je[Yq[oM]]
set OM=tq[cM]
if vg[OM]<=1044 then
if vg[OM]<=1043 then
if vg[OM]<=1042 then
set vq[oM]=rC(Eo,Zo,0.,Tq[oM])
else
set vq[oM]=vX(Eo,Zo,0.,Tq[oM])
endif
else
set SM=Eo
set iM=Zo
set pM=Tq[oM]
if xT==0 then
if vT<8191 then
set vT=vT+1
set OM=vT
set mT[OM]=773
else
call tX("Out of memory: Could not create BlindEscaper.")
set OM=0
endif
else
set xT=xT-1
set OM=jT[xT]
set mT[OM]=773
endif
call cN(OM,SM,iM,0.,pM,1211117652)
set vq[oM]=OM
endif
elseif vg[OM]<=1045 then
set vq[oM]=gX(Eo,Zo,0.,Tq[oM])
else
set vq[oM]=UX(Eo,Zo,0.,Tq[oM])
endif
set pM=Tq[oM]
if GetLocalPlayer()==pM then
call ResetToGameCamera(0.5)
endif
if jq[eq[GetPlayerId(Tq[oM])]]==0 then
set GM=uo[vq[oM]]
call UnitAddAbility(GM,1093677105)
call UnitAddAbility(GM,1093678925)
set iO[vq[oM]]=false
set pM=Tq[oM]
set SM=GetUnitX(uo[mq[oM]])
set iM=GetUnitY(uo[mq[oM]])
if GetLocalPlayer()==pM then
call PanCameraToTimed(SM,iM,0.)
endif
set pM=Tq[oM]
set GM=uo[mq[oM]]
if GetLocalPlayer()==pM then
call ClearSelection()
call SelectUnit(GM,true)
endif
call DisplayTimedTextToPlayer(Tq[oM],0.,0.,20.,"    You chose the role |cff528CDEBuilder|r!")
else
set pM=Tq[oM]
set iM=Ke
set SM=Le
if GetLocalPlayer()==pM then
call PanCameraToTimed(iM,SM,0.)
endif
set pM=Tq[oM]
set GM=uo[vq[oM]]
if GetLocalPlayer()==pM then
call ClearSelection()
call SelectUnit(GM,true)
endif
call DisplayTimedTextToPlayer(Tq[oM],0.,0.,20.,"    You chose the role |cff528CDEEscaper|r!")
endif
set Fq[oM]=rq[cM]
if IT==0 then
if PT<8191 then
set PT=PT+1
set cM=PT
set AT[cM]=674
else
call tX("Out of memory: Could not create Closure.")
set cM=0
endif
else
set IT=IT-1
set cM=UT[IT]
set AT[cM]=674
endif
set wq[cM]=oM
call lA(cM,0.5)
call A8(nM)
endif
endif
elseif KT[uM]<=839 then
if KT[uM]<=837 then
if KT[uM]<=836 then
call f5()
else
set nM=sa[uM]
set oM=GetSpellAbilityId()
if oM==1093677382 then
if wa[nM]<6. then
set wa[nM]=wa[nM]+0.5
call Rcw(xc[nM],vc[nM],mc[nM],0.,0.05,"Turnspeed: "+R2SW(wa[nM],1,2),10.,2.,255,255,255,0,Ic[nM])
else
call Rcw(xc[nM],vc[nM],mc[nM],0.,0.05,"Maximum Speed",10.,2.,255,255,255,0,Ic[nM])
endif
elseif oM==1093677383 then
if wa[nM]>(-6.) then
set wa[nM]=wa[nM]-0.5
call Rcw(xc[nM],vc[nM],mc[nM],0.,0.05,"Turnspeed: "+R2SW(wa[nM],1,2),10.,2.,255,255,255,0,Ic[nM])
else
call Rcw(xc[nM],vc[nM],mc[nM],0.,0.05,"Minimum Speed",10.,2.,255,255,255,0,Ic[nM])
endif
elseif oM==1093677873 then
set ra[nM]=true
set ua[nM]=GetUnitFacing(uo[nM])*0.017453293
call mqw(nM)
set GM=Fn[nM]
call UnitRemoveAbility(GM,1093677873)
call UnitAddAbility(GM,1093677874)
elseif oM==1093677874 then
set ra[nM]=false
call xqw(nM)
set GM=Fn[nM]
call UnitRemoveAbility(GM,1093677874)
call UnitAddAbility(GM,1093677873)
endif
endif
elseif KT[uM]<=838 then
if GetSpellAbilityId()==1093677131 then
set GM=GetTriggerUnit()
set oM=GetUnitUserData(GM)
if oM>0 then
call DestroyEffect(AddSpecialEffect("abilities\\spells\\items\\aiam\\aiamtarget.mdx",GetUnitX(GM),GetUnitY(GM)))
call kqw(oM)
endif
call UnitRemoveAbility(GM,1093677131)
endif
else
call RemoveUnit(GetTriggerUnit())
endif
elseif KT[uM]<=841 then
if KT[uM]<=840 then
set nM=ea[uM]
set cM=GetSpellAbilityId()
set GM=GetSpellTargetUnit()
set oM=GetUnitUserData(GetTriggerUnit())
if cM==1093678385 or cM==1093678929 or cM==1093678641 or cM==1093678916 or cM==1093679173 then
set nM=GetUnitUserData(GM)
if mT[nM]==760 then
set lM=nM
set hM=true
set OM=pa[oM]
loop
exitwhen OM==0
if la[OM]==lM then
call Lfw(OM)
set hM=false
exitwhen true
endif
set OM=Sa[OM]
endloop
if hM then
if cM==1093678385 then
set FM=AddLightning("DRAM",false,xc[oM],vc[oM],xc[nM],vc[nM])
if Vg==0 then
if Bg<8191 then
set Bg=Bg+1
set cM=Bg
set Ng[cM]=1052
else
call tX("Out of memory: Could not create Link.")
set cM=0
endif
else
set Vg=Vg-1
set cM=Cg[Vg]
set Ng[cM]=1052
endif
set Sa[cM]=0
set ca[cM]=0
set Oa[cM]=oM
set la[cM]=nM
set ba[cM]=FM
set oa[cM]=0
if pa[oM]!=0 then
set Sa[cM]=pa[oM]
set ca[pa[oM]]=cM
endif
set pa[oM]=cM
elseif cM==1093678929 then
set FM=AddLightning("LGRO",false,xc[oM],vc[oM],xc[nM],vc[nM])
if Vg==0 then
if Bg<8191 then
set Bg=Bg+1
set cM=Bg
set Ng[cM]=1052
else
call tX("Out of memory: Could not create Link.")
set cM=0
endif
else
set Vg=Vg-1
set cM=Cg[Vg]
set Ng[cM]=1052
endif
set Sa[cM]=0
set ca[cM]=0
set Oa[cM]=oM
set la[cM]=nM
set ba[cM]=FM
set oa[cM]=1
if pa[oM]!=0 then
set Sa[cM]=pa[oM]
set ca[pa[oM]]=cM
endif
set pa[oM]=cM
elseif cM==1093678641 then
set FM=AddLightning("LONE",false,xc[oM],vc[oM],xc[nM],vc[nM])
if Vg==0 then
if Bg<8191 then
set Bg=Bg+1
set cM=Bg
set Ng[cM]=1052
else
call tX("Out of memory: Could not create Link.")
set cM=0
endif
else
set Vg=Vg-1
set cM=Cg[Vg]
set Ng[cM]=1052
endif
set Sa[cM]=0
set ca[cM]=0
set Oa[cM]=oM
set la[cM]=nM
set ba[cM]=FM
set oa[cM]=2
if pa[oM]!=0 then
set Sa[cM]=pa[oM]
set ca[pa[oM]]=cM
endif
set pa[oM]=cM
elseif cM==1093678916 then
set FM=AddLightning("LBOT",false,xc[oM],vc[oM],xc[nM],vc[nM])
if Vg==0 then
if Bg<8191 then
set Bg=Bg+1
set cM=Bg
set Ng[cM]=1052
else
call tX("Out of memory: Could not create Link.")
set cM=0
endif
else
set Vg=Vg-1
set cM=Cg[Vg]
set Ng[cM]=1052
endif
set Sa[cM]=0
set ca[cM]=0
set Oa[cM]=oM
set la[cM]=nM
set ba[cM]=FM
set oa[cM]=3
if pa[oM]!=0 then
set Sa[cM]=pa[oM]
set ca[pa[oM]]=cM
endif
set pa[oM]=cM
elseif cM==1093679173 then
set FM=AddLightning("LORB",false,xc[oM],vc[oM],xc[nM],vc[nM])
if Vg==0 then
if Bg<8191 then
set Bg=Bg+1
set cM=Bg
set Ng[cM]=1052
else
call tX("Out of memory: Could not create Link.")
set cM=0
endif
else
set Vg=Vg-1
set cM=Cg[Vg]
set Ng[cM]=1052
endif
set Sa[cM]=0
set ca[cM]=0
set Oa[cM]=oM
set la[cM]=nM
set ba[cM]=FM
set oa[cM]=4
if pa[oM]!=0 then
set Sa[cM]=pa[oM]
set ca[pa[oM]]=cM
endif
set pa[oM]=cM
endif
endif
endif
elseif cM==ta then
call iew(ya[oM],oM,8.)
set cM=pa[oM]
loop
exitwhen cM==0
if la[cM]!=nM then
set hi[ya[la[cM]]]=hi[ya[oM]]
endif
set cM=Sa[cM]
endloop
elseif cM==ia then
call Oew(ya[oM],oM,0.)
set cM=pa[oM]
loop
exitwhen cM==0
if la[cM]!=nM then
set hi[ya[la[cM]]]=hi[ya[oM]]
endif
set cM=Sa[cM]
endloop
endif
else
set tM=GetManipulatedItem()
set GM=GetManipulatingUnit()
set oM=GetItemUserData(tM)
set nM=GetUnitUserData(GM)
set cM=mT[oM]
if cM>=705 and cM<=711 and(not Ac[oM]) then
set cM=mT[nM]
if cM>=770 and cM<=775 and(not Ac[nM]) then
if mT[oM]<=708 then
if mT[oM]<=707 then
if mT[oM]<=706 then
set cM=FT[oM]
call UnitRemoveAbility(uo[hT[oM]],dT[cM])
set rO[hT[oM]]=0
call DestroyEffect(sO[nM])
set sO[nM]=null
set hT[oM]=0
set GM=Vl[oM]
call GOw(GM,xc[oM],vc[oM])
call ShowUnit(GM,true)
call hYw(oM)
endif
else
set Vb[oM]=false
set Mb[oM]=0
if wy[oM]!=0 then
call tdw(wy[oM])
set wy[oM]=0
endif
call GOw(Vl[oM],xc[oM],vc[oM])
call ShowUnit(Vl[oM],true)
if IT==0 then
if PT<8191 then
set PT=PT+1
set nM=PT
set AT[nM]=655
else
call tX("Out of memory: Could not create Closure.")
set nM=0
endif
else
set IT=IT-1
set nM=UT[IT]
set AT[nM]=655
endif
set Xb[nM]=oM
call SA(nM)
endif
elseif mT[oM]<=710 then
if mT[oM]<=709 then
if GetUnitAbilityLevel(uo[nM],Rs)>0 then
call UnitRemoveAbility(uo[nM],Rs)
if IT==0 then
if PT<8191 then
set PT=PT+1
set nM=PT
set AT[nM]=659
else
call tX("Out of memory: Could not create Closure.")
set nM=0
endif
else
set IT=IT-1
set nM=UT[IT]
set AT[nM]=659
endif
set ts[nM]=oM
call SA(nM)
else
if IT==0 then
if PT<8191 then
set PT=PT+1
set nM=PT
set AT[nM]=676
else
call tX("Out of memory: Could not create Closure.")
set nM=0
endif
else
set IT=IT-1
set nM=UT[IT]
set AT[nM]=676
endif
set is[nM]=oM
call SA(nM)
endif
endif
endif
endif
endif
endif
elseif KT[uM]<=842 then
call lTw(kn[uM])
else
call f5()
endif
endif
set uM=vO[uM]
endloop
endif
endif
if kO[wM]!=0 then
set wM=kO[wM]
loop
exitwhen wM==0
if KT[wM]<=811 then
if KT[wM]<=795 then
if KT[wM]<=787 then
if KT[wM]<=783 then
if KT[wM]<=781 then
if KT[wM]<=780 then
if GetSpellAbilityId()==Rs then
set GM=GetSpellAbilityUnit()
set sM=GetSpellTargetX()
set dM=GetSpellTargetY()
call UnitRemoveAbility(GM,Rs)
set tM=null
set uM=0
loop
exitwhen uM>5
set fM=UnitItemInSlot(GM,uM)
if GetItemTypeId(fM)==Ts then
set tM=fM
call UnitRemoveItem(GM,fM)
exitwhen true
endif
set uM=uM+1
endloop
if tM!=null then
set uM=GetItemUserData(tM)
if xT==0 then
if vT<8191 then
set vT=vT+1
set oM=vT
set mT[oM]=703
else
call tX("Out of memory: Could not create BallProjectile.")
set oM=0
endif
else
set xT=xT-1
set oM=jT[xT]
set mT[oM]=703
endif
set iM=GetUnitX(GM)
set SM=GetUnitY(GM)
set pM=GetOwningPlayer(GM)
set dM=COw(GetUnitX(GM),GetUnitY(GM),sM,dM)
call B0w(oM,iM,SM,128.,32,pM,dM,"Cannonball.mdx")
set Ie[oM]=true
set Pe[oM]=0.
set Ae[oM]=0.9
set De[oM]=0.9
set He[oM]=10.
call lRw(oM,dM)
call cRw(oM,15.)
call SetUnitColor(xl[kl[oM]],GetPlayerColor(GetOwningPlayer(GM)))
set He[oM]=125.
set De[oM]=0.65
set Ys[oM]=uM
endif
endif
else
call Liw(Uf[wM])
endif
elseif KT[wM]<=782 then
call jZ()
else
set oM=dR[wM]
set uM=GetSpellAbilityId()
if uM==1093678163 then
call iew(yR[oM],oM,20.)
elseif uM==1093678164 then
call Oew(yR[oM],oM,1.)
elseif uM==1093678152 then
if pR[oM]<2 then
set pR[oM]=pR[oM]+1
if aR[oM]==CR and nR[oM]==VR then
set hM=true
else
set hM=aR[oM]==MR and nR[oM]==wT
endif
if hM then
set qR[oM]=0
set eR[oM]=pR[oM]
else
set eR[oM]=0
set qR[oM]=pR[oM]
endif
call Eqw(oM,sOw(Ic[oM],lR[pR[oM]],xc[oM],vc[oM],Atan2(nR[oM],aR[oM])-90*0.017453293,oM))
endif
elseif uM==1093678384 then
if pR[oM]>0 then
set pR[oM]=pR[oM]-1
if aR[oM]==CR and nR[oM]==VR then
set hM=true
else
set hM=aR[oM]==MR and nR[oM]==wT
endif
if hM then
set qR[oM]=0
set eR[oM]=pR[oM]
else
set eR[oM]=0
set qR[oM]=pR[oM]
endif
call Eqw(oM,sOw(Ic[oM],lR[pR[oM]],xc[oM],vc[oM],Atan2(nR[oM],aR[oM])-90*0.017453293,oM))
endif
elseif uM==1093678156 then
if aR[oM]==CR and nR[oM]==VR then
set aR[oM]=BR
set nR[oM]=NR
elseif aR[oM]==BR and nR[oM]==NR then
set aR[oM]=MR
set nR[oM]=wT
elseif aR[oM]==MR and nR[oM]==wT then
set aR[oM]=LR
set nR[oM]=XR
else
set aR[oM]=CR
set nR[oM]=VR
endif
if aR[oM]==CR and nR[oM]==VR then
set hM=true
else
set hM=aR[oM]==MR and nR[oM]==wT
endif
if hM then
set qR[oM]=0
set eR[oM]=pR[oM]
else
set eR[oM]=0
set qR[oM]=pR[oM]
endif
call Eqw(oM,sOw(Ic[oM],lR[pR[oM]],xc[oM],vc[oM],Atan2(nR[oM],aR[oM])-90*0.017453293,oM))
elseif uM==1093678165 then
if aR[oM]==CR and nR[oM]==VR then
set aR[oM]=LR
set nR[oM]=XR
elseif aR[oM]==LR and nR[oM]==XR then
set aR[oM]=MR
set nR[oM]=wT
elseif aR[oM]==MR and nR[oM]==wT then
set aR[oM]=BR
set nR[oM]=NR
else
set aR[oM]=CR
set nR[oM]=VR
endif
if aR[oM]==CR and nR[oM]==VR then
set hM=true
else
set hM=aR[oM]==MR and nR[oM]==wT
endif
if hM then
set qR[oM]=0
set eR[oM]=pR[oM]
else
set eR[oM]=0
set qR[oM]=pR[oM]
endif
call Eqw(oM,sOw(Ic[oM],lR[pR[oM]],xc[oM],vc[oM],Atan2(nR[oM],aR[oM])-90*0.017453293,oM))
endif
call SetUnitTimeScale(uo[oM],0.5+hi[yR[oM]]/6.)
endif
elseif KT[wM]<=785 then
if KT[wM]<=784 then
set uM=oy[wM]
set oM=GetSpellAbilityId()
if oM==ry then
call iew(Sy[uM],uM,75.)
elseif oM==sy then
call Oew(Sy[uM],uM,5.)
elseif oM==ty then
call iew(cy[uM],uM,500.)
elseif oM==iy then
call Oew(cy[uM],uM,0.)
endif
else
set uM=ht[wM]
set oM=GetSpellAbilityId()
call SetUnitAnimation(uo[uM],"spell")
if oM==1093678677 then
set oM=GetUnitAbilityLevel(uo[uM],1093678680)
set nM=GetUnitAbilityLevel(uo[uM],1093678681)
if nM==4 then
if oM<4 then
if oM==0 then
call UnitAddAbility(uo[uM],1093678680)
else
call SetUnitAbilityLevel(uo[uM],1093678680,oM+1)
endif
call SetUnitAbilityLevel(uo[uM],1093678681,0)
else
call Rcw(xc[uM],vc[uM],mc[uM],0.,0.05,"|cffC51019Max HP",10.,2.,255,255,255,0,Ic[uM])
endif
elseif nM==0 then
call UnitAddAbility(uo[uM],1093678681)
else
call SetUnitAbilityLevel(uo[uM],1093678681,nM+1)
endif
elseif oM==1093678676 then
set oM=GetUnitAbilityLevel(uo[uM],1093678680)
set nM=GetUnitAbilityLevel(uo[uM],1093678681)
if nM==0 then
if oM>0 then
call SetUnitAbilityLevel(uo[uM],1093678680,oM-1)
call SetUnitAbilityLevel(uo[uM],1093678681,4)
else
call Rcw(xc[uM],vc[uM],mc[uM],0.,0.05,"|cffC51019Min HP",10.,2.,255,255,255,0,Ic[uM])
endif
else
call SetUnitAbilityLevel(uo[uM],1093678681,nM-1)
endif
elseif oM==1093678678 then
set oM=1
set nM=bdw(Ot,GetPlayerId(Ic[uM]))
set uM=p6()
set nM=tfw(nM)
loop
exitwhen Jy[Vy[nM]]==Cy[nM]
set Vy[nM]=Jy[Vy[nM]]
set cM=Dy[Vy[nM]]
if nt[cM]==oM then
call ufw(uM,cM)
endif
endloop
set oM=uM
set uM=cfw(uM)
loop
exitwhen Jy[Ly[uM]]==Ky[uM]
set Ly[uM]=Jy[Ly[uM]]
set cM=Dy[Ly[uM]]
call DestroyEffect(AddSpecialEffect("war3mapImported\\DarknessMeteor.mdx",xc[cM],vc[cM]))
set iM=xL(cM)
set SM=AF
if IT==0 then
if PT<8191 then
set PT=PT+1
set nM=PT
set AT[nM]=652
else
call tX("Out of memory: Could not create Closure.")
set nM=0
endif
else
set IT=IT-1
set nM=UT[IT]
set AT[nM]=652
endif
set et[nM]=iM
set qt[nM]=SM
set at[nM]=cM
call lA(nM,1.)
endloop
call Ldw(uM)
call Ndw(oM)
elseif oM==1093678679 then
set nM=3
set cM=bdw(Ot,GetPlayerId(Ic[uM]))
set oM=p6()
set cM=tfw(cM)
loop
exitwhen Jy[Vy[cM]]==Cy[cM]
set Vy[cM]=Jy[Vy[cM]]
set OM=Dy[Vy[cM]]
if nt[OM]==nM then
call ufw(oM,OM)
endif
endloop
set nM=oM
set cM=cfw(oM)
loop
exitwhen Jy[Ly[cM]]==Ky[cM]
set Ly[cM]=Jy[Ly[cM]]
set GM=uo[uM]
set oM=Dy[Ly[cM]]
if xT==0 then
if vT<8191 then
set vT=vT+1
set OM=vT
set mT[OM]=701
else
call tX("Out of memory: Could not create BossMissile.")
set OM=0
endif
else
set xT=xT-1
set OM=jT[xT]
set mT[OM]=701
endif
call B0w(OM,GetUnitX(GM),GetUnitY(GM),92.,64.,Ic[OM],Fbw(xc[OM],vc[OM],mc[OM],qqw(oM),jk,xk),"abilities\\weapons\\greendragonmissile\\greendragonmissile.mdx")
set lt[OM]=null
set lt[OM]=GM
call cRw(OM,14.)
set Fa[OM]=10.
set Ya[OM]=true
endloop
call Ldw(cM)
call Ndw(nM)
elseif oM==ft then
set SM=xc[uM]
set dM=vc[uM]
set pM=Ic[uM]
set iM=GetUnitFacing(uo[uM])*0.017453293
if xT==0 then
if vT<8191 then
set vT=vT+1
set oM=vT
set mT[oM]=744
else
call tX("Out of memory: Could not create Minion.")
set oM=0
endif
else
set xT=xT-1
set oM=jT[xT]
set mT[oM]=744
endif
call hww(Pa[aww(SM,dM)])
call bV(oM,SM,dM,0.,pM,MF,iM,0.,16)
set dp[oM]=40.
set fp[oM]=40.
set Gp[oM]=0
call afw(oM)
set Dc[oM]=false
set SM=vc[oM]
set Rp[oM]=xc[oM]
set Tp[oM]=SM
set nM=AH(xc[oM],vc[oM],mc[oM],"|",40,6.)
set Vi[nM]=200
set Bi[nM]=255
set Ni[nM]=125
set Mi[nM]=255
call Few(nM,cS[nM])
set Yp[oM]=nM
set oM=Rt
set SM=xc[uM]
set dM=vc[uM]
set iM=mc[uM]
set Kn[oM]=10000
set uM=rrw(oM)
set Mn[uM]=SM
set wd[uM]=dM
set ud[uM]=iM
set RM=Hcw()
call MTw(cR,GetHandleId(RM),uM)
call TimerStart(RM,0.,false,cm)
elseif oM==1093678924 then
call aTw(Tt)
call VI(uM)
endif
endif
elseif KT[wM]<=786 then
set OM=kT[wM]
set oM=GetSpellAbilityId()
set nM=0
set cM=3
loop
exitwhen nM>cM
if nT[nM]==oM then
set FT[OM]=nM
call RemoveItem(Bl[OM])
set uM=FT[OM]
set Bl[OM]=CreateItem(aT[uM],xc[OM],vc[OM])
call SetItemUserData(Bl[OM],OM)
endif
set nM=nM+1
endloop
else
call jZ()
endif
elseif KT[wM]<=791 then
if KT[wM]<=789 then
if KT[wM]<=788 then
call Inw(hl[wM])
else
set uM=Yf[wM]
set oM=GetSpellAbilityId()
if oM==1093677387 then
call iew(af[uM],uM,3.)
elseif oM==1093677389 then
call iew(nf[uM],uM,3.)
elseif oM==1093677397 then
set nM=Rf[uM]
set oM=Tf[uM]
set df[uM]=-99999
set ff[uM]=-99999
call hww(Pa[Gww(uM)])
set Rf[uM]=KF
call hww(Pa[Gww(uM)])
set Tf[uM]=KF
call siw(uM)
set Rf[uM]=nM
set Tf[uM]=oM
call Oew(af[uM],uM,0.)
elseif oM==1093677396 then
set oM=Rf[uM]
set nM=Tf[uM]
set df[uM]=-99999
set ff[uM]=-99999
call hww(Pa[Gww(uM)])
set Rf[uM]=KF
call hww(Pa[Gww(uM)])
set Tf[uM]=KF
call siw(uM)
set Rf[uM]=oM
set Tf[uM]=nM
call Oew(nf[uM],uM,0.)
elseif oM==1093677640 then
call hww(Pa[Gww(uM)])
set Rf[uM]=JF
elseif oM==1093677638 then
call hww(Pa[Gww(uM)])
set Rf[uM]=KF
elseif oM==1093677633 then
set Rf[uM]=1315529573
elseif oM==1093677636 then
set Rf[uM]=1231317865
elseif oM==1093677639 then
call hww(Pa[Gww(uM)])
set Tf[uM]=JF
elseif oM==1093677635 then
call hww(Pa[Gww(uM)])
set Tf[uM]=KF
elseif oM==1093677634 then
set Tf[uM]=1315529573
elseif oM==1093677637 then
set Tf[uM]=1231317865
endif
call siw(uM)
endif
elseif KT[wM]<=790 then
set oM=sl[wM]
set uM=GetSpellAbilityId()
if uM==MO then
call iew(ol[oM],oM,10.)
elseif uM==wl then
call Oew(ol[oM],oM,0.)
elseif uM==ul then
call iew(ll[oM],oM,10.)
elseif uM==rl then
call Oew(ll[oM],oM,0.)
endif
else
call lTw(jn[wM])
endif
elseif KT[wM]<=793 then
if KT[wM]<=792 then
set uM=GS[wM]
set oM=GetSpellAbilityId()
if oM==nS then
set SM=GetSpellTargetX()
set iM=GetSpellTargetY()
call Eew(uM,fbw(xc[uM],vc[uM],mc[uM],SM,iM))
elseif oM==dS then
call iew(RS[uM],uM,3.0)
elseif oM==fS then
call Oew(RS[uM],uM,0.1)
endif
set SM=hi[RS[uM]]
call SetUnitScale(uo[uM],SM,SM,SM)
set SM=hi[RS[uM]]
call SetUnitScale(vn[uM],SM,SM,SM)
else
call f5()
endif
elseif KT[wM]<=794 then
set uM=Js[wM]
set oM=GetSpellAbilityId()
call oZ(oM,uo[uM])
if oM==1093677890 then
if IsUnitType(uo[uM],UNIT_TYPE_PEON) then
call UnitRemoveType(uo[uM],UNIT_TYPE_PEON)
call SetUnitPropWindow(Us[uM],0.)
call SetUnitPropWindow(uo[uM],0.)
call Rcw(xL(uM),AF,DF,0.,0.05,"ON",10.,2.,200,0,0,0,Ic[uM])
else
call UnitAddType(uo[uM],UNIT_TYPE_PEON)
call SetUnitPropWindow(Us[uM],60.)
call SetUnitPropWindow(uo[uM],60.)
call Rcw(xL(uM),AF,DF,0.,0.05,"OFF",10.,2.,0,200,0,0,Ic[uM])
endif
endif
else
set uM=GetUnitUserData(GetTriggerUnit())
if mT[uM]==724 then
set oM=GetSpellAbilityId()
if oM==1093678923 then
if ot[uM]>=200. then
call Rcw(xc[uM],vc[uM],mc[uM],0.,0.05,"|cffC51019Max",10.,2.,255,255,255,0,Ic[uM])
else
set ot[uM]=ot[uM]+10.
call Rcw(xc[uM],vc[uM],mc[uM],0.,0.05,"|cffC51019Damage "+R2SW(ot[uM],1,2),10.,2.,255,255,255,0,Ic[uM])
endif
elseif oM==1093678922 then
if ot[uM]<=0. then
call Rcw(xc[uM],vc[uM],mc[uM],0.,0.05,"|cffC51019Min",10.,2.,255,255,255,0,Ic[uM])
else
set ot[uM]=ot[uM]-10.
call Rcw(xc[uM],vc[uM],mc[uM],0.,0.05,"|cffC51019Damage "+R2SW(ot[uM],1,2),10.,2.,255,255,255,0,Ic[uM])
endif
endif
endif
endif
elseif KT[wM]<=803 then
if KT[wM]<=799 then
if KT[wM]<=797 then
if KT[wM]<=796 then
set oM=LS[wM]
set uM=GetSpellAbilityId()
if uM==1093677130 then
if KS[oM]then
call Aew(oM)
else
call Hew(oM)
endif
elseif uM==1093677399 then
call Kew(oM)
else
call Iew(oM,uM)
endif
else
call Vaw(lO[wM])
endif
elseif KT[wM]<=798 then
call Liw(Zf[wM])
else
call xP(Kt[wM])
endif
elseif KT[wM]<=801 then
if KT[wM]<=800 then
set uM=uy[wM]
set oM=GetSpellAbilityId()
if oM==Dt[0]then
set Cb[uM]=0
elseif oM==Dt[1]then
set Cb[uM]=1
elseif oM==Dt[2]then
set Cb[uM]=2
elseif oM==Dt[3]then
set Cb[uM]=3
elseif oM==Dt[4]then
set Cb[uM]=4
elseif oM==Dt[5]then
set Cb[uM]=5
elseif oM==Dt[6]then
set Cb[uM]=6
elseif oM==Dt[7]then
set Cb[uM]=7
elseif oM==Dt[8]then
set Cb[uM]=8
elseif oM==1093677133 then
set Bb[uM]=false
set GM=Vl[uM]
call UnitRemoveAbility(GM,1093677133)
call UnitAddAbility(GM,1093677391)
set Nb[uM]=AddSpecialEffect("XTex.mdx",xc[uM],vc[uM])
elseif oM==1093677391 then
set Bb[uM]=true
set GM=Vl[uM]
call UnitRemoveAbility(GM,1093677391)
call UnitAddAbility(GM,1093677133)
if Nb[uM]!=null then
call DestroyEffect(Nb[uM])
endif
endif
call Ddw(uM)
else
set uM=If[wM]
set oM=GetSpellAbilityId()
set Hc[uM]=0
if oM==Gf[1]then
call UnitRemoveAbility(uo[uM],Gf[1])
call UnitAddAbility(uo[uM],Gf[Ef[uM]])
set Ef[uM]=1
call DisplayTextToPlayer(GetOwningPlayer(GetSpellAbilityUnit()),0.,0.,"Poison")
elseif oM==Gf[2]then
call UnitRemoveAbility(uo[uM],Gf[2])
call UnitAddAbility(uo[uM],Gf[Ef[uM]])
set Ef[uM]=2
call DisplayTextToPlayer(GetOwningPlayer(GetSpellAbilityUnit()),0.,0.,"Lava")
elseif oM==Gf[0]then
call UnitRemoveAbility(uo[uM],Gf[0])
call UnitAddAbility(uo[uM],Gf[Ef[uM]])
set Ef[uM]=0
call DisplayTextToPlayer(GetOwningPlayer(GetSpellAbilityUnit()),0.,0.,"Normal")
elseif oM==1093678643 then
call UnitRemoveAbility(uo[uM],1093678643)
call UnitAddAbility(uo[uM],1093677123)
set Ef[uM]=0
call DisplayTextToPlayer(GetOwningPlayer(GetSpellAbilityUnit()),0.,0.,"Normal")
elseif oM==1093677123 then
call UnitRemoveAbility(uo[uM],1093677123)
call UnitAddAbility(uo[uM],1093678643)
set Ef[uM]=1
call DisplayTextToPlayer(GetOwningPlayer(GetSpellAbilityUnit()),0.,0.,"Reverse")
elseif oM==gf then
call yYw(uM)
set GM=uo[uM]
call UnitRemoveAbility(GM,gf)
call UnitAddAbility(GM,hf)
set Qf[uM]=0
elseif oM==Ff then
call yYw(uM)
set GM=uo[uM]
call UnitRemoveAbility(GM,Ff)
call UnitAddAbility(GM,kf)
set Qf[uM]=1
elseif oM==jf then
call yYw(uM)
set GM=uo[uM]
call UnitRemoveAbility(GM,jf)
call UnitAddAbility(GM,xf)
set Qf[uM]=2
elseif oM==mf then
set Wf[uM]=1
set GM=uo[uM]
call UnitRemoveAbility(GM,mf)
call UnitAddAbility(GM,vf)
elseif oM==vf then
set Wf[uM]=0
set GM=uo[uM]
call UnitRemoveAbility(GM,vf)
call UnitAddAbility(GM,mf)
endif
endif
elseif KT[wM]<=802 then
call hpw(Jt[wM])
else
call spw(Hs[wM])
endif
elseif KT[wM]<=807 then
if KT[wM]<=805 then
if KT[wM]<=804 then
set tM=GetManipulatedItem()
set GM=GetManipulatingUnit()
set uM=GetItemUserData(tM)
set oM=GetUnitUserData(GM)
set nM=mT[uM]
if nM>=705 and nM<=711 and(not Ac[uM]) then
set nM=mT[oM]
if nM>=770 and nM<=775 and(not Ac[oM]) then
if mT[uM]<=708 then
if mT[uM]<=707 then
if mT[uM]<=706 then
if rO[oM]==0 then
set rO[oM]=uM
set nM=FT[uM]
set sO[oM]=AddSpecialEffectTarget(fT[nM],uo[oM],"hand")
set hT[uM]=oM
call ShowUnit(Vl[uM],false)
set oM=FT[uM]
call UnitAddAbility(uo[hT[uM]],dT[oM])
else
call hYw(uM)
endif
else
call SetItemUserData(Bl[uM],0)
set Bl[uM]=null
call kqw(uM)
endif
elseif jq[eq[GetPlayerId(Ic[oM])]]==1 or Ic[uM]==Ic[oM]then
set Vb[uM]=true
set Mb[uM]=oM
set nM=D3(xc[uM],vc[uM],mc[uM],"war3mapImported\\Key_ITEM.mdx")
call Mnw(nM,X3(Cb[uM]),Ik,Pk,Ak)
set SM=Ylw(xL(oM),AF,DF,0.,0.,128.)
call WOw(xl[nM],SM,uk,rk)
set wy[uM]=nM
call ShowUnit(Vl[uM],false)
call mqw(uM)
else
set Vb[uM]=false
call UnitRemoveItem(uo[oM],Bl[uM])
call SetItemPosition(Bl[uM],xc[uM],vc[uM])
call GOw(Vl[uM],xc[uM],vc[uM])
call ShowUnit(Vl[uM],true)
set Mb[uM]=0
endif
elseif mT[uM]<=710 then
if mT[uM]<=709 then
call UnitAddAbility(uo[oM],Rs)
call ShowUnit(Vl[uM],false)
else
call kqw(uM)
endif
else
call kqw(uM)
endif
endif
endif
else
set uM=cT[wM]
set oM=GetSpellAbilityId()
if oM==1093678154 then
if iT[uM]<25. then
set iT[uM]=iT[uM]+.5
call Rcw(xc[uM],vc[uM],mc[uM],0.,0.06,"Gravity : "+R2S(iT[uM]),12.,2.,255,255,255,0,Ic[uM])
endif
elseif oM==1093678155 then
if iT[uM]>(-25.) then
set iT[uM]=iT[uM]-.5
call Rcw(xc[uM],vc[uM],mc[uM],0.,0.06,"Gravity : "+R2S(iT[uM]),12.,2.,255,255,255,0,Ic[uM])
endif
elseif oM==rT then
set ST[uM]=0
call Rcw(xc[uM],vc[uM],mc[uM],0.,0.06,"Z Mode: None",12.,2.,255,255,255,0,Ic[uM])
elseif oM==sT then
set ST[uM]=1
call Rcw(xc[uM],vc[uM],mc[uM],0.,0.06,"Z Mode: Cylinder",12.,2.,255,255,255,0,Ic[uM])
elseif oM==tT then
set ST[uM]=2
call Rcw(xc[uM],vc[uM],mc[uM],0.,0.06,"Z Mode: Hemisphere",12.,2.,255,255,255,0,Ic[uM])
endif
endif
elseif KT[wM]<=806 then
set oM=GetSpellAbilityId()
if oM==1093678150 or oM==1093677109 then
set GM=GetSpellAbilityUnit()
set nM=GetUnitUserData(GM)
set uM=mT[nM]
if uM>=741 and uM<=766 then
if oM==1093678150 then
set GM=uo[nM]
call UnitRemoveAbility(GM,1097295983)
call UnitAddAbility(GM,1097167976)
set GM=Fn[nM]
call UnitRemoveAbility(GM,1093678150)
call UnitAddAbility(GM,1093677109)
elseif oM==1093677109 then
set GM=uo[nM]
call UnitRemoveAbility(GM,1097167976)
call UnitAddAbility(GM,1097295983)
set GM=Fn[nM]
call UnitRemoveAbility(GM,1093677109)
call UnitAddAbility(GM,1093678150)
endif
elseif oM==1093678150 then
call UnitRemoveAbility(GM,1097295983)
call UnitAddAbility(GM,1097167976)
call UnitRemoveAbility(GM,1093678150)
call UnitAddAbility(GM,1093677109)
elseif oM==1093677109 then
if GetUnitAbilityLevel(GM,1097167976)>0 then
call UnitRemoveAbility(GM,1097167976)
endif
call UnitAddAbility(GM,1097295983)
call UnitRemoveAbility(GM,1093677109)
call UnitAddAbility(GM,1093678150)
endif
endif
else
call xow(QR[wM])
endif
elseif KT[wM]<=809 then
if KT[wM]<=808 then
call ETw(Td[wM])
else
call f5()
endif
elseif KT[wM]<=810 then
call f5()
else
call Inw(Fl[wM])
endif
elseif KT[wM]<=827 then
if KT[wM]<=819 then
if KT[wM]<=815 then
if KT[wM]<=813 then
if KT[wM]<=812 then
set tM=GetManipulatedItem()
set GM=GetManipulatingUnit()
set uM=GetItemUserData(tM)
set oM=GetUnitUserData(GM)
set nM=mT[uM]
if nM>=705 and nM<=711 and(not Ac[uM]) then
set nM=mT[oM]
if nM>=770 and nM<=775 and(not Ac[oM]) then
if mT[uM]<=708 then
if mT[uM]<=707 then
if mT[uM]<=706 then
call Oyw(uM,oM)
endif
endif
elseif mT[uM]<=710 then
endif
endif
endif
else
call spw(Ds[wM])
endif
elseif KT[wM]<=814 then
call Vaw(bO[wM])
else
call naw(yO[wM],0)
endif
elseif KT[wM]<=817 then
if KT[wM]<=816 then
call lTw(xn[wM])
else
call hpw(Ht[wM])
endif
elseif KT[wM]<=818 then
call spw(As[wM])
else
set uM=go[wM]
set nM=GetLearnedSkill()
set oM=GetLearnedSkillLevel()
if nM==1093679180 then
if oM==1 then
call UnitAddAbility(uo[uM],so)
elseif oM==2 then
set GM=uo[uM]
call UnitRemoveAbility(GM,so)
call UnitAddAbility(GM,io)
elseif oM==3 then
set GM=uo[uM]
call UnitRemoveAbility(GM,io)
call UnitAddAbility(GM,So)
endif
endif
endif
elseif KT[wM]<=823 then
if KT[wM]<=821 then
if KT[wM]<=820 then
set uM=NO[wM]
call E0w(1,"Executer casts")
set oM=GetSpellAbilityId()
if oM==1093678648 then
set IO[uM]=2
call UnitAddAbility(uo[uM],1093677390)
call UnitAddAbility(uo[uM],1093677368)
call UnitAddAbility(uo[uM],1093677393)
call UnitAddAbility(uo[uM],1093677878)
call UnitAddAbility(uo[uM],1093678162)
call UnitAddAbility(uo[uM],1093678675)
call UnitRemoveAbility(uo[uM],1093678648)
call UnitRemoveAbility(uo[uM],1093678649)
call UnitRemoveAbility(uo[uM],1093678647)
call UnitRemoveAbility(uo[uM],1093678646)
elseif oM==1093678649 then
set IO[uM]=1
call UnitAddAbility(uo[uM],1093677390)
call UnitAddAbility(uo[uM],1093677368)
call UnitAddAbility(uo[uM],1093677393)
call UnitAddAbility(uo[uM],1093677878)
call UnitAddAbility(uo[uM],1093678162)
call UnitAddAbility(uo[uM],1093678675)
call UnitRemoveAbility(uo[uM],1093678648)
call UnitRemoveAbility(uo[uM],1093678649)
call UnitRemoveAbility(uo[uM],1093678647)
call UnitRemoveAbility(uo[uM],1093678646)
elseif oM==1093678647 then
set IO[uM]=3
call UnitAddAbility(uo[uM],1093677390)
call UnitAddAbility(uo[uM],1093677368)
call UnitAddAbility(uo[uM],1093677393)
call UnitAddAbility(uo[uM],1093677878)
call UnitRemoveAbility(uo[uM],1093678648)
call UnitRemoveAbility(uo[uM],1093678649)
call UnitRemoveAbility(uo[uM],1093678647)
call UnitRemoveAbility(uo[uM],1093678646)
set BO[uM]=CreateDestructable(1146383478,GetUnitX(uo[uM]),GetUnitY(uo[uM]),0.,1.,0)
call SetDestructableAnimation(BO[uM],"death")
elseif oM==1093678646 then
set IO[uM]=4
call UnitAddAbility(uo[uM],1093677390)
call UnitAddAbility(uo[uM],1093677368)
call UnitAddAbility(uo[uM],1093677393)
call UnitAddAbility(uo[uM],1093677878)
call UnitRemoveAbility(uo[uM],1093678648)
call UnitRemoveAbility(uo[uM],1093678649)
call UnitRemoveAbility(uo[uM],1093678647)
call UnitRemoveAbility(uo[uM],1093678646)
set SM=GetUnitX(uo[uM])
set iM=GetUnitY(uo[uM])
call TriggerClearConditions(ds[uM])
call TriggerClearActions(ds[uM])
call DestroyTrigger(ds[uM])
set UO[uM]=CreateRegion()
set ZO[uM]=Rect(SM-50.,iM-50.,SM+50.,iM+50.)
call RegionAddRect(UO[uM],ZO[uM])
call MTw(RO,GetHandleId(UO[uM]),uM)
call TriggerRegisterLeaveRegion(mO,UO[uM],null)
call TriggerAddAction(mO,om)
call TriggerRegisterEnterRegion(QO,UO[uM],null)
call TriggerAddAction(QO,Om)
set BO[uM]=CreateDestructable(1110454321,GetUnitX(uo[uM]),GetUnitY(uo[uM]),0.,1.,0)
call SetDestructableAnimation(BO[uM],"stand alternate")
elseif oM==1093678682 then
set VO[uM]=false
call SetUnitVertexColor(uo[uM],0,128,0,255)
call UnitRemoveAbility(uo[uM],1093678682)
elseif oM==1093678150 then
if IO[uM]==4 then
call ShowDestructable(BO[uM],true)
call SetDestructableAnimation(BO[uM],"death")
elseif IO[uM]==3 then
call ShowDestructable(BO[uM],true)
call SetDestructableAnimation(BO[uM],"stand alternate")
endif
elseif oM==1093677109 then
if IO[uM]==4 then
call ShowDestructable(BO[uM],false)
elseif IO[uM]==3 then
call ShowDestructable(BO[uM],false)
endif
elseif oM==1093677362 then
set WO[uM]=true
set EO[uM]=true
call UnitRemoveAbility(uo[uM],1093677362)
call UnitAddAbility(uo[uM],1093677364)
elseif oM==1093677113 then
set WO[uM]=true
set EO[uM]=false
call UnitRemoveAbility(uo[uM],1093677113)
call UnitAddAbility(uo[uM],1093677362)
elseif oM==1093677364 then
set WO[uM]=false
set EO[uM]=true
call UnitRemoveAbility(uo[uM],1093677364)
call UnitAddAbility(uo[uM],1093677113)
elseif oM==1093677368 then
set PO[uM]=1
call UnitRemoveAbility(uo[uM],1093677390)
call UnitRemoveAbility(uo[uM],1093677368)
call UnitRemoveAbility(uo[uM],1093677393)
call UnitRemoveAbility(uo[uM],1093677878)
call UnitRemoveAbility(uo[uM],1093678162)
call UnitRemoveAbility(uo[uM],1093678675)
call UnitAddAbility(uo[uM],1415671403)
elseif oM==1093677390 then
set PO[uM]=2
call UnitRemoveAbility(uo[uM],1093677390)
call UnitRemoveAbility(uo[uM],1093677368)
call UnitRemoveAbility(uo[uM],1093677393)
call UnitRemoveAbility(uo[uM],1093677878)
call UnitRemoveAbility(uo[uM],1093678162)
call UnitRemoveAbility(uo[uM],1093678675)
call UnitAddAbility(uo[uM],1415671403)
elseif oM==1093677393 then
set PO[uM]=3
call UnitRemoveAbility(uo[uM],1093677390)
call UnitRemoveAbility(uo[uM],1093677368)
call UnitRemoveAbility(uo[uM],1093677393)
call UnitRemoveAbility(uo[uM],1093677878)
call UnitRemoveAbility(uo[uM],1093678162)
call UnitRemoveAbility(uo[uM],1093678675)
call UnitAddAbility(uo[uM],1415671403)
elseif oM==1093677878 then
set PO[uM]=6
call UnitRemoveAbility(uo[uM],1093677390)
call UnitRemoveAbility(uo[uM],1093677368)
call UnitRemoveAbility(uo[uM],1093677393)
call UnitRemoveAbility(uo[uM],1093677878)
call UnitRemoveAbility(uo[uM],1093678162)
call UnitRemoveAbility(uo[uM],1093678675)
call UnitAddAbility(uo[uM],1415671403)
call UnitAddAbility(uo[uM],1093677389)
call UnitAddAbility(uo[uM],1093677387)
call UnitAddAbility(uo[uM],1093677396)
call UnitAddAbility(uo[uM],1093677397)
call UnitAddAbility(uo[uM],1093677877)
if IO[uM]==3 or IO[uM]==4 then
call UnitAddAbility(uo[uM],1093678658)
endif
set DO[uM]=808464432
set HO[uM]=808464433
elseif oM==1093677365 then
set DO[uM]=808464432
elseif oM==1093677889 then
set HO[uM]=808464432
elseif oM==1093677366 then
set DO[uM]=808464433
elseif oM==1093677881 then
set HO[uM]=808464433
elseif oM==1093677369 then
set DO[uM]=1315529573
elseif oM==1093677880 then
set HO[uM]=1315529573
elseif oM==1093677377 then
set DO[uM]=1231317865
elseif oM==1093677879 then
set HO[uM]=1231317865
elseif oM==1093678675 then
set PO[uM]=4
set XO[uM]=1
call UnitRemoveAbility(uo[uM],1093677390)
call UnitRemoveAbility(uo[uM],1093677368)
call UnitRemoveAbility(uo[uM],1093677393)
call UnitRemoveAbility(uo[uM],1093677878)
call UnitRemoveAbility(uo[uM],1093678162)
call UnitRemoveAbility(uo[uM],1093678675)
call UnitAddAbility(uo[uM],1415671403)
call UnitAddAbility(uo[uM],1093678130)
elseif oM==1093678133 then
set XO[uM]=4
elseif oM==1093678134 then
set XO[uM]=3
elseif oM==1093678136 then
set XO[uM]=6
elseif oM==1093678146 then
set XO[uM]=5
elseif oM==1093678147 then
set XO[uM]=1
elseif oM==1093678167 then
set XO[uM]=2
elseif oM==1093678148 then
set XO[uM]=7
elseif oM==1093678930 then
set XO[uM]=8
elseif oM==1093678162 then
set CO[uM]="move"
if PO[uM]==0 then
set PO[uM]=5
call UnitRemoveAbility(uo[uM],1093677390)
call UnitRemoveAbility(uo[uM],1093677368)
call UnitRemoveAbility(uo[uM],1093677393)
call UnitRemoveAbility(uo[uM],1093677878)
call UnitRemoveAbility(uo[uM],1093678162)
call UnitRemoveAbility(uo[uM],1093678675)
call UnitAddAbility(uo[uM],1415671403)
call UnitAddAbility(uo[uM],1093678645)
call UnitAddAbility(uo[uM],1093678162)
call UnitAddAbility(uo[uM],1093678644)
call UnitAddAbility(uo[uM],1093678657)
endif
elseif oM==1093678644 then
set CO[uM]="patrol"
elseif oM==1093678645 then
set CO[uM]="stop"
elseif oM==1093678657 then
set GM=GetSpellTargetUnit()
if GetOwningPlayer(GM)==Ic[uM]then
set hM=Gww(GetUnitUserData(GM))==Gww(uM)
else
set hM=false
endif
if hM then
set hM=mT[GetUnitUserData(GM)]!=768
else
set hM=false
endif
if hM then
set LO[uM]=GM
endif
elseif oM==1093677387 then
if KO[uM]<=3 then
set KO[uM]=KO[uM]+1
endif
elseif oM==1093677389 then
if JO[uM]<=3 then
set JO[uM]=JO[uM]+1
endif
elseif oM==1093677397 then
if KO[uM]>=1 then
set KO[uM]=KO[uM]-1
endif
elseif oM==1093677396 then
if JO[uM]>=1 then
set JO[uM]=JO[uM]-1
endif
endif
else
set nM=GetSpellAbilityId()
set oM=GetUnitUserData(GetSpellAbilityUnit())
if nM==1093677381 or nM==1093677384 then
set uM=mT[oM]
set hM=uM>=741 and uM<=766
else
set hM=false
endif
if hM then
set SM=sww(GetUnitMoveSpeed(Fn[oM])/25.)*25.
if nM==1093677381 then
if SM<=500. then
call SetUnitMoveSpeed(Fn[oM],SM+25.)
call SetUnitMoveSpeed(uo[oM],SM+25.)
call Rcw(qqw(oM),jk,xk,0.,0.05,R2S(SM+25.),10.,2.,255,255,255,0,Ic[oM])
endif
elseif nM==1093677384 then
if SM>50.5 then
call SetUnitMoveSpeed(Fn[oM],SM-25.)
call SetUnitMoveSpeed(uo[oM],SM-25.)
call Rcw(qqw(oM),jk,xk,0.,0.05,R2S(SM-25.),10.,2.,255,255,255,0,Ic[oM])
endif
endif
endif
endif
elseif KT[wM]<=822 then
set uM=fs[wM]
if mT[uM]<=727 then
if mT[uM]<=723 then
if mT[uM]<=721 then
if mT[uM]<=720 then
call aZ(uM)
else
call aZ(uM)
set oM=GetSpellAbilityId()
if oM==1093678159 then
call iew(ct[uM],uM,525.)
elseif oM==1093678161 then
call Oew(ct[uM],uM,25.)
endif
endif
elseif mT[uM]<=722 then
call aZ(uM)
else
call aZ(uM)
set oM=GetSpellAbilityId()
if oM==1093677364 then
set GM=uo[uM]
call UnitRemoveAbility(GM,1093677364)
call UnitAddAbility(GM,1093677113)
set bf[uM]=0
elseif oM==1093677113 then
set GM=uo[uM]
call UnitRemoveAbility(GM,1093677113)
call UnitAddAbility(GM,1093677362)
set bf[uM]=1
elseif oM==1093677362 then
set GM=uo[uM]
call UnitRemoveAbility(GM,1093677362)
call UnitAddAbility(GM,1093677364)
set bf[uM]=2
endif
endif
elseif mT[uM]<=725 then
if mT[uM]<=724 then
call aZ(uM)
else
call aZ(uM)
set oM=GetSpellAbilityId()
if oM==1093678896 then
set GM=uo[uM]
call UnitRemoveAbility(GM,1093678896)
call UnitAddAbility(GM,1093678897)
call SetUnitVertexColor(GM,75,95,205,255)
set Ib[uM]=1
call ayw(uM)
elseif oM==1093678897 then
set GM=uo[uM]
call UnitRemoveAbility(GM,1093678897)
call UnitAddAbility(GM,1093678896)
call SetUnitVertexColor(GM,50,50,255,255)
set Ib[uM]=0
elseif oM==1093678899 then
call Oew(Pb[uM],uM,6.)
elseif oM==1093678898 then
call iew(Pb[uM],uM,30.)
elseif oM==1093678927 then
if Ub[uM]<5 then
set cM=sww(GetSpellTargetX()/128.)
set oM=sww(GetSpellTargetY()/128.)
set yM=CreateImage("textures\\blugoo.blp",128,128,0.,cM*128.,oM*128.,0.,128/2.,128/2.,0.,1)
call SetImageRenderAlways(yM,true)
set OM=Ub[uM]
set nM=P2(yM,cM,oM)
if OM<0 or OM>=5 then
call tX("Index out of Bounds")
elseif OM<=2 then
if OM<=1 then
if OM<=0 then
set aF[uM]=nM
else
set nF[uM]=nM
endif
else
set dF[uM]=nM
endif
elseif OM<=3 then
set fF[uM]=nM
else
set RF[uM]=nM
endif
set Ub[uM]=Ub[uM]+1
call SaveInteger(yf,cM,oM,tI(LoadInteger(yf,cM,oM),2))
endif
endif
endif
else
call aZ(uM)
endif
elseif mT[uM]<=731 then
if mT[uM]<=729 then
if mT[uM]<=728 then
set oM=uM
call aZ(uM)
set nM=GetSpellAbilityId()
set iM=GetSpellTargetX()
set SM=GetSpellTargetY()
if nM==Hp then
if lY==0 then
if bY<8191 then
set bY=bY+1
set oM=bY
set yY[oM]=648
else
call tX("Out of memory: Could not create Closure.")
set oM=0
endif
else
set lY=lY-1
set oM=OY[lY]
set yY[oM]=648
endif
set Ge[oM]=uM
call sA(iM,SM,256.,oM)
elseif nM==Dp then
if Ic[GetUnitUserData(GetSpellTargetUnit())]==Ic[uM]then
call X7(uM,GetUnitUserData(GetSpellTargetUnit()),true)
endif
elseif nM==Kp then
call t8(uM,iM,SM,true)
elseif nM==Lp then
call PauseUnit(uo[uM],true)
call Nrw(je[uM],xc[uM],vc[uM],mc[uM],"|cff0884CEsaving...",10.)
set iM=Gcw(xc[uM],vc[uM])
set SM=Hk
set Fc=iM
set kc=SM
set jc=0.
set oM=tfw(he[uM])
set We[uM]=1
call Dyw(Qe[uM])
call Xyw(Qe[uM],pn[pb])
if VY==0 then
if BY<8191 then
set BY=BY+1
set nM=BY
set NY[nM]=1089
else
call tX("Out of memory: Could not create Closure.")
set nM=0
endif
else
set VY=VY-1
set nM=CY[VY]
set NY[nM]=1089
endif
set qn[nM]=false
set an[nM]=null
set ne[nM]=oM
set de[nM]=uM
call Bww(nM)
elseif nM==Xp then
call PauseUnit(uo[uM],true)
call Nrw(je[uM],xc[uM],vc[uM],mc[uM],"|cff0884CEsaving...",10.)
set SM=Gcw(xc[uM],vc[uM])
set iM=Hk
set Fc=SM
set kc=iM
set jc=0.
set oM=tfw(he[uM])
set We[uM]=2
call Dyw(Qe[uM])
call Xyw(Qe[uM],pn[pb])
if VY==0 then
if BY<8191 then
set BY=BY+1
set nM=BY
set NY[nM]=1089
else
call tX("Out of memory: Could not create Closure.")
set nM=0
endif
else
set VY=VY-1
set nM=CY[VY]
set NY[nM]=1089
endif
set qn[nM]=false
set an[nM]=null
set ne[nM]=oM
set de[nM]=uM
call Bww(nM)
elseif nM==Cp then
call PauseUnit(uo[uM],true)
call Nrw(je[uM],xc[uM],vc[uM],mc[uM],"|cff0884CEsaving...",10.)
set iM=Gcw(xc[uM],vc[uM])
set SM=Hk
set Fc=iM
set kc=SM
set jc=0.
set nM=tfw(he[uM])
set We[uM]=3
call Dyw(Qe[uM])
call Xyw(Qe[uM],pn[pb])
if VY==0 then
if BY<8191 then
set BY=BY+1
set oM=BY
set NY[oM]=1089
else
call tX("Out of memory: Could not create Closure.")
set oM=0
endif
else
set VY=VY-1
set oM=CY[VY]
set NY[oM]=1089
endif
set qn[oM]=false
set an[oM]=null
set ne[oM]=nM
set de[oM]=uM
call Bww(oM)
elseif nM==Vp then
call PauseUnit(uo[uM],true)
call Nrw(je[uM],xc[uM],vc[uM],mc[uM],"|cff0884CEsaving...",10.)
set iM=Gcw(xc[uM],vc[uM])
set SM=Hk
set Fc=iM
set kc=SM
set jc=0.
set oM=tfw(he[uM])
set We[uM]=4
call Dyw(Qe[uM])
call Xyw(Qe[uM],pn[pb])
if VY==0 then
if BY<8191 then
set BY=BY+1
set nM=BY
set NY[nM]=1089
else
call tX("Out of memory: Could not create Closure.")
set nM=0
endif
else
set VY=VY-1
set nM=CY[VY]
set NY[nM]=1089
endif
set qn[nM]=false
set an[nM]=null
set ne[nM]=oM
set de[nM]=uM
call Bww(nM)
elseif nM==Bp then
call PauseUnit(uo[uM],true)
call Nrw(je[uM],xc[uM],vc[uM],mc[uM],"|cff0884CEloading...",10.)
set ge[GetPlayerId(Ic[uM])]=uM
call Dsw(eq[GetPlayerId(Ic[uM])],"dataSlot"+I2S(1),Filter(lm))
elseif nM==Np then
call PauseUnit(uo[uM],true)
call Nrw(je[uM],xc[uM],vc[uM],mc[uM],"|cff0884CEloading...",10.)
set ge[GetPlayerId(Ic[uM])]=uM
call Dsw(eq[GetPlayerId(Ic[uM])],"dataSlot"+I2S(2),Filter(lm))
elseif nM==Mp then
call PauseUnit(uo[uM],true)
call Nrw(je[uM],xc[uM],vc[uM],mc[uM],"|cff0884CEloading...",10.)
set ge[GetPlayerId(Ic[uM])]=uM
call Dsw(eq[GetPlayerId(Ic[uM])],"dataSlot"+I2S(3),Filter(lm))
elseif nM==we then
call PauseUnit(uo[uM],true)
call Nrw(je[uM],xc[uM],vc[uM],mc[uM],"|cff0884CEloading...",10.)
set ge[GetPlayerId(Ic[uM])]=uM
call Dsw(eq[GetPlayerId(Ic[uM])],"dataSlot"+I2S(4),Filter(lm))
elseif nM==Jp then
set cM=sww(2)
set uM=-cM
set OM=cM
loop
exitwhen uM>OM
set nM=-cM
set lM=cM
loop
exitwhen nM>lM
call t8(oM,iM+uM*128.,SM+nM*128.,false)
set nM=nM+1
endloop
set uM=uM+1
endloop
endif
else
call aZ(uM)
endif
elseif mT[uM]<=730 then
call aZ(uM)
set oM=GetSpellAbilityId()
if oM==1093678388 then
if yT[uM]<5. then
set yT[uM]=yT[uM]+.25
call Rcw(xc[uM],vc[uM],mc[uM],0.,0.05,"Delay "+R2S(yT[uM]),10.,2.,255,255,255,0,Ic[uM])
else
call Rcw(xc[uM],vc[uM],mc[uM],0.,0.05,"Maximum Delay",10.,2.,255,255,255,0,Ic[uM])
endif
elseif oM==1093678389 then
if yT[uM]>=.25 then
set yT[uM]=yT[uM]-.25
call Rcw(xc[uM],vc[uM],mc[uM],0.,0.05,"Delay "+R2S(yT[uM]),10.,2.,255,255,255,0,Ic[uM])
else
call Rcw(xc[uM],vc[uM],mc[uM],0.,0.05,"Minimum Delay",10.,2.,255,255,255,0,Ic[uM])
endif
elseif oM==1093677623 then
if pT[uM]then
set pT[uM]=false
call Rcw(xc[uM],vc[uM],mc[uM],0.,0.05,"Wisps |cffAD0821inactive",10.,2.,255,255,255,0,Ic[uM])
else
set pT[uM]=true
call Rcw(xc[uM],vc[uM],mc[uM],0.,0.05,"Wisps |cff08BD52active",10.,2.,255,255,255,0,Ic[uM])
endif
elseif oM==1093679176 then
set oM=GetUnitUserData(GetSpellTargetUnit())
if oM!=0 and mT[oM]==730 then
set eT[uM]=oM
set eT[eT[uM]]=uM
call Rcw(qqw(oM),jk,xk,0.,0.1,"|cff0873C5Linked",9.,1.5,255,255,255,255,Ic[uM])
else
set eT[uM]=0
endif
endif
else
call aZ(uM)
set oM=GetSpellAbilityId()
if oM==1093677392 then
if ZR[uM]>=15. then
call Rcw(xc[uM],vc[uM],mc[uM],0.,0.05,"|cffC51019Max",10.,2.,255,255,255,0,Ic[uM])
else
set ZR[uM]=ZR[uM]+0.25
call Rcw(xc[uM],vc[uM],mc[uM],0.,0.05,"|cffC51019Intervall "+R2SW(ZR[uM],1,2),10.,2.,255,255,255,0,Ic[uM])
endif
elseif oM==1093677394 then
if ZR[uM]<0.75 then
call Rcw(xc[uM],vc[uM],mc[uM],0.,0.05,"|cffC51019Min",10.,2.,255,255,255,0,Ic[uM])
else
set ZR[uM]=ZR[uM]-0.25
call Rcw(xc[uM],vc[uM],mc[uM],0.,0.05,"|cffC51019Intervall "+R2SW(ZR[uM],1,2),10.,2.,255,255,255,0,Ic[uM])
endif
elseif oM==1093678133 then
set IR[uM]=1112098635
elseif oM==1093678134 then
set IR[uM]=1397571916
elseif oM==1093678136 then
set IR[uM]=1966092344
elseif oM==1093678148 then
set IR[uM]=1747988817
elseif oM==1093678167 then
set IR[uM]=1966092353
elseif oM==1093678147 then
set IR[uM]=1747988529
elseif oM==1093678146 then
set IR[uM]=1966092342
elseif oM==1093678930 then
set IR[uM]=1966092359
elseif oM==WR then
set GM=uo[uM]
call UnitRemoveAbility(GM,WR)
call UnitAddAbility(GM,ER)
set PR[uM]=1
elseif oM==ER then
set GM=uo[uM]
call UnitRemoveAbility(GM,ER)
call UnitAddAbility(GM,WR)
set PR[uM]=0
endif
endif
elseif mT[uM]<=735 then
if mT[uM]<=734 then
call aZ(uM)
else
call aZ(uM)
call oZ(GetSpellAbilityId(),uo[uM])
endif
else
call aZ(uM)
endif
else
set GM=GetTriggerUnit()
if GetUnitUserData(GM)>0 then
set uM=GetUnitUserData(GM)
if uM!=0 and(not Ac[uM]) then
set hM=Ft[uM]!=0
else
set hM=false
endif
if hM then
set uM=tfw(Ft[uM])
loop
exitwhen Jy[Vy[uM]]==Cy[uM]
set Vy[uM]=Jy[Vy[uM]]
call cpw(Dy[Vy[uM]])
endloop
endif
endif
endif
elseif KT[wM]<=825 then
if KT[wM]<=824 then
set uM=xR[wM]
set oM=GetSpellAbilityId()
if oM==1093678660 then
if RR[uM]>=9 then
set RR[uM]=0
else
set RR[uM]=RR[uM]+1
endif
if RR[uM]<9 then
call DestroyEffect(AddSpecialEffect(fR[RR[uM]],GetUnitX(uo[uM]),GetUnitY(uo[uM])))
else
call Rcw(xc[uM],vc[uM],mc[uM],0.,0.05,"|cffC51019No Effect",14.,2.,255,255,255,0,Ic[uM])
endif
elseif oM==1093678659 then
if RR[uM]<=0 then
set RR[uM]=9
else
set RR[uM]=RR[uM]-1
endif
if RR[uM]<9 then
call DestroyEffect(AddSpecialEffect(fR[RR[uM]],GetUnitX(uo[uM]),GetUnitY(uo[uM])))
else
call Rcw(xc[uM],vc[uM],mc[uM],0.,0.05,"|cffC51019No Effect",14.,2.,255,255,255,0,Ic[uM])
endif
elseif oM==1093678661 then
set GR[uM]=0
call UnitRemoveAbility(uo[uM],1093678661)
call UnitRemoveAbility(uo[uM],1093678663)
call UnitRemoveAbility(uo[uM],1093677875)
call UnitRemoveAbility(uo[uM],1093678665)
call UnitRemoveAbility(uo[uM],1093678664)
call UnitRemoveAbility(uo[uM],1093678662)
call UnitAddAbility(uo[uM],1093677647)
call UnitAddAbility(uo[uM],1093677649)
call UnitAddAbility(uo[uM],1093677652)
call UnitAddAbility(uo[uM],1093678660)
call UnitAddAbility(uo[uM],1093678659)
if qs[uM]!=null then
call DestroyEffect(qs[uM])
set qs[uM]=null
endif
elseif oM==1093678663 then
set GR[uM]=1
set gR[uM]=1.
call UnitRemoveAbility(uo[uM],1093678661)
call UnitRemoveAbility(uo[uM],1093678663)
call UnitRemoveAbility(uo[uM],1093677875)
call UnitRemoveAbility(uo[uM],1093678665)
call UnitRemoveAbility(uo[uM],1093678664)
call UnitRemoveAbility(uo[uM],1093678662)
call UnitAddAbility(uo[uM],1093677647)
call UnitAddAbility(uo[uM],1093677649)
call UnitAddAbility(uo[uM],1093677652)
call UnitAddAbility(uo[uM],1093678660)
call UnitAddAbility(uo[uM],1093678659)
call UnitAddAbility(uo[uM],1093677622)
call UnitAddAbility(uo[uM],1093677621)
if qs[uM]!=null then
call DestroyEffect(qs[uM])
set qs[uM]=null
endif
elseif oM==1093678665 then
set GR[uM]=3
set hR[uM]=120.
set gR[uM]=1.
call UnitRemoveAbility(uo[uM],1093678661)
call UnitRemoveAbility(uo[uM],1093678663)
call UnitRemoveAbility(uo[uM],1093677875)
call UnitRemoveAbility(uo[uM],1093678665)
call UnitRemoveAbility(uo[uM],1093678664)
call UnitRemoveAbility(uo[uM],1093678662)
call UnitAddAbility(uo[uM],1093677647)
call UnitAddAbility(uo[uM],1093677649)
call UnitAddAbility(uo[uM],1093677652)
call UnitAddAbility(uo[uM],1093678660)
call UnitAddAbility(uo[uM],1093678659)
call UnitAddAbility(uo[uM],1093677619)
call UnitAddAbility(uo[uM],1093677395)
if qs[uM]!=null then
call DestroyEffect(qs[uM])
set qs[uM]=null
endif
elseif oM==1093677875 then
set GR[uM]=5
set hR[uM]=500.
set gR[uM]=3.
call UnitRemoveAbility(uo[uM],1093678661)
call UnitRemoveAbility(uo[uM],1093678663)
call UnitRemoveAbility(uo[uM],1093677875)
call UnitRemoveAbility(uo[uM],1093678665)
call UnitRemoveAbility(uo[uM],1093678664)
call UnitRemoveAbility(uo[uM],1093678662)
call UnitAddAbility(uo[uM],1093677647)
call UnitAddAbility(uo[uM],1093677649)
call UnitAddAbility(uo[uM],1093677652)
call UnitAddAbility(uo[uM],1093678660)
call UnitAddAbility(uo[uM],1093678659)
call UnitAddAbility(uo[uM],1093677622)
call UnitAddAbility(uo[uM],1093677621)
call UnitAddAbility(uo[uM],1093677619)
call UnitAddAbility(uo[uM],1093677395)
if qs[uM]!=null then
call DestroyEffect(qs[uM])
set qs[uM]=null
endif
elseif oM==1093678664 then
set GR[uM]=4
set hR[uM]=10.
call UnitAddAbility(uo[uM],1095917932)
call UnitAddAbility(uo[uM],1093678900)
call UnitRemoveAbility(uo[uM],1093678661)
call UnitRemoveAbility(uo[uM],1093678663)
call UnitRemoveAbility(uo[uM],1093677875)
call UnitRemoveAbility(uo[uM],1093678665)
call UnitRemoveAbility(uo[uM],1093678664)
call UnitRemoveAbility(uo[uM],1093678662)
call UnitAddAbility(uo[uM],1093677647)
call UnitAddAbility(uo[uM],1093677649)
call UnitAddAbility(uo[uM],1093677652)
call UnitAddAbility(uo[uM],1093678660)
call UnitAddAbility(uo[uM],1093678659)
call UnitAddAbility(uo[uM],1093677619)
call UnitAddAbility(uo[uM],1093677395)
if qs[uM]!=null then
call DestroyEffect(qs[uM])
set qs[uM]=null
endif
elseif oM==1093678662 then
set GR[uM]=2
call UnitRemoveAbility(uo[uM],1093678661)
call UnitRemoveAbility(uo[uM],1093678663)
call UnitRemoveAbility(uo[uM],1093677875)
call UnitRemoveAbility(uo[uM],1093678665)
call UnitRemoveAbility(uo[uM],1093678664)
call UnitRemoveAbility(uo[uM],1093678662)
call UnitAddAbility(uo[uM],1093677647)
call UnitAddAbility(uo[uM],1093677649)
call UnitAddAbility(uo[uM],1093677652)
call UnitAddAbility(uo[uM],1093678660)
call UnitAddAbility(uo[uM],1093678659)
if qs[uM]!=null then
call DestroyEffect(qs[uM])
set qs[uM]=null
endif
elseif oM==1093677647 then
if TR[uM]>=10. then
call Rcw(xc[uM],vc[uM],mc[uM],0.,0.05,"|cffC51019Max",10.,2.,255,255,255,0,Ic[uM])
else
set TR[uM]=TR[uM]+0.25
call Rcw(xc[uM],vc[uM],mc[uM],0.,0.05,"|cffC51019Intervall "+R2SW(TR[uM],1,2),10.,2.,255,255,255,0,Ic[uM])
endif
elseif oM==1093677649 then
if TR[uM]<0.75 then
call Rcw(xc[uM],vc[uM],mc[uM],0.,0.05,"|cffC51019Min",10.,2.,255,255,255,0,Ic[uM])
else
set TR[uM]=TR[uM]-0.25
call Rcw(xc[uM],vc[uM],mc[uM],0.,0.05,"|cffC51019Intervall "+R2SW(TR[uM],1,2),10.,2.,255,255,255,0,Ic[uM])
endif
elseif oM==1093677619 then
set oM=GR[uM]
if oM==4 then
if hR[uM]>=200. then
call Rcw(xc[uM],vc[uM],mc[uM],0.,0.05,"|cffC51019Max Force",10.,2.,255,255,255,0,Ic[uM])
else
set hR[uM]=hR[uM]+5.
call Rcw(xc[uM],vc[uM],mc[uM],0.,0.05,"|cffC51019Force "+R2SW(hR[uM],1,0),10.,2.,255,255,255,0,Ic[uM])
endif
elseif oM==5 then
if hR[uM]>=1500. then
call Rcw(xc[uM],vc[uM],mc[uM],0.,0.05,"|cffC51019Intensity Max",10.,2.,255,255,255,0,Ic[uM])
else
set hR[uM]=hR[uM]+100.
call Rcw(xc[uM],vc[uM],mc[uM],0.,0.05,"|cffC51019Intensity "+R2SW(hR[uM],1,0),10.,2.,255,255,255,0,Ic[uM])
endif
elseif oM==3 then
if hR[uM]>=180. then
set kR[uM]=kR[uM]+1
call Rcw(xc[uM],vc[uM],mc[uM],0.,0.05,"|cffC51019Max Speed",10.,2.,255,255,255,0,Ic[uM])
else
set hR[uM]=hR[uM]+20.
call Rcw(xc[uM],vc[uM],mc[uM],0.,0.05,"|cffC51019Speed Bonus "+R2SW(hR[uM],1,0)+"%",10.,2.,255,255,255,0,Ic[uM])
endif
if kR[uM]>10 then
set kR[uM]=-99999999
call DisplayTimedTextToPlayer(Ic[uM],0.,0.,20.,"|cff08C5E6Relax|r, it's already |cffCE2919max|r... |cffFF7B29But maybe this will help you!")
call UnitAddAbility(uo[uM],1093678934)
endif
endif
elseif oM==1093677395 then
set oM=GR[uM]
if oM==4 then
if hR[uM]<=5. then
call Rcw(xc[uM],vc[uM],mc[uM],0.,0.05,"|cffC51019Min Force",10.,2.,255,255,255,0,Ic[uM])
else
set hR[uM]=hR[uM]-5.
call Rcw(xc[uM],vc[uM],mc[uM],0.,0.05,"|cffC51019Force "+I2S(R2I(hR[uM])),10.,2.,255,255,255,0,Ic[uM])
endif
elseif oM==5 then
if hR[uM]<=100. then
call Rcw(xc[uM],vc[uM],mc[uM],0.,0.05,"|cffC51019Min Intensity",10.,2.,255,255,255,0,Ic[uM])
else
set hR[uM]=hR[uM]-100.
call Rcw(xc[uM],vc[uM],mc[uM],0.,0.05,"|cffC51019Intensity "+I2S(R2I(hR[uM])),10.,2.,255,255,255,0,Ic[uM])
endif
elseif oM==3 then
if hR[uM]<=20. then
call Rcw(xc[uM],vc[uM],mc[uM],0.,0.05,"|cffC51019Min Speed",10.,2.,255,255,255,0,Ic[uM])
else
set hR[uM]=hR[uM]-20.
call Rcw(xc[uM],vc[uM],mc[uM],0.,0.05,"|cffC51019Speed Bonus "+I2S(R2I(hR[uM]))+"%",10.,2.,255,255,255,0,Ic[uM])
endif
endif
elseif oM==1093677622 then
set oM=GR[uM]
if oM==1 then
if gR[uM]>=4. then
call Rcw(xc[uM],vc[uM],mc[uM],0.,0.05,"|cffC51019Max Duration",10.,2.,255,255,255,0,Ic[uM])
else
set gR[uM]=gR[uM]+1.
call Rcw(xc[uM],vc[uM],mc[uM],0.,0.05,"|cffC51019Duration "+R2SW(gR[uM],1,0),10.,2.,255,255,255,0,Ic[uM])
endif
elseif oM==5 then
if gR[uM]>=5. then
call Rcw(xc[uM],vc[uM],mc[uM],0.,0.05,"|cffC51019Max Duration",10.,2.,255,255,255,0,Ic[uM])
else
set gR[uM]=gR[uM]+1.
call Rcw(xc[uM],vc[uM],mc[uM],0.,0.05,"|cffC51019Duration "+R2SW(gR[uM],1,0),10.,2.,255,255,255,0,Ic[uM])
endif
elseif oM==3 then
if gR[uM]>=20. then
call Rcw(xc[uM],vc[uM],mc[uM],0.,0.05,"|cffC51019Max Duration",10.,2.,255,255,255,0,Ic[uM])
else
set gR[uM]=gR[uM]+1.
call Rcw(xc[uM],vc[uM],mc[uM],0.,0.05,"|cffC51019Duration "+R2SW(gR[uM],1,0),10.,2.,255,255,255,0,Ic[uM])
endif
endif
elseif oM==1093677621 then
set oM=GR[uM]
if oM==1 then
if gR[uM]<=1. then
call Rcw(xc[uM],vc[uM],mc[uM],0.,0.05,"|cffC51019Min Duration",10.,2.,255,255,255,0,Ic[uM])
else
set gR[uM]=gR[uM]-1.
call Rcw(xc[uM],vc[uM],mc[uM],0.,0.05,"|cffC51019Duration "+R2SW(gR[uM],1,0),10.,2.,255,255,255,0,Ic[uM])
endif
elseif oM==5 then
if gR[uM]<=1. then
call Rcw(xc[uM],vc[uM],mc[uM],0.,0.05,"|cffC51019Min Duration",10.,2.,255,255,255,0,Ic[uM])
else
set gR[uM]=gR[uM]-1.
call Rcw(xc[uM],vc[uM],mc[uM],0.,0.05,"|cffC51019Duration "+R2SW(gR[uM],1,0),10.,2.,255,255,255,0,Ic[uM])
endif
elseif oM==3 then
if gR[uM]<=1. then
call Rcw(xc[uM],vc[uM],mc[uM],0.,0.05,"|cffC51019Min Duration",10.,2.,255,255,255,0,Ic[uM])
else
set gR[uM]=gR[uM]-1.
call Rcw(xc[uM],vc[uM],mc[uM],0.,0.05,"|cffC51019Duration "+R2SW(gR[uM],1,0),10.,2.,255,255,255,0,Ic[uM])
endif
endif
elseif oM==1093677652 then
call mqw(uM)
call UnitRemoveAbility(uo[uM],1093677652)
call UnitAddAbility(uo[uM],1093677653)
elseif oM==1093677653 then
call xqw(uM)
set YR[uM]=0.
call UnitRemoveAbility(uo[uM],1093677653)
call UnitAddAbility(uo[uM],1093677652)
elseif oM==1093678900 then
set FR[uM]=true
call UnitRemoveAbility(uo[uM],1093678900)
call UnitAddAbility(uo[uM],1093678901)
elseif oM==1093678901 then
set FR[uM]=false
call UnitRemoveAbility(uo[uM],1093678901)
call UnitAddAbility(uo[uM],1093678900)
elseif oM==1093678934 then
if jR[uM]<5 then
set oM=sww(GetSpellTargetX()/128.)
set nM=sww(GetSpellTargetY()/128.)
set yM=CreateImage("textures\\orangegoo.blp",128,128,0.,oM*128.,nM*128.,0.,128/2.,128/2.,0.,1)
call SetImageRenderAlways(yM,true)
set cM=jR[uM]
set OM=P2(yM,oM,nM)
if cM<0 or cM>=5 then
call tX("Index out of Bounds")
elseif cM<=2 then
if cM<=1 then
if cM<=0 then
set WF[uM]=OM
else
set EF[uM]=OM
endif
else
set ZF[uM]=OM
endif
elseif cM<=3 then
set UF[uM]=OM
else
set IF[uM]=OM
endif
set jR[uM]=jR[uM]+1
call SaveInteger(yf,oM,nM,tI(LoadInteger(yf,oM,nM),3))
endif
endif
else
set uM=Tn[wM]
set oM=GetSpellAbilityId()
set pM=GetOwningPlayer(uo[uM])
if oM==1093678391 then
if Da[Rn[uM]]>=15. then
call DisplayTextToPlayer(pM,0.,0.,"Slidespeed is on Maximum")
else
set Da[Rn[uM]]=Da[Rn[uM]]+.25
call DisplayTextToPlayer(pM,0.,0.,"Slidespeed: "+R2S(Da[Rn[uM]]))
endif
elseif oM==1093677110 then
if Da[Rn[uM]]<=(-15.) then
call DisplayTextToPlayer(pM,0.,0.,"Slidespeed is on Minimum")
else
set Da[Rn[uM]]=Da[Rn[uM]]-.25
call DisplayTextToPlayer(pM,0.,0.,"Slidespeed: "+R2S(Da[Rn[uM]]))
endif
elseif oM==1093677361 then
if Ha[Rn[uM]]>=20. then
call DisplayTextToPlayer(pM,0.,0.,"Poisondamage is on Maximum")
else
set Ha[Rn[uM]]=Ha[Rn[uM]]+.25
call DisplayTextToPlayer(pM,0.,0.,"Poisondamage: "+R2S(Ha[Rn[uM]]))
endif
elseif oM==1093678393 then
if Ha[Rn[uM]]<=.25 then
call DisplayTextToPlayer(pM,0.,0.,"Poisondamage is on Minimum")
else
set Ha[Rn[uM]]=Ha[Rn[uM]]-.25
call DisplayTextToPlayer(pM,0.,0.,"Poisondamage: "+R2S(Ha[Rn[uM]]))
endif
elseif oM==1093678392 then
if Ja[Rn[uM]]>=20. then
call DisplayTextToPlayer(pM,0.,0.,"Lavadmg is on Maximum")
else
set Ja[Rn[uM]]=Ja[Rn[uM]]+.25
call DisplayTextToPlayer(pM,0.,0.,"Lavadmg: "+R2S(Ja[Rn[uM]]))
endif
elseif oM==1093678401 then
if Ja[Rn[uM]]<=.25 then
call DisplayTextToPlayer(pM,0.,0.,"Lavadmg is on Minimum")
else
set Ja[Rn[uM]]=Ja[Rn[uM]]-.25
call DisplayTextToPlayer(pM,0.,0.,"Lavadmg: "+R2S(Ja[Rn[uM]]))
endif
elseif oM==1093677400 then
set GM=GetSpellTargetUnit()
set TM=GetOwningPlayer(GM)
if jq[eq[GetPlayerId(TM)]]==0 and TM!=pM then
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Invisibility\\InvisibilityTarget.mdl",GetUnitX(GM),GetUnitY(GM)))
if hRw(Rn[uM],TM) then
set hM=xq[eq[GetPlayerId(TM)]]!=2
else
set hM=false
endif
if hM then
call MTw(Ia[Rn[uM]],GetPlayerId(TM),0)
call DisplayTimedTextToPlayer(pM,0.,0.,25.,"|cff9C0808Disallowed|r "+v9(TM)+" |cffffcc00to build in your region.")
call DisplayTimedTextToPlayer(TM,0.,0.,25.,v9(pM)+" |cff9C0808disallowed|r|cffffcc00 you to build in his region.")
if GetLocalPlayer()==TM then
call PingMinimapEx((GetRectMinX(Aa[Rn[uM]])+GetRectMaxX(Aa[Rn[uM]]))/2.,(GetRectMinY(Aa[Rn[uM]])+GetRectMaxY(Aa[Rn[uM]]))/2.,3.,156,8,8,false)
endif
else
call MTw(Ia[Rn[uM]],GetPlayerId(TM),1)
call DisplayTimedTextToPlayer(pM,0.,0.,25.,"|cff08B552Allowed|r "+v9(TM)+" |cffffcc00to build in your region.")
call DisplayTimedTextToPlayer(TM,0.,0.,25.,v9(pM)+" |cff08B552allowed|r|cffffcc00 you to build in his region.")
if GetLocalPlayer()==TM then
call PingMinimapEx((GetRectMaxX(Aa[Rn[uM]])+GetRectMinX(Aa[Rn[uM]]))/2.,(GetRectMaxY(Aa[Rn[uM]])+GetRectMinY(Aa[Rn[uM]]))/2.,3.,8,181,82,false)
endif
endif
else
call DisplayTimedTextToPlayer(pM,0.,0.,15.,"|cffC51019Why would you do this!")
endif
elseif oM==1093677616 then
call GroupEnumUnitsInRect(Kl,Aa[Rn[uM]],null)
loop
exitwhen FirstOfGroup(Kl)==null
set eM=Kl
set GM=FirstOfGroup(eM)
call GroupRemoveUnit(eM,GM)
set nM=GetUnitUserData(GM)
if nM!=0 then
set oM=mT[nM]
set hM=not(oM>=770 and oM<=775)
else
set hM=false
endif
if hM and mT[nM]!=768 and GM!=uo[uM]then
call kqw(nM)
endif
endloop
set uM=Rn[uM]
if Pa[uM]!=0 then
set kM=Aa[uM]
call hww(Pa[uM])
call Www(kM,KF)
endif
elseif oM==1093678931 then
set uM=aww(xc[uM],vc[uM])
if Ba[uM]>0 then
set oM=pRw(uM)
loop
exitwhen Jy[Vy[oM]]==Cy[oM]
set Vy[oM]=Jy[Vy[oM]]
call UnitRemoveAbility(uo[Dy[Vy[oM]]],Ba[uM])
endloop
endif
set Ba[uM]=1093678642
call DisplayTimedTextToPlayer(pM,0.,0.,25.,"|cffFF8C29Escapers can now jump in this region!")
set oM=pRw(uM)
loop
exitwhen Jy[Vy[oM]]==Cy[oM]
set Vy[oM]=Jy[Vy[oM]]
call UnitAddAbility(uo[Dy[Vy[oM]]],Ba[uM])
endloop
elseif oM==1093679170 then
set uM=aww(xc[uM],vc[uM])
if Ba[uM]>0 then
set oM=pRw(uM)
loop
exitwhen Jy[Vy[oM]]==Cy[oM]
set Vy[oM]=Jy[Vy[oM]]
call UnitRemoveAbility(uo[Dy[Vy[oM]]],Ba[uM])
endloop
endif
set Ba[uM]=1093679169
call DisplayTimedTextToPlayer(pM,0.,0.,25.,"|cffFF8C29Escapers can now use the orb in this region!")
set oM=pRw(uM)
loop
exitwhen Jy[Vy[oM]]==Cy[oM]
set Vy[oM]=Jy[Vy[oM]]
call UnitAddAbility(uo[Dy[Vy[oM]]],Ba[uM])
endloop
elseif oM==1093679171 then
set oM=aww(xc[uM],vc[uM])
if Ba[oM]>0 then
set uM=pRw(oM)
loop
exitwhen Jy[Vy[uM]]==Cy[uM]
set Vy[uM]=Jy[Vy[uM]]
call UnitRemoveAbility(uo[Dy[Vy[uM]]],Ba[oM])
endloop
endif
set Ba[oM]=0
call DisplayTimedTextToPlayer(pM,0.,0.,25.,"|cffFF8C29Removed all abilities!")
elseif oM==1093677893 then
if Qq[eq[GetPlayerId(pM)]]>=0 then
call aTw(fn)
call UnitRemoveAbility(uo[uM],1093677893)
set Na[Rn[uM]]=true
call DisplayTimedTextToPlayer(pM,0.,0.,15.,"|cff63BD4AYou converted your area to a |cff086BBDB|r|cff0C5CB0o|r|cff104DA3s|r|cff143E96s|r|cff182F89r|r|cff1C207Ce|r|cff590E4Fg|r|cff750D41i|r|cff910C33o|r|cffAD0B25n|r")
set GM=uo[uM]
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl",GetUnitX(GM),GetUnitY(GM)))
set oM=mq[eq[GetPlayerId(pM)]]
set GM=uo[oM]
if GetLocalPlayer()==pM then
call ClearSelection()
call SelectUnit(GM,true)
endif
call GroupEnumUnitsInRect(Kl,Aa[Rn[uM]],null)
set Nt[oM]=true
call UnitAddAbility(uo[oM],1093677892)
else
call DisplayTextToPlayer(pM,0.,0.,"|cffFFD621[Info]|r - You need to have at least the |cffFFE6AD3:Novice|r Rank to be able to make a BossRegion.\nYou accumulate Rank-XP over time by playing.")
endif
elseif oM==1093678913 then
set GM=uo[uM]
call UnitRemoveAbility(GM,1093677400)
call UnitRemoveAbility(GM,1093678671)
call UnitRemoveAbility(GM,1093677616)
call UnitRemoveAbility(GM,1093678913)
call UnitRemoveAbility(GM,1093678936)
call UnitRemoveAbility(GM,1093678935)
call UnitRemoveAbility(GM,1093679158)
call UnitRemoveAbility(GM,1093679159)
call UnitRemoveAbility(GM,1093679174)
call UnitRemoveAbility(GM,1093679175)
call UnitRemoveAbility(GM,dn)
call UnitRemoveAbility(GM,nn)
set GM=uo[uM]
call UnitAddAbility(GM,1093678391)
call UnitAddAbility(GM,1093677110)
call UnitAddAbility(GM,1093677361)
call UnitAddAbility(GM,1093678393)
call UnitAddAbility(GM,1093678392)
call UnitAddAbility(GM,1093678401)
call UnitAddAbility(GM,1093678914)
elseif oM==1093678914 then
set GM=uo[uM]
call UnitRemoveAbility(GM,1093678391)
call UnitRemoveAbility(GM,1093677110)
call UnitRemoveAbility(GM,1093677361)
call UnitRemoveAbility(GM,1093678393)
call UnitRemoveAbility(GM,1093678392)
call UnitRemoveAbility(GM,1093678401)
call UnitRemoveAbility(GM,1093678914)
set GM=uo[uM]
call UnitAddAbility(GM,1093677400)
call UnitAddAbility(GM,1093678671)
call UnitAddAbility(GM,1093677616)
call UnitAddAbility(GM,1093678913)
call UnitAddAbility(GM,1093678936)
call UnitAddAbility(GM,1093678935)
call UnitAddAbility(GM,1093679158)
call UnitAddAbility(GM,1093679159)
if Ma[Rn[uM]]then
call UnitAddAbility(uo[uM],1093679175)
else
call UnitAddAbility(uo[uM],1093679174)
endif
if Va[Rn[uM]]then
call UnitAddAbility(uo[uM],dn)
else
call UnitAddAbility(uo[uM],nn)
endif
elseif oM==1093678936 then
set oM=Rn[uM]
if Ca[oM]>-10. then
set oM=Rn[uM]
set nM=Rn[uM]
set La[oM]=xlw(La[nM],Xa[nM],Ca[nM],0.,0.,0.1)
set Xa[oM]=Ek
set Ca[oM]=Zk
set uM=Rn[uM]
call DisplayTimedTextToPlayer(pM,0.,0.,10.,"Gravity: "+R2S(Ca[uM]))
endif
elseif oM==1093678935 then
set oM=Rn[uM]
if Ca[oM]<(-.1) then
set oM=Rn[uM]
set nM=Rn[uM]
set La[oM]=Ylw(La[nM],Xa[nM],Ca[nM],0.,0.,0.1)
set Xa[oM]=uk
set Ca[oM]=rk
set uM=Rn[uM]
call DisplayTimedTextToPlayer(pM,0.,0.,10.,"Gravity: "+R2S(Ca[uM]))
endif
elseif oM==1093679158 then
if Ka[Rn[uM]]>0. then
set Ka[Rn[uM]]=Ka[Rn[uM]]-.25
if Ka[Rn[uM]]<=0.01 then
set Ka[Rn[uM]]=0.01
endif
call DisplayTimedTextToPlayer(pM,0.,0.,10.,"Turnspeed: "+R2S(Ka[Rn[uM]]))
endif
set oM=pRw(Rn[uM])
loop
exitwhen Jy[Vy[oM]]==Cy[oM]
set Vy[oM]=Jy[Vy[oM]]
call SetUnitTurnSpeed(uo[Dy[Vy[oM]]],Ka[Rn[uM]])
endloop
elseif oM==1093679159 then
if Ka[Rn[uM]]<5.0 then
if Ka[Rn[uM]]<=0.01 then
set Ka[Rn[uM]]=0.
endif
set Ka[Rn[uM]]=Ka[Rn[uM]]+.25
call DisplayTimedTextToPlayer(pM,0.,0.,10.,"Turnspeed: "+R2S(Ka[Rn[uM]]))
endif
set oM=pRw(Rn[uM])
loop
exitwhen Jy[Vy[oM]]==Cy[oM]
set Vy[oM]=Jy[Vy[oM]]
call SetUnitTurnSpeed(uo[Dy[Vy[oM]]],Ka[Rn[uM]])
endloop
elseif oM==1093679174 then
set Ma[Rn[uM]]=true
set GM=uo[uM]
call UnitRemoveAbility(GM,1093679174)
call UnitAddAbility(GM,1093679175)
call DisplayTimedTextToPlayer(pM,0.,0.,15.,"|cffFF9C29Escapers can now cut diagonal tiles")
elseif oM==1093679175 then
set Ma[Rn[uM]]=false
set GM=uo[uM]
call UnitRemoveAbility(GM,1093679175)
call UnitAddAbility(GM,1093679174)
call DisplayTimedTextToPlayer(pM,0.,0.,15.,"|cffFF9C29Escapers can no longer cut diagonal tiles.")
elseif oM==nn then
set Va[Rn[uM]]=true
set GM=uo[uM]
call UnitRemoveAbility(GM,nn)
call UnitAddAbility(GM,dn)
call DisplayTimedTextToPlayer(pM,0.,0.,15.,"|cffFF9C29Activated easy mode")
elseif oM==dn then
set Va[Rn[uM]]=false
set GM=uo[uM]
call UnitRemoveAbility(GM,dn)
call UnitAddAbility(GM,nn)
call DisplayTimedTextToPlayer(pM,0.,0.,15.,"|cffFF9C29Deactivated easy mode")
endif
endif
elseif KT[wM]<=826 then
set YM=GetTriggerUnit()
set GM=GetEventDamageSource()
if GetUnitUserData(GM)!=0 then
set hM=UnitAlive(GM)
else
set hM=false
endif
if hM then
set uM=GetUnitUserData(GM)
if Ft[uM]!=0 then
set uM=tfw(Ft[uM])
loop
exitwhen Jy[Vy[uM]]==Cy[uM]
set Vy[uM]=Jy[Vy[uM]]
set oM=Dy[Vy[uM]]
if not mt[oM]then
if ZT[oM]<=638 then
endif
endif
endloop
endif
endif
if GetUnitUserData(YM)!=0 then
set hM=UnitAlive(YM)
else
set hM=false
endif
if hM then
set uM=GetUnitUserData(YM)
if Ft[uM]!=0 then
set uM=tfw(Ft[uM])
loop
exitwhen Jy[Vy[uM]]==Cy[uM]
set Vy[uM]=Jy[Vy[uM]]
set oM=Dy[Vy[uM]]
if not mt[oM]then
if ZT[oM]<=638 then
if ZT[oM]<=637 then
else
set SM=BH()
if SM>=aa[oM]then
set SM=-aa[oM]
call sJ(BH()+SM)
set aa[oM]=0.
call sRw(oM)
else
call sJ(0.)
set aa[oM]=aa[oM]-SM
endif
endif
endif
endif
endloop
endif
endif
else
set oM=Ei[wM]
set uM=GetSpellAbilityId()
set GM=GetSpellTargetUnit()
if uM==1093677657 then
set nM=GetUnitUserData(GM)
if Ic[nM]==Ic[oM]then
set uM=mT[nM]
set hM=uM>=741 and uM<=766
else
set hM=false
endif
if hM then
set uM=oM
set nM=nM
set hM=true
set oM=mi[oM]
loop
exitwhen oM==0
if Ii[oM]==nM then
set hM=false
exitwhen true
endif
set oM=Zi[oM]
endloop
if hM then
if mi[uM]==0 then
if gY==0 then
if hY<8191 then
set hY=hY+1
set oM=hY
set FY[oM]=685
else
call tX("Out of memory: Could not create CongaSegment.")
set oM=0
endif
else
set gY=gY-1
set oM=GY[gY]
set FY[oM]=685
endif
set Zi[oM]=0
set Ui[oM]=0
set Ii[oM]=nM
set Pi[oM]=uM
call UnitRemoveAbility(Fn[nM],1093677131)
call Fbw(xL(uM),AF,DF,xL(nM),AF,DF)
set mi[uM]=oM
else
set oM=mi[uM]
loop
exitwhen Zi[oM]==0
set oM=Zi[oM]
endloop
if gY==0 then
if hY<8191 then
set hY=hY+1
set cM=hY
set FY[cM]=685
else
call tX("Out of memory: Could not create CongaSegment.")
set cM=0
endif
else
set gY=gY-1
set cM=GY[gY]
set FY[cM]=685
endif
set Zi[cM]=0
set Ui[cM]=0
set Ii[cM]=nM
set Pi[cM]=uM
call UnitRemoveAbility(Fn[nM],1093677131)
call Fbw(xL(uM),AF,DF,xL(nM),AF,DF)
set Zi[oM]=cM
set Ui[Zi[oM]]=oM
set SM=xL(nM)
call fbw(SM,AF,DF,xc[uM],vc[uM])
endif
else
call bew(oM)
endif
endif
elseif uM==1093677658 then
if Wi[oM]<500. then
set Wi[oM]=Wi[oM]+25.
call Rcw(xc[oM],vc[oM],mc[oM],0.,0.05,"Segment Length: "+R2SW(Wi[oM],1,2),10.,2.,255,255,255,0,Ic[oM])
else
call Rcw(xc[oM],vc[oM],mc[oM],0.,0.05,"Maximum Speed",10.,2.,255,255,255,0,Ic[oM])
endif
elseif uM==1093677872 then
if Wi[oM]>25. then
set Wi[oM]=Wi[oM]-25.
call Rcw(xc[oM],vc[oM],mc[oM],0.,0.05,"Segment Length: "+R2SW(Wi[oM],1,2),10.,2.,255,255,255,0,Ic[oM])
else
call Rcw(xc[oM],vc[oM],mc[oM],0.,0.05,"Minimum Speed",10.,2.,255,255,255,0,Ic[oM])
endif
elseif uM==ji then
set Qi[oM]=0
elseif uM==xi then
set Qi[oM]=1
endif
endif
elseif KT[wM]<=835 then
if KT[wM]<=831 then
if KT[wM]<=829 then
if KT[wM]<=828 then
call spw(Ps[wM])
else
call f5()
endif
elseif KT[wM]<=830 then
set oM=dt[wM]
set uM=GetSpellAbilityId()
if uM==1093678678 then
set nt[oM]=1
set GM=uo[oM]
call SetUnitVertexColor(GM,255,255,0,255)
call UnitRemoveAbility(GM,1093678678)
call UnitAddAbility(GM,1093678679)
elseif uM==1093678679 then
set nt[oM]=3
set GM=uo[oM]
call SetUnitVertexColor(GM,0,255,255,255)
call UnitRemoveAbility(GM,1093678679)
call UnitAddAbility(GM,1093678678)
endif
else
call f5()
endif
elseif KT[wM]<=833 then
if KT[wM]<=832 then
set uM=pO[wM]
if GetItemTypeId(GetManipulatedItem())==1227895088 then
call iK("ui\\feedback\\goldcredit\\goldcredit.mdx",xc[uM],vc[uM],mc[uM])
set GM=uo[uM]
set pM=Ic[uM]
set qM="+"+I2S(15)
set iM=GetUnitX(GM)
set SM=GetUnitY(GM)-gd
set iM=iM-Gd
set gM=CreateTextTag()
call SetTextTagText(gM,qM,Yd*0.0023)
call SetTextTagPos(gM,iM,SM,0.)
call SetTextTagFadepoint(gM,2.)
call SetTextTagLifespan(gM,3.)
call SetTextTagVelocity(gM,0.,.03)
call SetTextTagPermanent(gM,false)
call SetTextTagVisibility(gM,true)
call SetTextTagColor(gM,255,220,0,255)
call SetTextTagVisibility(gM,GetLocalPlayer()==pM)
set pM=Ic[uM]
set aM=PLAYER_STATE_RESOURCE_GOLD
call SetPlayerState(pM,aM,GetPlayerState(pM,aM)+10)
set uM=cfw(aq)
loop
exitwhen Jy[Ly[uM]]==Ky[uM]
set Ly[uM]=Jy[Ly[uM]]
set pM=Tq[Dy[Ly[uM]]]
set aM=PLAYER_STATE_RESOURCE_GOLD
call SetPlayerState(pM,aM,GetPlayerState(pM,aM)+5)
endloop
call Ldw(uM)
endif
else
call f5()
endif
elseif KT[wM]<=834 then
call ETw(Rd[wM])
else
set oM=bq[wM]
set nM=GetSpellAbilityId()
set uM=eq[GetPlayerId(GetOwningPlayer(uo[oM]))]
if nM==Be then
set oM=Je[Yq[uM]]
if GetLocalPlayer()==Tq[uM]then
call SetTextTagVisibility(uq[oM],false)
call SetUnitVertexColor(sq[oM],ei,qi,ai,ni)
endif
set oM=I8(Je[Yq[uM]])
set Je[Yq[uM]]=oM
set oM=Je[Yq[uM]]
if GetLocalPlayer()==Tq[uM]then
call SetTextTagVisibility(uq[oM],true)
call SetUnitVertexColor(sq[oM],li,bi,yi,pi)
endif
elseif nM==Ne then
set oM=Je[Yq[uM]]
if GetLocalPlayer()==Tq[uM]then
call SetTextTagVisibility(uq[oM],false)
call SetUnitVertexColor(sq[oM],ei,qi,ai,ni)
endif
set oM=Z8(Je[Yq[uM]])
set Je[Yq[uM]]=oM
set oM=Je[Yq[uM]]
if GetLocalPlayer()==Tq[uM]then
call SetTextTagVisibility(uq[oM],true)
call SetUnitVertexColor(sq[oM],li,bi,yi,pi)
endif
elseif nM==Me then
set nM=Je[Yq[uM]]
if GetLocalPlayer()==Tq[uM]then
call SetTextTagVisibility(uq[nM],false)
call SetUnitVertexColor(sq[nM],ei,qi,ai,ni)
endif
call DisplayTimedTextToPlayer(Tq[uM],0.,0.,20.,"|cffE68C19Welcome to |cff086BC5Escape Builder Reloaded|cffE68C19!\n    |r")
set nM=Je[Yq[uM]]
set cM=tq[nM]
if vg[cM]<=1044 then
if vg[cM]<=1043 then
if vg[cM]<=1042 then
set vq[uM]=rC(Eo,Zo,0.,Tq[uM])
else
set vq[uM]=vX(Eo,Zo,0.,Tq[uM])
endif
else
set SM=Eo
set iM=Zo
set pM=Tq[uM]
if xT==0 then
if vT<8191 then
set vT=vT+1
set cM=vT
set mT[cM]=773
else
call tX("Out of memory: Could not create BlindEscaper.")
set cM=0
endif
else
set xT=xT-1
set cM=jT[xT]
set mT[cM]=773
endif
call cN(cM,SM,iM,0.,pM,1211117652)
set vq[uM]=cM
endif
elseif vg[cM]<=1045 then
set vq[uM]=gX(Eo,Zo,0.,Tq[uM])
else
set vq[uM]=UX(Eo,Zo,0.,Tq[uM])
endif
set pM=Tq[uM]
if GetLocalPlayer()==pM then
call ResetToGameCamera(0.5)
endif
if jq[eq[GetPlayerId(Tq[uM])]]==0 then
set GM=uo[vq[uM]]
call UnitAddAbility(GM,1093677105)
call UnitAddAbility(GM,1093678925)
set iO[vq[uM]]=false
set pM=Tq[uM]
set iM=GetUnitX(uo[mq[uM]])
set SM=GetUnitY(uo[mq[uM]])
if GetLocalPlayer()==pM then
call PanCameraToTimed(iM,SM,0.)
endif
set pM=Tq[uM]
set GM=uo[mq[uM]]
if GetLocalPlayer()==pM then
call ClearSelection()
call SelectUnit(GM,true)
endif
call DisplayTimedTextToPlayer(Tq[uM],0.,0.,20.,"    You chose the role |cff528CDEBuilder|r!")
else
set pM=Tq[uM]
set SM=Ke
set iM=Le
if GetLocalPlayer()==pM then
call PanCameraToTimed(SM,iM,0.)
endif
set pM=Tq[uM]
set GM=uo[vq[uM]]
if GetLocalPlayer()==pM then
call ClearSelection()
call SelectUnit(GM,true)
endif
call DisplayTimedTextToPlayer(Tq[uM],0.,0.,20.,"    You chose the role |cff528CDEEscaper|r!")
endif
set Fq[uM]=rq[nM]
if IT==0 then
if PT<8191 then
set PT=PT+1
set nM=PT
set AT[nM]=674
else
call tX("Out of memory: Could not create Closure.")
set nM=0
endif
else
set IT=IT-1
set nM=UT[IT]
set AT[nM]=674
endif
set wq[nM]=uM
call lA(nM,0.5)
call A8(oM)
endif
endif
elseif KT[wM]<=839 then
if KT[wM]<=837 then
if KT[wM]<=836 then
call f5()
else
set uM=sa[wM]
set oM=GetSpellAbilityId()
if oM==1093677382 then
if wa[uM]<6. then
set wa[uM]=wa[uM]+0.5
call Rcw(xc[uM],vc[uM],mc[uM],0.,0.05,"Turnspeed: "+R2SW(wa[uM],1,2),10.,2.,255,255,255,0,Ic[uM])
else
call Rcw(xc[uM],vc[uM],mc[uM],0.,0.05,"Maximum Speed",10.,2.,255,255,255,0,Ic[uM])
endif
elseif oM==1093677383 then
if wa[uM]>(-6.) then
set wa[uM]=wa[uM]-0.5
call Rcw(xc[uM],vc[uM],mc[uM],0.,0.05,"Turnspeed: "+R2SW(wa[uM],1,2),10.,2.,255,255,255,0,Ic[uM])
else
call Rcw(xc[uM],vc[uM],mc[uM],0.,0.05,"Minimum Speed",10.,2.,255,255,255,0,Ic[uM])
endif
elseif oM==1093677873 then
set ra[uM]=true
set ua[uM]=GetUnitFacing(uo[uM])*0.017453293
call mqw(uM)
set GM=Fn[uM]
call UnitRemoveAbility(GM,1093677873)
call UnitAddAbility(GM,1093677874)
elseif oM==1093677874 then
set ra[uM]=false
call xqw(uM)
set GM=Fn[uM]
call UnitRemoveAbility(GM,1093677874)
call UnitAddAbility(GM,1093677873)
endif
endif
elseif KT[wM]<=838 then
if GetSpellAbilityId()==1093677131 then
set GM=GetTriggerUnit()
set uM=GetUnitUserData(GM)
if uM>0 then
call DestroyEffect(AddSpecialEffect("abilities\\spells\\items\\aiam\\aiamtarget.mdx",GetUnitX(GM),GetUnitY(GM)))
call kqw(uM)
endif
call UnitRemoveAbility(GM,1093677131)
endif
else
call RemoveUnit(GetTriggerUnit())
endif
elseif KT[wM]<=841 then
if KT[wM]<=840 then
set oM=ea[wM]
set nM=GetSpellAbilityId()
set GM=GetSpellTargetUnit()
set uM=GetUnitUserData(GetTriggerUnit())
if nM==1093678385 or nM==1093678929 or nM==1093678641 or nM==1093678916 or nM==1093679173 then
set oM=GetUnitUserData(GM)
if mT[oM]==760 then
set cM=oM
set hM=true
set OM=pa[uM]
loop
exitwhen OM==0
if la[OM]==cM then
call Lfw(OM)
set hM=false
exitwhen true
endif
set OM=Sa[OM]
endloop
if hM then
if nM==1093678385 then
set FM=AddLightning("DRAM",false,xc[uM],vc[uM],xc[oM],vc[oM])
if Vg==0 then
if Bg<8191 then
set Bg=Bg+1
set nM=Bg
set Ng[nM]=1052
else
call tX("Out of memory: Could not create Link.")
set nM=0
endif
else
set Vg=Vg-1
set nM=Cg[Vg]
set Ng[nM]=1052
endif
set Sa[nM]=0
set ca[nM]=0
set Oa[nM]=uM
set la[nM]=oM
set ba[nM]=FM
set oa[nM]=0
if pa[uM]!=0 then
set Sa[nM]=pa[uM]
set ca[pa[uM]]=nM
endif
set pa[uM]=nM
elseif nM==1093678929 then
set FM=AddLightning("LGRO",false,xc[uM],vc[uM],xc[oM],vc[oM])
if Vg==0 then
if Bg<8191 then
set Bg=Bg+1
set nM=Bg
set Ng[nM]=1052
else
call tX("Out of memory: Could not create Link.")
set nM=0
endif
else
set Vg=Vg-1
set nM=Cg[Vg]
set Ng[nM]=1052
endif
set Sa[nM]=0
set ca[nM]=0
set Oa[nM]=uM
set la[nM]=oM
set ba[nM]=FM
set oa[nM]=1
if pa[uM]!=0 then
set Sa[nM]=pa[uM]
set ca[pa[uM]]=nM
endif
set pa[uM]=nM
elseif nM==1093678641 then
set FM=AddLightning("LONE",false,xc[uM],vc[uM],xc[oM],vc[oM])
if Vg==0 then
if Bg<8191 then
set Bg=Bg+1
set nM=Bg
set Ng[nM]=1052
else
call tX("Out of memory: Could not create Link.")
set nM=0
endif
else
set Vg=Vg-1
set nM=Cg[Vg]
set Ng[nM]=1052
endif
set Sa[nM]=0
set ca[nM]=0
set Oa[nM]=uM
set la[nM]=oM
set ba[nM]=FM
set oa[nM]=2
if pa[uM]!=0 then
set Sa[nM]=pa[uM]
set ca[pa[uM]]=nM
endif
set pa[uM]=nM
elseif nM==1093678916 then
set FM=AddLightning("LBOT",false,xc[uM],vc[uM],xc[oM],vc[oM])
if Vg==0 then
if Bg<8191 then
set Bg=Bg+1
set nM=Bg
set Ng[nM]=1052
else
call tX("Out of memory: Could not create Link.")
set nM=0
endif
else
set Vg=Vg-1
set nM=Cg[Vg]
set Ng[nM]=1052
endif
set Sa[nM]=0
set ca[nM]=0
set Oa[nM]=uM
set la[nM]=oM
set ba[nM]=FM
set oa[nM]=3
if pa[uM]!=0 then
set Sa[nM]=pa[uM]
set ca[pa[uM]]=nM
endif
set pa[uM]=nM
elseif nM==1093679173 then
set FM=AddLightning("LORB",false,xc[uM],vc[uM],xc[oM],vc[oM])
if Vg==0 then
if Bg<8191 then
set Bg=Bg+1
set nM=Bg
set Ng[nM]=1052
else
call tX("Out of memory: Could not create Link.")
set nM=0
endif
else
set Vg=Vg-1
set nM=Cg[Vg]
set Ng[nM]=1052
endif
set Sa[nM]=0
set ca[nM]=0
set Oa[nM]=uM
set la[nM]=oM
set ba[nM]=FM
set oa[nM]=4
if pa[uM]!=0 then
set Sa[nM]=pa[uM]
set ca[pa[uM]]=nM
endif
set pa[uM]=nM
endif
endif
endif
elseif nM==ta then
call iew(ya[uM],uM,8.)
set nM=pa[uM]
loop
exitwhen nM==0
if la[nM]!=oM then
set hi[ya[la[nM]]]=hi[ya[uM]]
endif
set nM=Sa[nM]
endloop
elseif nM==ia then
call Oew(ya[uM],uM,0.)
set nM=pa[uM]
loop
exitwhen nM==0
if la[nM]!=oM then
set hi[ya[la[nM]]]=hi[ya[uM]]
endif
set nM=Sa[nM]
endloop
endif
else
set tM=GetManipulatedItem()
set GM=GetManipulatingUnit()
set uM=GetItemUserData(tM)
set oM=GetUnitUserData(GM)
set nM=mT[uM]
if nM>=705 and nM<=711 and(not Ac[uM]) then
set nM=mT[oM]
if nM>=770 and nM<=775 and(not Ac[oM]) then
if mT[uM]<=708 then
if mT[uM]<=707 then
if mT[uM]<=706 then
set nM=FT[uM]
call UnitRemoveAbility(uo[hT[uM]],dT[nM])
set rO[hT[uM]]=0
call DestroyEffect(sO[oM])
set sO[oM]=null
set hT[uM]=0
set GM=Vl[uM]
call GOw(GM,xc[uM],vc[uM])
call ShowUnit(GM,true)
call hYw(uM)
endif
else
set Vb[uM]=false
set Mb[uM]=0
if wy[uM]!=0 then
call tdw(wy[uM])
set wy[uM]=0
endif
call GOw(Vl[uM],xc[uM],vc[uM])
call ShowUnit(Vl[uM],true)
if IT==0 then
if PT<8191 then
set PT=PT+1
set oM=PT
set AT[oM]=655
else
call tX("Out of memory: Could not create Closure.")
set oM=0
endif
else
set IT=IT-1
set oM=UT[IT]
set AT[oM]=655
endif
set Xb[oM]=uM
call SA(oM)
endif
elseif mT[uM]<=710 then
if mT[uM]<=709 then
if GetUnitAbilityLevel(uo[oM],Rs)>0 then
call UnitRemoveAbility(uo[oM],Rs)
if IT==0 then
if PT<8191 then
set PT=PT+1
set oM=PT
set AT[oM]=659
else
call tX("Out of memory: Could not create Closure.")
set oM=0
endif
else
set IT=IT-1
set oM=UT[IT]
set AT[oM]=659
endif
set ts[oM]=uM
call SA(oM)
else
if IT==0 then
if PT<8191 then
set PT=PT+1
set oM=PT
set AT[oM]=676
else
call tX("Out of memory: Could not create Closure.")
set oM=0
endif
else
set IT=IT-1
set oM=UT[IT]
set AT[oM]=676
endif
set is[oM]=uM
call SA(oM)
endif
endif
endif
endif
endif
endif
elseif KT[wM]<=842 then
call lTw(kn[wM])
else
call f5()
endif
set wM=vO[wM]
endloop
endif
set rM=null
set tM=null
set yM=null
set pM=null
set eM=null
set aM=null
set fM=null
set RM=null
set TM=null
set YM=null
set GM=null
set gM=null
set FM=null
set kM=null
endfunction
function DN takes nothing returns nothing
call jM()
endfunction
function DOw takes nothing returns boolean
call D1()
call n0w(1093678133)
call n0w(1093678134)
call n0w(1093678136)
call n0w(1093678148)
call n0w(1093678167)
call n0w(1093678147)
call n0w(1093678146)
call n0w(1093678930)
call n0w(1415671403)
call n0w(1093677121)
call n0w(1093677392)
call n0w(1093677394)
call n0w(WR)
call n0w(ER)
return true
endfunction
function DP takes nothing returns nothing
local player IP=GetEnumPlayer()
local integer PP=GetPlayerId(IP)
local real AP=wi[PP]
if AP>5.0 then
set AP=5.0
endif
if AP<2.0 then
set AP=2.0
endif
if GetLocalPlayer()==IP then
set AP=wi[PP]*Pow(10.,AP)
call CameraSetTargetNoiseEx(wi[PP]*2.0,AP,true)
call CameraSetSourceNoiseEx(wi[PP]*2.0,AP,true)
set wi[PP]=wi[PP]-wi[PP]*0.05
set wi[PP]=wi[PP]-0.50
endif
if wi[PP]<0.50 then
if GetLocalPlayer()==IP then
call CameraSetSourceNoise(0.,0.)
call CameraSetTargetNoise(0.,0.)
endif
call ForceRemovePlayer(Mt,IP)
endif
set IP=null
endfunction
function Acw takes timer Pcw returns integer
return LoadInteger(lf,cR,GetHandleId(Pcw))
endfunction
function Kcw takes timer Jcw returns nothing
if Jcw==null then
call tX("Trying to release a null timer")
return
endif
if Acw(Jcw)==679645218 then
call tX("ReleaseTimer: Double free!")
return
endif
call MTw(cR,GetHandleId(Jcw),679645218)
call PauseTimer(Jcw)
set iR[SR]=Jcw
set SR=SR+1
endfunction
function Q6 takes unit j6,boolean x6 returns integer
local integer v6
local unit m6
if xT==0 then
if vT<8191 then
set vT=vT+1
set v6=vT
set mT[v6]=734
else
call tX("Out of memory: Could not create LobbyTeleporter.")
set v6=0
endif
else
set xT=xT-1
set v6=jT[xT]
set mT[v6]=734
endif
call JZ(v6,GetUnitX(j6),GetUnitY(j6),j6,38.,Vm,Os)
set up[v6]=null
set m6=uo[v6]
call UnitRemoveAbility(m6,1093677131)
call UnitRemoveAbility(m6,1093677109)
call UnitRemoveAbility(m6,1093677113)
if x6 then
set up[v6]=isw(GetUnitX(j6),GetUnitY(j6),0.,hq[eq[GetPlayerId(GetOwningPlayer(j6))]]+" - |cffffcc00building",11.)
endif
set m6=null
return v6
endfunction
function lfw takes integer ofw,integer Ofw returns nothing
set Ofw=u6(Ofw,Ny[ofw],Jy[Ny[ofw]])
set Hy[Jy[Ny[ofw]]]=Ofw
set Jy[Ny[ofw]]=Ofw
set wp[ofw]=wp[ofw]+1
endfunction
function x2 takes integer G2 returns nothing
local integer g2
local integer h2
local integer F2
local integer k2
local string j2
call StopMusic(false)
if wp[Tb[G2]]>0 then
set gb[G2]=true
set F2=Tb[G2]
set k2=Hy[Ny[F2]]
set h2=Dy[k2]
set Jy[Hy[k2]]=Jy[k2]
set Hy[Jy[k2]]=Hy[k2]
call Jdw(k2)
set wp[F2]=wp[F2]-1
set k2=h2
set F2=Ny[Rb]
set g2=0
set h2=kb[h2]
loop
exitwhen g2>h2
set F2=Jy[F2]
set g2=g2+1
endloop
set hb[G2]=Dy[F2]
set j2="Jukebox: Playing |cff84DE52"+mb[hb[G2]]+"|r as requested by "+v9(Fb[k2])
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,10.,j2)
if CG[k2]==0 then
call tX("Double free: object of type JukeRequest")
else
set KG[LG]=k2
set LG=LG+1
set CG[k2]=0
endif
elseif wp[Yb[G2]]>0 then
set k2=Yb[G2]
set F2=Hy[Ny[k2]]
set h2=Dy[F2]
set Jy[Hy[F2]]=Jy[F2]
set Hy[Jy[F2]]=Hy[F2]
call Jdw(F2)
set wp[k2]=wp[k2]-1
set g2=h2
set F2=Ny[Rb]
set k2=0
set h2=h2
loop
exitwhen k2>h2
set F2=Jy[F2]
set k2=k2+1
endloop
set hb[G2]=Dy[F2]
if hb[G2]==0 then
call x2(G2)
return
endif
set j2="Jukebox: Playing |cff84DE52"+mb[hb[G2]]+"|r"
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,10.,j2)
call lfw(Yb[G2],g2)
set gb[G2]=false
endif
if hb[G2]!=0 then
call PlayMusic(xb[hb[G2]])
call TimerStart(Gb[G2],vb[hb[G2]]+0.01,false,Xm)
else
call StopMusic(false)
call TimerStart(Gb[G2],60.,false,Cm)
endif
endfunction
function E1 takes nothing returns nothing
local integer g1
local real h1
local real F1
local hashtable k1
local integer j1
local integer x1
local hashtable v1
local integer m1
local group Q1
local unit W1
call Kcw(GetExpiredTimer())
call GroupEnumUnitsOfPlayer(Kl,Gs,null)
loop
exitwhen FirstOfGroup(Kl)==null
set Q1=Kl
set W1=FirstOfGroup(Q1)
call GroupRemoveUnit(Q1,W1)
call SetUnitOwner(W1,Dl,true)
endloop
call GroupEnumUnitsOfType(Kl,"custom_n000",kd)
loop
exitwhen FirstOfGroup(Kl)==null
set Q1=Kl
set W1=FirstOfGroup(Q1)
call GroupRemoveUnit(Q1,W1)
if UnitAlive(W1) then
if xT==0 then
if vT<8191 then
set vT=vT+1
set g1=vT
set mT[g1]=717
else
call tX("Out of memory: Could not create RevivePoint.")
set g1=0
endif
else
set xT=xT-1
set g1=jT[xT]
set mT[g1]=717
endif
call Auw(g1,W1,sOw(GetOwningPlayer(W1),1848651824,GetUnitX(W1),GetUnitY(W1),0.,g1),90.,Zm)
set bn[g1]=false
set yn[g1]=-1
set h1=xc[g1]
set F1=vc[g1]
call hww(Pa[Gww(g1)])
call SetTerrainType(h1,F1,JF,-1,1,0)
set k1=yf
set j1=sww(xc[g1])
set x1=sww(vc[g1])
set v1=yf
set m1=sww(xc[g1])
call SaveInteger(k1,j1,x1,tI(LoadInteger(v1,m1,sww(vc[g1])),4))
if W1==ow then
set yn[g1]=0
elseif W1==Fw then
set yn[g1]=1
elseif W1==Au then
set yn[g1]=2
elseif W1==Pu then
set yn[g1]=3
elseif W1==nw then
set yn[g1]=4
set Qd=g1
endif
endif
endloop
call GroupEnumUnitsOfType(Kl,"custom_h00C",kd)
loop
exitwhen FirstOfGroup(Kl)==null
set Q1=Kl
set W1=FirstOfGroup(Q1)
call GroupRemoveUnit(Q1,W1)
if W1!=Gu and W1!=bw then
call hJ(GetUnitX(W1),GetUnitY(W1),Dl)
call RemoveUnit(W1)
endif
endloop
call GroupEnumUnitsOfType(Kl,"custom_n00S",kd)
loop
exitwhen FirstOfGroup(Kl)==null
set Q1=Kl
set W1=FirstOfGroup(Q1)
call GroupRemoveUnit(Q1,W1)
call b7(GetUnitX(W1),GetUnitY(W1),Dl)
call RemoveUnit(W1)
endloop
call GroupEnumUnitsOfType(Kl,"custom_n00R",kd)
loop
exitwhen FirstOfGroup(Kl)==null
set Q1=Kl
set W1=FirstOfGroup(Q1)
call GroupRemoveUnit(Q1,W1)
call G7(GetUnitX(W1),GetUnitY(W1),Dl)
call RemoveUnit(W1)
endloop
call GroupEnumUnitsOfType(Kl,"custom_n018",kd)
loop
exitwhen FirstOfGroup(Kl)==null
set Q1=Kl
set W1=FirstOfGroup(Q1)
call GroupRemoveUnit(Q1,W1)
call G7(GetUnitX(W1),GetUnitY(W1),Dl)
call RemoveUnit(W1)
endloop
call GroupEnumUnitsOfType(Kl,"custom_n019",kd)
loop
exitwhen FirstOfGroup(Kl)==null
set Q1=Kl
set W1=FirstOfGroup(Q1)
call GroupRemoveUnit(Q1,W1)
call b7(GetUnitX(W1),GetUnitY(W1),Dl)
call RemoveUnit(W1)
endloop
call GroupEnumUnitsOfType(Kl,"custom_n00X",kd)
loop
exitwhen FirstOfGroup(Kl)==null
set Q1=Kl
set W1=FirstOfGroup(Q1)
call GroupRemoveUnit(Q1,W1)
call G7(GetUnitX(W1),GetUnitY(W1),Dl)
call RemoveUnit(W1)
endloop
set j1=GetRandomInt(0,7)
if j1<2 then
set j1=0
set j1=Q6(fw,false)
call UnitRemoveAbility(uo[j1],1093677131)
call Ryw(j1,-2433.,-6148.)
set up[j1]=isw(xL(j1),AF,DF,"|cffA5084ACitadel Startmaze",12.5)
set j1=0
set j1=Q6(qw,false)
call UnitRemoveAbility(uo[j1],1093677131)
call Ryw(j1,500.,-6900.)
set up[j1]=isw(xL(j1),AF,DF,"|cff3A9C3AForest Startmaze",12.5)
set j1=0
set j1=Q6(aw,false)
call UnitRemoveAbility(uo[j1],1093677131)
call Ryw(j1,3456.,-4160.)
set up[j1]=isw(xL(j1),AF,DF,"|cffE68C19Desert Startmaze",12.5)
elseif j1<5 then
set j1=0
set j1=Q6(fw,false)
call UnitRemoveAbility(uo[j1],1093677131)
call Ryw(j1,3456.,-4160.)
set up[j1]=isw(xL(j1),AF,DF,"|cffE68C19Desert Startmaze",12.5)
set j1=0
set j1=Q6(qw,false)
call UnitRemoveAbility(uo[j1],1093677131)
call Ryw(j1,-2433.,-6148.)
set up[j1]=isw(xL(j1),AF,DF,"|cffA5084ACitadel Startmaze",12.5)
set j1=0
set j1=Q6(aw,false)
call UnitRemoveAbility(uo[j1],1093677131)
call Ryw(j1,500.,-6900.)
set up[j1]=isw(xL(j1),AF,DF,"|cff3A9C3AForest Startmaze",12.5)
elseif j1<=7 then
set j1=0
set j1=Q6(fw,false)
call UnitRemoveAbility(uo[j1],1093677131)
call Ryw(j1,500.,-6900.)
set up[j1]=isw(xL(j1),AF,DF,"|cff3A9C3AForest Startmaze",12.5)
set j1=0
set j1=Q6(qw,false)
call UnitRemoveAbility(uo[j1],1093677131)
call Ryw(j1,-2433.,-6148.)
set up[j1]=isw(xL(j1),AF,DF,"|cffA5084ACitadel Startmaze",12.5)
set j1=0
set j1=Q6(aw,false)
call UnitRemoveAbility(uo[j1],1093677131)
call Ryw(j1,3456.,-4160.)
set up[j1]=isw(xL(j1),AF,DF,"|cffE68C19Desert Startmaze",12.5)
endif
if IT==0 then
if PT<8191 then
set PT=PT+1
set j1=PT
set AT[j1]=662
else
call tX("Out of memory: Could not create Closure.")
set j1=0
endif
else
set IT=IT-1
set j1=UT[IT]
set AT[j1]=662
endif
call lA(j1,1.)
if IT==0 then
if PT<8191 then
set PT=PT+1
set j1=PT
set AT[j1]=671
else
call tX("Out of memory: Could not create Closure.")
set j1=0
endif
else
set IT=IT-1
set j1=UT[IT]
set AT[j1]=671
endif
call lA(j1,0.1)
call x2(fb)
set k1=null
set v1=null
set Q1=null
set W1=null
endfunction
function E9 takes nothing returns boolean
call n0w(1093677873)
call n0w(1093677874)
call n0w(1093677382)
call n0w(1093677383)
return true
endfunction
function ED takes nothing returns boolean
return true
endfunction
function EI takes nothing returns boolean
return true
endfunction
function saw takes integer Bqw,integer Nqw,integer Mqw returns nothing
local real waw
local real uaw
local integer raw
if mT[Bqw]<=753 then
if mT[Bqw]<=750 then
if mT[Bqw]<=749 then
set raw=mT[Mqw]
if raw>=770 and raw<=775 then
if mc[Mqw]<=ho[Bqw]then
call naw(Mqw,Nqw)
endif
endif
else
set Nqw=mT[Mqw]
if Nqw>=770 and Nqw<=775 then
set waw=200.-mc[Mqw]
if waw-78.<=ho[Bqw] and waw>0. then
call naw(Mqw,Bqw)
endif
endif
endif
elseif mT[Bqw]<=752 then
set raw=mT[Mqw]
if raw>=770 and raw<=775 then
if mc[Mqw]<=ho[Bqw]then
call naw(Mqw,Nqw)
endif
endif
else
set Bqw=mT[Mqw]
if Bqw>=770 and Bqw<=775 then
call SetUnitFacing(uo[Mqw],ua[Nqw]*57.295779513)
endif
endif
elseif mT[Bqw]<=758 then
if mT[Bqw]<=757 then
set raw=mT[Mqw]
if raw>=770 and raw<=775 then
if mc[Mqw]<=ho[Bqw]then
call naw(Mqw,Nqw)
endif
endif
else
set Nqw=mT[Mqw]
if Nqw>=770 and Nqw<=775 then
if mc[Mqw]<=ho[Bqw]then
set waw=xlw(xL(Mqw),AF,DF,jaw(Mqw),ak,nk)
set uaw=Fbw(xc[Bqw],vc[Bqw],mc[Bqw],waw,Ek,Zk)
set waw=Cos(uaw)*hi[Sy[Bqw]]
set uaw=Sin(uaw)*hi[Sy[Bqw]]
set Qc[Mqw]=Ylw(Qc[Mqw],Wc[Mqw],Ec[Mqw],waw,uaw,0.)
set Wc[Mqw]=uk
set Ec[Mqw]=rk
call mqw(Mqw)
call UnitDamageTarget(uo[Bqw],uo[Mqw],hi[cy[Bqw]],false,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL,WEAPON_TYPE_WHOKNOWS)
call SetUnitAnimation(uo[Bqw],"attack")
call SetUnitAnimation(Fn[Bqw],"attack")
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl",xc[Mqw],vc[Mqw]))
endif
endif
endif
else
set raw=mT[Mqw]
if raw>=770 and raw<=775 then
if mc[Mqw]<=ho[Bqw]then
call naw(Mqw,Nqw)
endif
endif
endif
endfunction
function DRw takes integer QRw,integer WRw,integer ERw returns nothing
local integer ZRw
local boolean URw
local player IRw
local real PRw
local real ARw
if OG[QRw]<=1061 then
if OG[QRw]<=1060 then
if OG[QRw]<=1059 then
call saw(jo[QRw],WRw,ERw)
else
set WRw=QRw
set ZRw=ERw
set QRw=eo[QRw]
if oo[QRw]!=AR or Oo[QRw]!=DR then
set QRw=mT[ERw]
set URw=QRw>=770 and QRw<=775
else
set URw=false
endif
if URw then
set URw=true
set ERw=0
loop
exitwhen ERw>5
set QRw=GetItemUserData(UnitItemInSlot(uo[ZRw],ERw))
if QRw!=0 and mT[QRw]==708 then
set URw=false
exitwhen true
endif
set ERw=ERw+1
endloop
if URw then
set QRw=eo[WRw]
call Aqw(ZRw,oo[QRw],Oo[QRw],mc[ZRw])
set QRw=eo[WRw]
call iK("abilities\\spells\\nightelf\\blink\\blinkcaster.mdx",xc[QRw],vc[QRw],mc[QRw])
set QRw=eo[WRw]
call iK("abilities\\spells\\nightelf\\blink\\blinktarget.mdx",oo[QRw],Oo[QRw],0.)
if (not Ko[qo[WRw]])and iO[qo[WRw]]then
set IRw=GetOwningPlayer(uo[ZRw])
set QRw=eo[WRw]
set PRw=oo[QRw]
set QRw=eo[WRw]
set ARw=Oo[QRw]
if GetLocalPlayer()==IRw then
call PanCameraToTimed(PRw,ARw,0.03)
endif
endif
endif
endif
endif
else
call saw(ko[QRw],WRw,ERw)
endif
elseif OG[QRw]<=1062 then
call saw(Fo[QRw],WRw,ERw)
else
call saw(xo[QRw],WRw,ERw)
endif
set IRw=null
endfunction
function gN takes trigger GN returns unit
return LoadUnitHandle(lf,TO,GetHandleId(GN))
endfunction
function EV takes nothing returns nothing
local trigger vV=GetTriggeringTrigger()
local unit mV=GetTriggerUnit()
local integer QV
local integer WV
if GetUnitUserData(mV)>0 then
set QV=GetUnitUserData(mV)
if QV!=0 and(not Ac[QV]) then
set WV=bdw(Qo,GetHandleId(vV))
if WV!=0 then
call DRw(WV,GetUnitUserData(gN(vV)),QV)
endif
endif
endif
set vV=null
set mV=null
endfunction
function F4 takes nothing returns boolean
return true
endfunction
function FE takes nothing returns nothing
call RemoveUnit(ow)
call RemoveUnit(Fw)
call RemoveUnit(Au)
call RemoveUnit(Pu)
call RemoveUnit(nw)
call RemoveUnit(Ru)
call RemoveUnit(Tu)
call RemoveUnit(lr)
call RemoveUnit(br)
call RemoveUnit(Hu)
call RemoveUnit(dw)
endfunction
function Frw takes nothing returns nothing
local item hrw=GetEnumItem()
if GetItemUserData(hrw)!=0 then
call kqw(GetItemUserData(hrw))
else
call RemoveItem(hrw)
endif
set hrw=null
endfunction
function Iow takes real vow,real mow,player Qow returns integer
local integer Wow
local unit Eow
local playerunitevent Zow
local integer Uow
if xT==0 then
if vT<8191 then
set vT=vT+1
set Wow=vT
set mT[Wow]=726
else
call tX("Out of memory: Could not create UnitProducer.")
set Wow=0
endif
else
set xT=xT-1
set Wow=jT[xT]
set mT[Wow]=726
endif
call JZ(Wow,vow,mow,sOw(Qow,1211117633,vow,mow,0.,Wow),0.,Os,Os)
set Eow=uo[Wow]
call UnitRemoveAbility(Eow,1093677131)
call UnitAddAbility(Eow,1093678937)
set Eow=uo[Wow]
set Zow=EVENT_PLAYER_UNIT_SPELL_CAST
if HT==0 then
if JT<8191 then
set JT=JT+1
set Uow=JT
set KT[Uow]=807
else
call tX("Out of memory: Could not create Closure.")
set Uow=0
endif
else
set HT=HT-1
set Uow=DT[HT]
set KT[Uow]=807
endif
set xO[Uow]=0
set vO[Uow]=0
set QR[Uow]=Wow
call MN(Eow,Zow,Uow)
call ayw(Wow)
set Eow=null
set Zow=null
return Wow
endfunction
function G1 takes nothing returns nothing
local trigger q1=CreateTrigger()
local integer a1=0
local integer n1
local integer d1
local integer f1
local unit R1
local integer T1
local player Y1
loop
exitwhen a1>11
call TriggerRegisterPlayerChatEvent(q1,Bq[a1],"-setangle ",false)
call TriggerRegisterPlayerChatEvent(q1,Bq[a1],"-sa ",false)
set a1=a1+1
endloop
call TriggerAddAction(q1,xm)
if Qg==0 then
if Wg<8191 then
set Wg=Wg+1
set a1=Wg
else
call tX("Out of memory: Could not create EscaperDefinition.")
set a1=0
endif
else
set Qg=Qg-1
set a1=mg[Qg]
endif
set cq=cq+1
if cq==1 then
set iq=a1
set oq[a1]=0
else
set oq[a1]=Sq
set Oq[Sq]=a1
set oq[iq]=a1
endif
set Sq=a1
set uq[a1]=JSw(Xe-64.,Ce-64.,Ve,"",12)
call SetTextTagVisibility(uq[a1],false)
set sq[a1]=nOw(Gs,1211117634,Xe,Ce,Ve,315*0.017453293)
set R1=sq[a1]
call UnitAddAbility(R1,1097625443)
call SetUnitVertexColor(R1,ei,qi,ai,ni)
call SetTextTagText(uq[a1],"|cffFFC521Holy Escaper|r\nIn years of studies this priest mastered the art of healing and reincarnation.",12.*0.0023)
set rq[a1]="ReplaceableTextures\\CommandButtons\\BTNPriest.blp"
if jg==0 then
if xg<8191 then
set xg=xg+1
set n1=xg
set vg[n1]=1043
else
call tX("Out of memory: Could not create Closure.")
set n1=0
endif
else
set jg=jg-1
set n1=kg[jg]
set vg[n1]=1043
endif
set tq[a1]=n1
if Qg==0 then
if Wg<8191 then
set Wg=Wg+1
set a1=Wg
else
call tX("Out of memory: Could not create EscaperDefinition.")
set a1=0
endif
else
set Qg=Qg-1
set a1=mg[Qg]
endif
set cq=cq+1
if cq==1 then
set iq=a1
set oq[a1]=0
else
set oq[a1]=Sq
set Oq[Sq]=a1
set oq[iq]=a1
endif
set Sq=a1
set uq[a1]=JSw(Xe-64.,Ce-64.,Ve,"",12)
call SetTextTagVisibility(uq[a1],false)
set sq[a1]=nOw(Gs,1211117619,Xe,Ce,Ve,315*0.017453293)
set R1=sq[a1]
call UnitAddAbility(R1,1097625443)
call SetUnitVertexColor(R1,ei,qi,ai,ni)
call SetTextTagText(uq[a1],"|cffAD4208Strong Escaper|r\nThis brave baronet perfected his defense abilites and will never retreat.",12.*0.0023)
set rq[a1]="ReplaceableTextures\\CommandButtons\\BTNFootman.blp"
if jg==0 then
if xg<8191 then
set xg=xg+1
set n1=xg
set vg[n1]=1042
else
call tX("Out of memory: Could not create Closure.")
set n1=0
endif
else
set jg=jg-1
set n1=kg[jg]
set vg[n1]=1042
endif
set tq[a1]=n1
if Qg==0 then
if Wg<8191 then
set Wg=Wg+1
set a1=Wg
else
call tX("Out of memory: Could not create EscaperDefinition.")
set a1=0
endif
else
set Qg=Qg-1
set a1=mg[Qg]
endif
set cq=cq+1
if cq==1 then
set iq=a1
set oq[a1]=0
else
set oq[a1]=Sq
set Oq[Sq]=a1
set oq[iq]=a1
endif
set Sq=a1
set uq[a1]=JSw(Xe-64.,Ce-64.,Ve,"",12)
call SetTextTagVisibility(uq[a1],false)
set sq[a1]=nOw(Gs,1211117636,Xe,Ce,Ve,315*0.017453293)
set R1=sq[a1]
call UnitAddAbility(R1,1097625443)
call SetUnitVertexColor(R1,ei,qi,ai,ni)
call SetTextTagText(uq[a1],"|cff08CEEFFast Escaper|r\nThis blazing fast hero inceases the movementspeed of himself and his mates and can create a portal.",12.*0.0023)
set rq[a1]="ReplaceableTextures\\CommandButtons\\BTNPeasant.blp"
if jg==0 then
if xg<8191 then
set xg=xg+1
set n1=xg
set vg[n1]=1045
else
call tX("Out of memory: Could not create Closure.")
set n1=0
endif
else
set jg=jg-1
set n1=kg[jg]
set vg[n1]=1045
endif
set tq[a1]=n1
if Qg==0 then
if Wg<8191 then
set Wg=Wg+1
set a1=Wg
else
call tX("Out of memory: Could not create EscaperDefinition.")
set a1=0
endif
else
set Qg=Qg-1
set a1=mg[Qg]
endif
set cq=cq+1
if cq==1 then
set iq=a1
set oq[a1]=0
else
set oq[a1]=Sq
set Oq[Sq]=a1
set oq[iq]=a1
endif
set Sq=a1
set uq[a1]=JSw(Xe-64.,Ce-64.,Ve,"",12)
call SetTextTagVisibility(uq[a1],false)
set sq[a1]=nOw(Gs,1211117637,Xe,Ce,Ve,315*0.017453293)
set R1=sq[a1]
call UnitAddAbility(R1,1097625443)
call SetUnitVertexColor(R1,ei,qi,ai,ni)
call SetTextTagText(uq[a1],"|cff08D6FFIce Escaper|r\nBy living in the arctic snows for so long, this escaper knows how to handle sliding on ice.",12.*0.0023)
set rq[a1]="ReplaceableTextures\\CommandButtons\\BTNIceTrollBeserker.blp"
if jg==0 then
if xg<8191 then
set xg=xg+1
set n1=xg
set vg[n1]=1046
else
call tX("Out of memory: Could not create Closure.")
set n1=0
endif
else
set jg=jg-1
set n1=kg[jg]
set vg[n1]=1046
endif
set tq[a1]=n1
if Qg==0 then
if Wg<8191 then
set Wg=Wg+1
set n1=Wg
else
call tX("Out of memory: Could not create EscaperDefinition.")
set n1=0
endif
else
set Qg=Qg-1
set n1=mg[Qg]
endif
set cq=cq+1
if cq==1 then
set iq=n1
set oq[n1]=0
else
set oq[n1]=Sq
set Oq[Sq]=n1
set oq[iq]=n1
endif
set Sq=n1
set uq[n1]=JSw(Xe-64.,Ce-64.,Ve,"",12)
call SetTextTagVisibility(uq[n1],false)
set sq[n1]=nOw(Gs,1211117652,Xe,Ce,Ve,315*0.017453293)
set R1=sq[n1]
call UnitAddAbility(R1,1097625443)
call SetUnitVertexColor(R1,ei,qi,ai,ni)
call SetTextTagText(uq[n1],"|cff6B6BCEBlind Escaper|r\nHas cool footsteps and resistance to lava.",12.*0.0023)
set rq[n1]="ReplaceableTextures\\CommandButtons\\BTNEvilIllidan.blp"
if jg==0 then
if xg<8191 then
set xg=xg+1
set a1=xg
set vg[a1]=1044
else
call tX("Out of memory: Could not create Closure.")
set a1=0
endif
else
set jg=jg-1
set a1=kg[jg]
set vg[a1]=1044
endif
set tq[n1]=a1
set a1=tfw(qq)
loop
exitwhen Jy[Vy[a1]]==Cy[a1]
set Vy[a1]=Jy[Vy[a1]]
set n1=Dy[Vy[a1]]
set Je[Yq[n1]]=iq
set d1=0
set f1=GetRandomInt(0,3)
loop
exitwhen d1>f1
set T1=Z8(Je[Yq[n1]])
set Je[Yq[n1]]=T1
set d1=d1+1
endloop
set T1=Je[Yq[n1]]
if GetLocalPlayer()==Tq[n1]then
call SetTextTagVisibility(uq[T1],true)
call SetUnitVertexColor(sq[T1],li,bi,yi,pi)
endif
endloop
set a1=tfw(nq)
loop
exitwhen Jy[Vy[a1]]==Cy[a1]
set Vy[a1]=Jy[Vy[a1]]
call Iow(Pt,At,Tq[Dy[Vy[a1]]])
endloop
call TimerStart(CreateTimer(),0.1,true,vm)
set Uo=CreateTrigger()
call TriggerAddAction(Uo,mm)
call TimerStart(Hcw(),1.,true,Qm)
call TimerStart(Hcw(),1.,true,Qm)
set Io=CreateTrigger()
call TriggerAddAction(Io,Wm)
set Y1=Player(12)
if YG==0 then
if GG<8191 then
set GG=GG+1
else
call tX("Out of memory: Could not create GlobalShop.")
endif
else
set YG=YG-1
endif
call CreateUnit(Y1,1848652109,-6530.,-7050.,270.)
call TimerStart(GetExpiredTimer(),0.01,false,Em)
set q1=null
set R1=null
set Y1=null
endfunction
function G3 takes nothing returns boolean
return true
endfunction
function GH takes nothing returns nothing
local integer YH=Acw(GetExpiredTimer())
set Ji[YH]=null
call pew(YH)
call Kcw(GetExpiredTimer())
endfunction
function tSw takes player uSw returns group
local group rSw
local unit sSw
call GroupEnumUnitsOfPlayer(Kl,uSw,null)
set rSw=Kl
set bj_groupAddGroupDest=CreateGroup()
call ForGroup(rSw,function GroupAddGroupEnum)
set rSw=bj_groupAddGroupDest
loop
exitwhen FirstOfGroup(rSw)==null
set sSw=FirstOfGroup(rSw)
call GroupRemoveUnit(rSw,sSw)
if not IsUnitSelected(sSw,uSw) then
call GroupRemoveUnit(Kl,sSw)
endif
endloop
call DestroyGroup(rSw)
set rSw=null
set sSw=null
return Kl
endfunction
function GSw takes nothing returns nothing
local string dSw=GetEventPlayerChatString()
local string fSw=""
local group RSw
local integer TSw
local unit YSw
if SubString(dSw,0,4)=="-st " then
set fSw=SubString(dSw,4,StringLength(dSw))
endif
set RSw=tSw(GetTriggerPlayer())
loop
exitwhen FirstOfGroup(RSw)==null
set YSw=FirstOfGroup(RSw)
call GroupRemoveUnit(RSw,YSw)
if mT[GetUnitUserData(YSw)]==732 then
set TSw=GetUnitUserData(YSw)
call SetTextTagText(Kf[TSw],fSw,0.023)
call ayw(TSw)
set Lf[TSw]=StringLength(fSw)/2.*6.
if Xf[TSw]then
call Rcw(xc[TSw]-Lf[TSw],vc[TSw]-0.,mc[TSw],0.,0.05,fSw,10.,2.,255,255,255,0,Ic[TSw])
endif
call Nrw(Kf[TSw],xL(TSw),AF,DF,fSw,10.)
endif
endloop
set RSw=null
set YSw=null
endfunction
function Grw takes nothing returns boolean
return GetOwningPlayer(GetFilterUnit())==Dl
endfunction
function fOw takes unit dOw returns real
set gk=GetUnitX(dOw)
set hk=GetUnitY(dOw)
call MoveLocation(Pf,GetUnitX(dOw),GetUnitY(dOw))
set Fk=GetLocationZ(Pf)+GetUnitFlyHeight(dOw)
return gk
endfunction
function faw takes integer daw returns nothing
set Do[daw]=false
set No[daw]=0.
set Mo[daw]=0.
set Qc[daw]=0.
set Wc[daw]=0.
set Ec[daw]=0.
set wO[daw]=0.
set uO[daw]=0.
endfunction
function gaw takes integer Raw,real Taw,real Yaw,real Gaw returns nothing
if H6(Taw,Yaw,Gaw) then
set xc[Raw]=Taw
set vc[Raw]=Yaw
set mc[Raw]=Gaw
call jOw(uo[Raw],xc[Raw],vc[Raw],mc[Raw])
else
call Aqw(Raw,Eo,Zo,0.)
call naw(Raw,0)
endif
endfunction
function kB takes integer RB returns nothing
local real TB
local real YB
local player GB
local unit gB
local integer hB
local integer FB
if not tO[RB]then
call faw(RB)
set TB=Eo
set YB=Zo
if Po[RB]==0 then
if uo[RB]==null then
call E0w(4,"why this happening :(")
call KL(RB,sOw(Ic[RB],1,TB,YB,0.,RB))
else
call ReviveHero(uo[RB],TB,YB,false)
endif
call gaw(RB,TB,YB,32.)
else
if uo[RB]==null then
set hB=Po[RB]
call KL(RB,sOw(Ic[RB],1,cn[hB],on[hB],0.,RB))
else
set FB=Po[RB]
set hB=Po[RB]
call ReviveHero(uo[RB],cn[FB],on[hB],false)
endif
set hB=Po[RB]
set FB=Po[RB]
call gaw(RB,cn[hB],on[FB],32.)
endif
set tO[RB]=true
call SetUnitPropWindow(uo[RB],60.)
call Qaw(RB)
call eaw(RB,false)
call baw(RB,false)
if SO[RB]then
call kqw(RB)
set GB=null
set gB=null
return
endif
set GB=Ic[RB]
if GetLocalPlayer()==GB then
call CameraSetSourceNoise(0.,0.)
call CameraSetTargetNoise(0.,0.)
endif
if iO[RB]then
if GetLocalPlayer()==Ic[RB]then
call PanCameraToTimed(TB,YB,0.)
call ClearSelection()
call SelectUnit(uo[RB],true)
endif
endif
if Ko[RB]then
set GB=Ic[RB]
set gB=uo[RB]
if GetLocalPlayer()==GB then
call SetCameraTargetController(gB,0.,0.,true)
endif
endif
if cO[RB]!=null then
call Aqw(RB,fOw(cO[RB]),hk,Fk)
if iO[RB]then
if GetLocalPlayer()==Ic[RB]then
call PanCameraToTimed(xc[RB],vc[RB],0.)
endif
endif
call RemoveUnit(cO[RB])
set cO[RB]=null
endif
if Ba[Gww(RB)]>0 then
call UnitAddAbility(uo[RB],Ba[Gww(RB)])
else
call UnitRemoveAbility(uo[RB],1093678642)
call UnitRemoveAbility(uo[RB],1093679169)
endif
endif
set GB=null
set gB=null
endfunction
function Gww_2 takes nothing returns nothing
local integer Yww=0
loop
exitwhen Yww>11
if sn[Yww]!=0 then
set tn[Yww]=tn[Yww]-0.1
if tn[Yww]<=0. then
if sn[Yww]==0 then
call E0w(4,"THis neither")
else
call kB(sn[Yww])
endif
set sn[Yww]=0
set tn[Yww]=0.
endif
endif
set Yww=Yww+1
endloop
endfunction
function H3 takes nothing returns boolean
set Dl=Bq[14]
return true
endfunction
function H9 takes nothing returns nothing
local string Z9
local real U9
local integer I9
local player P9
local group A9
local unit D9
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"set facing")
set Z9=GetEventPlayerChatString()
set U9=0.
if SubString(Z9,0,4)=="-sa " then
set U9=S2R(SubString(Z9,4,StringLength(Z9)))
elseif SubString(Z9,0,10)=="-setangle " then
set U9=S2R(SubString(Z9,10,StringLength(Z9)))
endif
set P9=GetTriggerPlayer()
call GroupEnumUnitsOfType(Kl,UnitId2String(1747988817),null)
set A9=Kl
set bj_groupAddGroupDest=CreateGroup()
call ForGroup(A9,function GroupAddGroupEnum)
set A9=bj_groupAddGroupDest
loop
exitwhen FirstOfGroup(A9)==null
set D9=FirstOfGroup(A9)
call GroupRemoveUnit(A9,D9)
if not(GetOwningPlayer(D9)==P9 and IsUnitSelected(D9,P9)) then
call GroupRemoveUnit(Kl,D9)
endif
endloop
call DestroyGroup(A9)
set A9=Kl
loop
exitwhen FirstOfGroup(A9)==null
set D9=FirstOfGroup(A9)
call GroupRemoveUnit(A9,D9)
set I9=GetUnitUserData(D9)
set ua[I9]=U9*0.017453293
call SetUnitFacing(Fn[I9],ua[I9]*57.295779513)
call SetUnitFacing(uo[I9],ua[I9]*57.295779513)
call Rcw(xc[I9],vc[I9],mc[I9],0.,0.05,R2S(U9),10.,2.,255,175,75,0,Ic[I9])
endloop
set P9=null
set A9=null
set D9=null
endfunction
function HE takes nothing returns boolean
return true
endfunction
function HOw takes nothing returns boolean
set AR=0.
set DR=0.
set HR=0.
set JR=0.
set KR=0.
set LR=1.
set XR=0.
set CR=0.
set VR=1.
set BR=-1.
set NR=0.
set MR=0.
set wT=-1.
return true
endfunction
function HP takes nothing returns nothing
call ForForce(Mt,Iv)
endfunction
function I1 takes nothing returns boolean
return true
endfunction
function I6 takes nothing returns boolean
local region E6
local real Z6
local real U6
set rp=bj_mapInitialPlayableArea
call RegionAddRect(CreateRegion(),rp)
set sp=GetWorldBounds()
set E6=CreateRegion()
call RegionAddRect(E6,sp)
set tp=E6
set Z6=GetRectMinX(rp)
set U6=GetRectMinY(rp)
set ip=Z6
set Sp=U6
set Z6=GetRectMaxX(rp)
set U6=GetRectMaxY(rp)
set cp=Z6
set op=U6
set U6=GetRectMaxX(sp)
set Z6=GetRectMaxY(sp)
set Op=U6
set lp=Z6
set E6=null
return true
endfunction
function II takes nothing returns nothing
local integer ZI=GetUnitUserData(GetTriggerUnit())
local integer UI=GetUnitUserData(gN(GetTriggeringTrigger()))
set ZI=mT[ZI]
if ZI>=770 and ZI<=775 then
set ZI=wn[Gww(UI)]
set Gt[ZI]=Gt[ZI]-ot[UI]
if Gt[ZI]<1. then
call E0w(1,"Our boss is dead")
call KillUnit(uo[ZI])
endif
endif
endfunction
function ltw takes nothing returns integer
local integer Otw
if hG==0 then
if FG<8191 then
set FG=FG+1
set Otw=FG
set kG[Otw]=1105
else
call tX("Out of memory: Could not create Table.")
set Otw=0
endif
else
set hG=hG-1
set Otw=gG[hG]
set kG[Otw]=1105
endif
return Otw
endfunction
function Icw takes nothing returns boolean
set SR=0
set cR=ltw()
call CreateTimer()
set oR=CreateTrigger()
set OR=0
return true
endfunction
function Itw takes nothing returns boolean
call n0w(1093677639)
call n0w(1093677635)
call n0w(1093677634)
call n0w(1093677637)
call n0w(1093677640)
call n0w(1093677638)
call n0w(1093677633)
call n0w(1093677636)
call n0w(1093677387)
call n0w(1093677389)
call n0w(1093677397)
call n0w(1093677396)
return true
endfunction
function Iww takes nothing returns nothing
local integer Eww=GetUnitUserData(GetTriggerUnit())
local integer Zww=mT[Eww]
local boolean Uww
if Zww>=770 and Zww<=775 then
call faw(Eww)
call naw(Eww,0)
else
if Eww!=0 then
set Uww=GetUnitTypeId(GetTriggerUnit())!=2019849581
else
set Uww=false
endif
if Uww then
call kqw(Eww)
endif
endif
endfunction
function J6 takes nothing returns boolean
return true
endfunction
function J8 takes nothing returns boolean
local integer D8=0
local integer H8=bj_MAX_PLAYER_SLOTS-1
loop
exitwhen D8>H8
set Bq[D8]=Player(D8)
set D8=D8+1
endloop
return true
endfunction
function JE takes nothing returns boolean
return true
endfunction
function JH takes nothing returns boolean
local integer DH
local trigger HH
set yS=0
set pS=0
set eS=0
set qS=0
set aS=0
set DH=0
loop
exitwhen DH>11
set HH=CreateTrigger()
call TriggerRegisterPlayerChatEvent(HH,Bq[DH],"-debug",true)
call TriggerAddAction(HH,rm)
set DH=DH+1
endloop
call TimerStart(CreateTimer(),1.,true,sm)
set HH=null
return true
endfunction
function JK takes nothing returns nothing
local integer IK=Lc
local player PK
local unit AK
local real DK
local camerafield HK
loop
exitwhen IK==0
if mT[IK]<=768 then
if mT[IK]<=740 then
if mT[IK]<=697 then
if mT[IK]<=696 then
set Hc[IK]=Hc[IK]+1
else
if oo[IK]!=AR or Oo[IK]!=DR then
set Hc[IK]=Hc[IK]+1
endif
if Hc[IK]>=bo[IK]then
call kqw(IK)
endif
endif
else
set Hc[IK]=Hc[IK]+1
endif
elseif mT[IK]<=766 then
set hn[IK]=hn[IK]-1.0
call sTw(IK)
else
set Hc[IK]=Hc[IK]+1
endif
elseif mT[IK]<=775 then
if mT[IK]<=769 then
set PK=Tq[lq[IK]]
set HK=CAMERA_FIELD_TARGET_DISTANCE
if GetLocalPlayer()==PK then
call SetCameraField(HK,1000.00,0.50)
endif
set PK=Tq[lq[IK]]
set HK=CAMERA_FIELD_ANGLE_OF_ATTACK
if GetLocalPlayer()==PK then
call SetCameraField(HK,343.00,0.50)
endif
set PK=Tq[lq[IK]]
set AK=sq[iq]
if GetLocalPlayer()==PK then
call SetCameraTargetController(AK,0.,0.,false)
endif
set PK=Tq[lq[IK]]
set HK=CAMERA_FIELD_ROTATION
set DK=495
if GetLocalPlayer()==PK then
call SetCameraField(HK,DK,0.50)
endif
set PK=Tq[lq[IK]]
set HK=CAMERA_FIELD_ZOFFSET
if GetLocalPlayer()==PK then
call SetCameraField(HK,110.,0.5)
endif
set PK=Tq[lq[IK]]
set HK=CAMERA_FIELD_FARZ
if GetLocalPlayer()==PK then
call SetCameraField(HK,15000.00,0.5)
endif
else
set Hc[IK]=Hc[IK]+1
endif
elseif mT[IK]<=776 then
set Hc[IK]=Hc[IK]+1
if Hc[IK]>20 and Qf[IK]>0 then
set Hc[IK]=0
call yYw(IK)
set AK=uo[IK]
call UnitRemoveAbility(AK,gf)
call UnitAddAbility(AK,hf)
set Qf[IK]=0
endif
else
set Hc[IK]=Hc[IK]+1
endif
set IK=Nc[IK]
endloop
set PK=null
set AK=null
set HK=null
endfunction
function JP takes nothing returns boolean
if hg==0 then
if Fg<8191 then
set Fg=Fg+1
else
call tX("Out of memory: Could not create OrderStringFactory.")
endif
else
set hg=hg-1
endif
return true
endfunction
function K6 takes nothing returns boolean
return true
endfunction
function erw takes string brw,boolean yrw returns integer
local integer prw
if nh==0 then
if dh<8191 then
set dh=dh+1
set prw=dh
else
call tX("Out of memory: Could not create SoundDefinition.")
set prw=0
endif
else
set nh=nh-1
set prw=ah[nh]
endif
set Hn[prw]=p6()
set Kn[prw]=10000
set Jn[prw]=brw
set Ln[prw]=yrw
set Xn[prw]=false
set Cn[prw]=false
set Vn[prw]=10
set Bn[prw]=10
set Nn[prw]="CombatSoundsEAX"
return prw
endfunction
function K8 takes nothing returns boolean
set qq=p6()
set aq=p6()
set nq=p6()
set dq=erw("Sound\\Interface\\QuestFailed.wav",false)
set fq=0
set Rq=0
return true
endfunction
function KE takes nothing returns boolean
return true
endfunction
function KH takes nothing returns nothing
if GetLocalPlayer()==GetTriggerPlayer() then
call MultiboardDisplay(bS,not IsMultiboardDisplayed(bS))
endif
endfunction
function KP takes nothing returns boolean
set ri=0
set si=Condition(Pv)
return true
endfunction
function Kuw takes nothing returns boolean
return true
endfunction
function L4 takes nothing returns boolean
local integer K4
if lh==0 then
if bh<8191 then
set bh=bh+1
set K4=bh
else
call tX("Out of memory: Could not create Delimiter.")
set K4=0
endif
else
set lh=lh-1
set K4=Oh[lh]
endif
set pn[K4]="="
if lh==0 then
if bh<8191 then
set bh=bh+1
set K4=bh
else
call tX("Out of memory: Could not create Delimiter.")
set K4=0
endif
else
set lh=lh-1
set K4=Oh[lh]
endif
set pn[K4]="_"
set yb=K4
if lh==0 then
if bh<8191 then
set bh=bh+1
set K4=bh
else
call tX("Out of memory: Could not create Delimiter.")
set K4=0
endif
else
set lh=lh-1
set K4=Oh[lh]
endif
set pn[K4]="("
if lh==0 then
if bh<8191 then
set bh=bh+1
set K4=bh
else
call tX("Out of memory: Could not create Delimiter.")
set K4=0
endif
else
set lh=lh-1
set K4=Oh[lh]
endif
set pn[K4]=")"
if lh==0 then
if bh<8191 then
set bh=bh+1
set K4=bh
else
call tX("Out of memory: Could not create Delimiter.")
set K4=0
endif
else
set lh=lh-1
set K4=Oh[lh]
endif
set pn[K4]="["
set pb=K4
if lh==0 then
if bh<8191 then
set bh=bh+1
set K4=bh
else
call tX("Out of memory: Could not create Delimiter.")
set K4=0
endif
else
set lh=lh-1
set K4=Oh[lh]
endif
set pn[K4]="]"
set eb=K4
if lh==0 then
if bh<8191 then
set bh=bh+1
set K4=bh
else
call tX("Out of memory: Could not create Delimiter.")
set K4=0
endif
else
set lh=lh-1
set K4=Oh[lh]
endif
set pn[K4]="J"
return true
endfunction
function L6 takes nothing returns boolean
return true
endfunction
function LE takes nothing returns boolean
return true
endfunction
function HQ takes player QQ,integer WQ returns boolean
local integer EQ=WQ
local integer ZQ=0
local integer UQ=10
local integer IQ
local integer PQ
local unit AQ
local unit DQ
if not IsTriggerEnabled(r) then
set AQ=null
set DQ=null
return false
endif
if WQ<0 then
set UQ=u-1
set WQ=WQ*-1
endif
loop
set EQ=EQ/10
exitwhen EQ==0
set ZQ=ZQ+1
endloop
call GroupEnumUnitsSelected(i,QQ,null)
set bj_groupCountUnits=0
set AQ=FirstOfGroup(i)
loop
exitwhen AQ==null
set DQ=AQ
call GroupRemoveUnit(i,AQ)
set bj_groupCountUnits=bj_groupCountUnits+1
set AQ=FirstOfGroup(i)
endloop
if bj_groupCountUnits>=12 and b==QQ then
call SelectUnit(DQ,false)
endif
set IQ=R2I(Pow(10,ZQ))
loop
set PQ=IQ
set EQ=WQ/IQ
set IQ=IQ/10
if b==QQ then
call SelectUnit(O[EQ],true)
call SelectUnit(O[EQ],false)
endif
set WQ=WQ-EQ*PQ
exitwhen ZQ==0
set ZQ=ZQ-1
endloop
if b==QQ then
call SelectUnit(O[UQ],true)
call SelectUnit(O[UQ],false)
if bj_groupCountUnits>=12 then
call SelectUnit(DQ,true)
endif
endif
set AQ=null
set DQ=null
set AQ=null
set DQ=null
return true
endfunction
function QW takes integer xW,integer vW returns boolean
local integer mW=LoadInteger(Zr,xW,n+vW)
if vW>0 and mW==0 then
return false
endif
return HaveStoredInteger(Ir[1],Kr[xW],TW(mW+LoadInteger(Zr,xW,d+vW)))
endfunction
function mQ takes integer vQ returns nothing
if vQ==null then
return
elseif er[vQ]!=-1 then
return
endif
set er[vQ]=yr
set yr=vQ
endfunction
function jW takes integer hW returns nothing
local integer FW
local integer kW
if Jr[hW]!=null then
call DestroyTrigger(Jr[hW])
set Jr[hW]=null
endif
set FW=hW
set kW=0
loop
exitwhen kW==bj_MAX_PLAYER_SLOTS
call RemoveSavedInteger(Zr,FW,n+kW)
call RemoveSavedInteger(Zr,FW,d+kW)
call RemoveSavedBoolean(Zr,kW,FW)
set kW=kW+1
endloop
call FlushStoredMission(Ir[0],Kr[FW])
call FlushStoredMission(Ir[1],Kr[FW])
set gr[FW]=0
set Fr[FW]=0
set hr[FW]=0
set kr[FW]=0
set jr[FW]=0
set Hr[FW]=0
set Tr[FW]=0.
set Yr[FW]=0.
set ar[FW]=null
set nr[FW]=null
set dr[FW]=null
set qr[FW]=0.00
set xr[FW]=false
set Lr[FW]=false
set fr[FW]=null
set Cr[Xr[hW]]=Cr[hW]
set Xr[Cr[hW]]=Xr[hW]
call mQ(hW)
endfunction
function LW takes nothing returns nothing
local boolean HW=true
local integer JW=Xr[0]
local filterfunc KW
loop
exitwhen JW==0
loop
exitwhen xr[JW] or JW==0
set JW=Xr[JW]
endloop
if not xr[JW]then
set KW=null
return
endif
set Gr[JW]=Gr[JW]+0.03125
if dr[JW]!=null then
set KW=dr[JW]
set vr=JW
call TriggerAddCondition(Er,KW)
call TriggerEvaluate(Er)
call TriggerClearConditions(Er)
endif
if qr[JW]>0. and Gr[JW]>qr[JW]then
if nr[JW]!=null then
set KW=nr[JW]
set vr=JW
call TriggerAddCondition(Er,KW)
call TriggerEvaluate(Er)
call TriggerClearConditions(Er)
endif
set vr=JW
if Jr[JW]!=null then
call TriggerEvaluate(Jr[JW])
endif
if fr[JW]!=null and TriggerEvaluate(fr[JW]) then
call TriggerExecute(fr[JW])
endif
set xr[JW]=false
endif
if GetPlayerSlotState(Rr[JW])!=PLAYER_SLOT_STATE_PLAYING then
if nr[JW]!=null then
set KW=nr[JW]
set vr=JW
call TriggerAddCondition(Er,KW)
call TriggerEvaluate(Er)
call TriggerClearConditions(Er)
endif
set vr=JW
if Jr[JW]!=null then
call TriggerEvaluate(Jr[JW])
endif
if fr[JW]!=null and TriggerEvaluate(fr[JW]) then
call TriggerExecute(fr[JW])
endif
set xr[JW]=false
call jW(JW)
endif
set HW=true
if gr[JW]>0 and(not HaveStoredInteger(Ir[0],Kr[JW],TW(gr[JW]-1))) then
set HW=false
endif
if kr[JW]>0 and(not HaveStoredReal(Ir[0],Kr[JW],TW(kr[JW]-1))) then
set HW=false
endif
if Fr[JW]>0 and(not QW(JW,Fr[JW]-1)) then
set HW=false
endif
if hr[JW]>0 and(not HaveStoredBoolean(Ir[0],Kr[JW],TW(hr[JW]-1))) then
set HW=false
endif
if HW then
if not Lr[JW]then
set Lr[JW]=true
call HQ(mr,JW)
endif
endif
set JW=Xr[JW]
endloop
set KW=null
endfunction
function LX takes nothing returns nothing
local trigger DX=GetTriggeringTrigger()
local unit HX=GetTriggerUnit()
local integer JX
local integer KX
if GetUnitUserData(HX)>0 then
set JX=GetUnitUserData(HX)
if JX!=0 and(not Ac[JX]) then
set KX=bdw(do,GetHandleId(DX))
if KX!=0 then
call DRw(KX,GetUnitUserData(gN(DX)),JX)
endif
endif
endif
set DX=null
set HX=null
endfunction
function Lbw takes nothing returns nothing
local timer Hbw=GetExpiredTimer()
local integer Jbw=Acw(Hbw)
local integer Kbw=mT[OT[Jbw]]
if Kbw>=741 and Kbw<=766 then
call IssuePointOrder(Fn[OT[Jbw]],"move",lT[Jbw],bT[Jbw])
call IssuePointOrder(uo[OT[Jbw]],"move",lT[Jbw],bT[Jbw])
else
call IssuePointOrder(uo[OT[Jbw]],"move",lT[Jbw],bT[Jbw])
endif
if Ch[Jbw]==0 then
call tX("Double free: object of type DelayData")
else
set Kh[Lh]=Jbw
set Lh=Lh+1
set Ch[Jbw]=0
endif
call Kcw(Hbw)
set Hbw=null
endfunction
function Lcw takes nothing returns boolean
return true
endfunction
function Luw takes nothing returns boolean
set Pn=0
set An=null
call Condition(oQ)
return true
endfunction
function MK takes nothing returns nothing
local integer VK=GetUnitUserData(Up)
local integer BK
local boolean NK
if VK!=0 then
set BK=mT[VK]
set NK=BK>=712 and BK<=776
else
set NK=false
endif
if NK then
call oP(VK)
call kqw(VK)
endif
endfunction
function MQ takes nothing returns nothing
local integer BQ
local integer NQ
call DestroyTimer(GetExpiredTimer())
set BQ=0
loop
exitwhen BQ>=u
set O[BQ]=CreateUnit(w,1751543663,e,q,BQ)
set NQ=GetUnitUserData(O[BQ])
if NQ==0 then
call SetUnitUserData(O[BQ],BQ+1)
set NQ=BQ+1
endif
if BQ==0 then
endif
set l[NQ]=BQ+1
call UnitAddAbility(O[BQ],1097167976)
call PauseUnit(O[BQ],true)
set BQ=BQ+1
endloop
endfunction
function Miw takes nothing returns boolean
set Pf=Location(0.,0.)
set Af=null
call Rect(0.,0.,128.,128.)
set Af=CreateItem(2003790951,0.,0.)
call SetItemVisible(Af,false)
return true
endfunction
function ryw takes integer Bbw,integer Nbw,real Mbw returns nothing
local texttag wyw
local timer uyw
if Bbw!=0 then
if mT[Bbw]==761 then
set Gt[Bbw]=Gt[Bbw]-Mbw
if Gt[Bbw]<1. then
call E0w(1,"Our boss is dead")
call KillUnit(uo[Bbw])
endif
endif
if mT[Bbw]==744 then
set fp[Bbw]=fp[Bbw]-Mbw
if fp[Bbw]<1. then
call KillUnit(uo[Bbw])
call ZOw(Fn[Bbw])
set Nbw=Yp[Bbw]
if Ji[Nbw]!=null then
set wyw=Ji[Nbw]
call SetTextTagLifespan(wyw,1.5)
call SetTextTagAge(wyw,0.)
call SetTextTagFadepoint(wyw,0.)
call SetTextTagPermanent(wyw,false)
if not SS[Nbw]then
call SetTextTagVelocity(Ji[Nbw],0,0)
endif
endif
set uyw=Hcw()
call MTw(cR,GetHandleId(uyw),Nbw)
call TimerStart(uyw,1.5,false,eQ)
set Dc[Bbw]=true
if IT==0 then
if PT<8191 then
set PT=PT+1
set Nbw=PT
set AT[Nbw]=677
else
call tX("Out of memory: Could not create Closure.")
set Nbw=0
endif
else
set IT=IT-1
set Nbw=UT[IT]
set AT[Nbw]=677
endif
set bp[Nbw]=Bbw
call lA(Nbw,3.)
endif
endif
endif
set wyw=null
set uyw=null
endfunction
function NP takes nothing returns boolean
local integer LP=ui[ri-1]
local unit XP=GetFilterUnit()
local integer CP
local integer VP
local boolean BP
if yY[LP]<=645 then
if yY[LP]<=643 then
if yY[LP]<=642 then
if XP!=uo[Ab[LP]]then
set BP=GetUnitTypeId(XP)==1848651842
else
set BP=false
endif
if BP then
call aTw(Qb)
call UnitAddAbility(XP,1093678927)
call kqw(Ab[LP])
endif
else
call ryw(GetUnitUserData(XP),TT[LP],20.)
endif
elseif yY[LP]<=644 then
call ryw(GetUnitUserData(XP),GT[LP],20.)
else
call ryw(GetUnitUserData(XP),YT[LP],20.)
endif
elseif yY[LP]<=647 then
if yY[LP]<=646 then
set VP=mT[GetUnitUserData(XP)]
if VP>=770 and VP<=775 then
call UnitDamageTarget(uo[bt[LP]],XP,100,false,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL,WEAPON_TYPE_WHOKNOWS)
set VP=GetUnitUserData(XP)
set Qc[VP]=Ylw(Qc[VP],Wc[VP],Ec[VP],(xc[VP]-yt[LP])*0.5,(vc[VP]-pt[LP])*0.5,mc[VP]*0.5)
set Wc[VP]=uk
set Ec[VP]=rk
call mqw(VP)
endif
else
set CP=GetUnitUserData(XP)
if CP!=0 then
set VP=mT[CP]
set BP=VP>=770 and VP<=775
else
set BP=false
endif
if BP then
call UnitDamageTarget(uo[ep[LP]],uo[CP],100.,false,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL,WEAPON_TYPE_WHOKNOWS)
endif
endif
elseif XP!=uo[Ge[LP]]then
if GetUnitUserData(XP)!=0 then
set VP=GetUnitUserData(XP)
if Ic[VP]==Ic[Ge[LP]]then
call X7(Ge[LP],VP,false)
endif
endif
endif
set XP=null
return false
endfunction
function Ncw takes nothing returns boolean
return true
endfunction
function GU takes integer fU,integer RU returns string
local integer TU
local integer YU
if Ws[RU]+Es[RU]>xs[fU]then
call tX("string out of bounds: length: "+I2S(xs[fU])+" s.length: "+I2S(Es[RU])+" s.start: "+I2S(Ws[RU]))
endif
if Es[RU]>400 then
call tX("substring is longer than maxsize")
endif
set TU=R2I(Ws[RU]*1./400)
set YU=ModuloInteger(Ws[RU],400)
set RU=YU+Es[RU]
if RU>400 then
return SubString(WYw(fU,TU),YU,400)+SubString(WYw(fU,TU+1),0,RU-400)
endif
return SubString(WYw(fU,TU),YU,RU)
endfunction
function AU takes integer PU returns string
if Es[PU]>400 then
call tX("cannot use getSingle on oversized SubStrings. You need to iterate through the chunks")
endif
if ms[PU]==0 and Zs[PU]==null then
call tX("cannot generate new cache without parent")
endif
if Zs[PU]!=null then
return Zs[PU]
else
return GU(ms[PU],PU)
endif
endfunction
function Byw takes integer Cyw returns nothing
local integer Vyw=Cyw
if na<=1 then
call E0w(1,"BigString length: "+I2S(xs[Cyw]-vs[Cyw])+" lines: ")
set Cyw=0
loop
exitwhen Cyw>10
if StringLength(WYw(Vyw,Cyw))>0 then
call E0w(1,"\n\tLine "+I2S(Cyw)+" : "+WYw(Vyw,Cyw))
else
exitwhen true
endif
set Cyw=Cyw+1
endloop
endif
endfunction
function J5 takes string H5 returns nothing
call MTw(Oy,fow(H5),ly)
call SYw(Oy,ly,H5)
set ly=ly+1
endfunction
function C5 takes nothing returns nothing
local integer K5
local integer L5
local string X5
set ly=0
call FlushChildHashtable(lf,Oy)
set K5=StringLength("_0123456789abcdefghijklmnopqrstuvwxyz-[]")
if jh==0 then
if xh<8191 then
set xh=xh+1
set L5=xh
set vh[L5]=1100
else
call tX("Out of memory: Could not create StringIterator.")
set L5=0
endif
else
set jh=jh-1
set L5=kh[jh]
set vh[L5]=1100
endif
set Pd[L5]="_0123456789abcdefghijklmnopqrstuvwxyz-[]"
set Ad[L5]=0
set Dd[L5]=K5
set K5=L5
loop
exitwhen Ad[K5]>=Dd[K5]
set X5=SubString(Pd[K5],Ad[K5],Ad[K5]+1)
set Ad[K5]=Ad[K5]+1
call J5(X5)
endloop
if vh[K5]==0 then
call tX("Double free: object of type StringIterator")
else
set kh[jh]=K5
set jh=jh+1
set vh[K5]=0
endif
endfunction
function jU takes integer gU,integer hU,integer FU returns string
local integer kU
if hU+FU>xs[gU]-vs[gU]then
call tX("2Trying to get string out of bounds")
endif
if FU>400 then
call tX("Trying to get oversized string")
endif
set kU=hU+vs[gU]
set hU=R2I(kU*1./400)
set kU=ModuloInteger(kU,400)
set FU=kU+FU
if FU>400 then
return SubString(WYw(gU,hU),kU,StringLength(WYw(gU,hU)))+SubString(WYw(gU,hU+1),0,FU-400)
endif
return SubString(WYw(gU,hU),kU,FU)
endfunction
function CU takes integer KU,integer LU returns nothing
local integer XU
if Zs[KU]!=null then
call Xyw(LU,Zs[KU])
else
set XU=0
loop
exitwhen Es[KU]-XU<=400
call Xyw(LU,jU(ms[KU],Ws[KU]+XU,400))
set XU=XU+400
endloop
call Xyw(LU,jU(ms[KU],Ws[KU]+XU,Es[KU]-XU))
endif
if Qs[KU]!=0 then
call CU(Qs[KU],LU)
endif
endfunction
function FI takes boolean hI returns integer
if hI then
return 1
else
return 0
endif
endfunction
function IU takes integer WU,integer EU,integer ZU returns integer
local integer UU
if SY==0 then
if cY<8191 then
set cY=cY+1
set UU=cY
set oY[UU]=633
else
call tX("Out of memory: Could not create BigSubString.")
set UU=0
endif
else
set SY=SY-1
set UU=iY[SY]
set oY[UU]=633
endif
set ms[UU]=0
set Qs[UU]=0
set Ws[UU]=0
set Zs[UU]=null
set ms[UU]=WU
set Ws[UU]=EU
set Es[UU]=ZU
return UU
endfunction
function JRw takes integer HRw returns nothing
if an[HRw]!=null then
call Kcw(an[HRw])
set an[HRw]=null
endif
if NY[HRw]==0 then
call tX("Double free: object of type SeqCallback")
else
set CY[VY]=HRw
set VY=VY+1
set NY[HRw]=0
endif
endfunction
function QU takes integer mU returns integer
if Qs[mU]!=0 and Qs[mU]!=mU then
return Es[mU]+QU(Qs[mU])
endif
return Es[mU]
endfunction
function JU takes integer DU returns string
local string HU
if QU(DU)>400 then
call tX("cannot use getCombined on oversized SubStrings. You need to iterate through the chunks")
endif
if ms[DU]==0 and Zs[DU]==null then
call tX("cannot generate new cache without parent")
endif
if Zs[DU]!=null then
set HU=""+Zs[DU]
else
set HU=""+GU(ms[DU],DU)
endif
if Qs[DU]!=0 then
set HU=HU+JU(Qs[DU])
endif
return HU
endfunction
function LRw takes integer KRw returns nothing
if (not qn[KRw])or an[KRw]!=null then
set qn[KRw]=true
call JRw(KRw)
endif
endfunction
function NU takes string VU returns integer
local integer BU
if SY==0 then
if cY<8191 then
set cY=cY+1
set BU=cY
set oY[BU]=633
else
call tX("Out of memory: Could not create BigSubString.")
set BU=0
endif
else
set SY=SY-1
set BU=iY[SY]
set oY[BU]=633
endif
set ms[BU]=0
set Qs[BU]=0
set Ws[BU]=0
set Zs[BU]=null
set Zs[BU]=VU
set Es[BU]=StringLength(Zs[BU])
return BU
endfunction
function cU takes integer iU returns integer
local integer SU
if XT==0 then
if CT<8191 then
set CT=CT+1
set SU=CT
set VT[SU]=630
else
call tX("Out of memory: Could not create BigNum.")
set SU=0
endif
else
set XT=XT-1
set SU=LT[XT]
set VT[SU]=630
endif
set gs[SU]=0
set hs[SU]=iU
return SU
endfunction
function OK takes string cK returns integer
local integer oK
if KY==0 then
if LY<8191 then
set LY=LY+1
set oK=LY
set XY[oK]=692
else
call tX("Out of memory: Could not create Encoder.")
set oK=0
endif
else
set KY=KY-1
set oK=JY[KY]
set XY[oK]=692
endif
set Yc[oK]=0.
set Rc[oK]=cK
set Tc[oK]=StringLength(cK)
set Gc[oK]=cU(Tc[oK])
return oK
endfunction
function Qdw takes integer xdw,integer vdw returns integer
local integer mdw
set vdw=vdw
set xdw=tfw(ab[xdw])
loop
exitwhen Jy[Vy[xdw]]==Cy[xdw]
set Vy[xdw]=Jy[Vy[xdw]]
set mdw=Dy[Vy[xdw]]
call Xyw(vdw,AU(nb[mdw]))
call CU(db[mdw],vdw)
endloop
return vdw
endfunction
function S6 takes integer i6 returns integer
if Jy[Vy[i6]]!=Cy[i6]then
return Dy[Jy[Vy[i6]]]
endif
return 0
endfunction
function Tsw takes string dsw,string fsw returns boolean
local integer Rsw=StringLength(dsw)
if StringLength(fsw)>Rsw then
return false
endif
return SubString(dsw,0,StringLength(fsw))==fsw
endfunction
function nsw takes string bsw returns integer
local integer ysw=0
local integer psw=StringLength(bsw)
local integer esw=psw
local integer qsw
local integer asw
loop
exitwhen esw<1
set qsw=0
set asw=Id-1
loop
exitwhen qsw>asw
if SubString("0123456789",qsw,qsw+1)==SubString(bsw,esw-1,esw) then
set ysw=ysw+qsw*R2I(Pow(10.,(psw-esw)*1.))
exitwhen true
endif
set qsw=qsw+1
endloop
set esw=esw-1
endloop
if Tsw(bsw,"-") then
set ysw=-ysw
endif
return ysw
endfunction
function w2 takes integer B4,string N4 returns integer
local boolean M4
set B4=db[bdw(qb[B4],StringHash(N4))]
if B4==0 then
set M4=true
else
set M4=Es[B4]==0
endif
if M4 then
return 0
endif
return nsw(AU(B4))
endfunction
function Ucw takes integer mcw,integer Qcw returns nothing
local integer Wcw
local real Ecw
local real Zcw
set Nf[mcw]=w2(Qcw,"x")
set Mf[mcw]=w2(Qcw,"y")
set wR[mcw]=Gcw(Fc+Nf[mcw]*128.,kc+Mf[mcw]*128.)
set uR[mcw]=Hk
if not hRw(aww(wR[mcw],uR[mcw]),sR[mcw]) then
return
endif
set tR[mcw]=w2(Qcw,"t")
if tR[mcw]==0 then
set tR[mcw]=1
endif
set Wcw=aww(wR[mcw],uR[mcw])
set Qcw=tR[mcw]
if Qcw==1 then
set Ecw=wR[mcw]
set Zcw=uR[mcw]
call hww(Pa[Wcw])
call SetTerrainType(Ecw,Zcw,JF,-1,1,0)
elseif Qcw==4 then
call SetTerrainType(wR[mcw],uR[mcw],1315529573,-1,1,0)
elseif Qcw==5 then
call SetTerrainType(wR[mcw],uR[mcw],1231317865,-1,1,0)
elseif Qcw==6 then
call SetTerrainType(wR[mcw],uR[mcw],1198285174,-1,1,0)
elseif Qcw==2 then
call SetTerrainType(wR[mcw],uR[mcw],1198290531,-1,1,0)
elseif Qcw==3 then
call SetTerrainType(wR[mcw],uR[mcw],1131442035,-1,1,0)
else
set Zcw=wR[mcw]
set Ecw=uR[mcw]
call hww(Pa[Wcw])
call SetTerrainType(Zcw,Ecw,JF,-1,1,0)
endif
endfunction
function Zdw takes integer Wdw returns nothing
local integer Edw
call FlushChildHashtable(lf,qb[Wdw])
set Wdw=tfw(ab[Wdw])
loop
exitwhen Jy[Vy[Wdw]]==Cy[Wdw]
set Vy[Wdw]=Jy[Vy[Wdw]]
set Edw=t6(Wdw)
call Myw(nb[Edw])
call Myw(db[Edw])
if AG[Edw]==0 then
call tX("Double free: object of type Property")
else
set UG[IG]=Edw
set IG=IG+1
set AG[Edw]=0
endif
endloop
endfunction
function hdw takes integer Gdw,integer gdw returns nothing
call ufw(ab[Gdw],gdw)
set Qs[nb[gdw]]=0
set Qs[db[gdw]]=0
call MTw(qb[Gdw],StringHash(AU(nb[gdw])),gdw)
endfunction
function o2 takes string i2,string S2 returns integer
local integer c2
if IG==0 then
if PG<8191 then
set PG=PG+1
set c2=PG
set AG[c2]=853
else
call tX("Out of memory: Could not create Property.")
set c2=0
endif
else
set IG=IG-1
set c2=UG[IG]
set AG[c2]=853
endif
set nb[c2]=NU(i2)
set db[c2]=NU(S2)
return c2
endfunction
function eL takes integer yL returns integer
local integer pL=V4()
call qqw(yL)
call hdw(pL,o2("x",I2S(R2I(xc[yL]-Fc))))
call hdw(pL,o2("y",I2S(R2I(vc[yL]-kc))))
call hdw(pL,o2("z",I2S(R2I(mc[yL]-jc))))
return pL
endfunction
function gyw takes integer Tyw returns nothing
local integer Yyw=Tyw
local integer Gyw=gs[Tyw]
loop
exitwhen Gyw==0
set Tyw=ks[Gyw]
set js=js-1
if wY[Gyw]==0 then
call tX("Double free: object of type BigNum_l")
else
set BT[NT]=Gyw
set NT=NT+1
set wY[Gyw]=0
endif
set Gyw=Tyw
endloop
if VT[Yyw]==0 then
call tX("Double free: object of type BigNum")
else
set LT[XT]=Yyw
set XT=XT+1
set VT[Yyw]=0
endif
endfunction
function lU takes integer oU returns boolean
local integer OU
if ks[oU]==0 and Fs[oU]==0 then
return true
elseif ks[oU]!=0 and lU(ks[oU]) then
set OU=ks[oU]
set js=js-1
if wY[OU]==0 then
call tX("Double free: object of type BigNum_l")
else
set BT[NT]=OU
set NT=NT+1
set wY[OU]=0
endif
set ks[oU]=0
return Fs[oU]==0
else
return false
endif
endfunction
function iqw takes integer tqw returns nothing
call lU(gs[Gc[tqw]])
endfunction
function jdw takes integer Fdw,string kdw returns real
return w2(Fdw,kdw)*1.
endfunction
function lYw takes integer cYw,integer oYw,fogstate OYw returns nothing
call SaveFogStateHandle(lf,cYw,oYw,OYw)
endfunction
function lqw takes integer Sqw returns integer
local integer cqw=Sqw
local integer oqw
local integer Oqw
call E0w(1,"hash")
set oqw=0
set Sqw=gs[Gc[Sqw]]
loop
exitwhen Sqw==0
set Oqw=Fs[Sqw]
set oqw=oqw+79*oqw/(Oqw+1)+293*Oqw/(1+oqw-oqw/Tc[cqw]*Tc[cqw])+479
set oqw=oqw-oqw/1000*1000
if oqw<0 then
set oqw=oqw+1000
endif
set oqw=oqw
set Sqw=ks[Sqw]
endloop
call E0w(1,"hashed")
return oqw
endfunction
function mnw takes integer gnw,string hnw returns nothing
local integer Fnw=gnw
local string knw=hnw
local integer jnw=StringLength(hnw)
local integer xnw=0
local boolean vnw=false
if Rl[gnw]!=1 then
call tX("FILE IO ERROR: ATTEMPT TO WRITE TO FILE OPEN FOR READING")
endif
loop
exitwhen jnw<=0
set xnw=xnw+1
set jnw=jnw/10
endloop
set nl[Fnw]=nl[Fnw]+pl[xnw]+I2S(StringLength(knw))
loop
exitwhen vnw
if StringLength(knw)>400 then
set nl[Fnw]=nl[Fnw]+SubString(knw,0,400)
set nl[Fnw]=SubString(knw,400,StringLength(knw))
else
set nl[Fnw]=nl[Fnw]+knw
set vnw=true
endif
loop
exitwhen StringLength(nl[Fnw])<209
call Preload("\")\r\n\tcall SetPlayerName(Player("+I2S(fl[Fnw])+"), \" "+SubString(nl[Fnw],0,209)+"\")\r\n//")
set nl[Fnw]=SubString(nl[Fnw],209,StringLength(nl[Fnw]))
set fl[Fnw]=fl[Fnw]+1
if fl[Fnw]==16 then
set fl[Fnw]=0
call Preload("\" )\r\nendfunction\r\nfunction AAA takes nothing returns nothing \r\n//")
call PreloadGenEnd(ql[Fnw]+"\\"+al[Fnw]+I2S(dl[Fnw]))
set dl[Fnw]=dl[Fnw]+1
call PreloadGenClear()
call PreloadGenStart()
endif
endloop
endloop
endfunction
function nU takes nothing returns integer
local integer aU
if NT==0 then
if MT<8191 then
set MT=MT+1
set aU=MT
set wY[aU]=631
else
call tX("Out of memory: Could not create BigNum_l.")
set aU=0
endif
else
set NT=NT-1
set aU=BT[NT]
set wY[aU]=631
endif
set Fs[aU]=0
set ks[aU]=0
set js=js+1
return aU
endfunction
function ndw takes integer qdw,integer adw returns nothing
set rb[qdw]=adw
set sb[qdw]=0
set tb[qdw]=0
set ib[qdw]=0
set Sb[qdw]=0
set cb[qdw]=null
endfunction
function pZ takes integer lZ returns integer
local integer bZ=eL(lZ)
local unit yZ
if ps[lZ]!=null then
set yZ=ps[lZ]
set ls[lZ]=GetUnitX(yZ)
set bs[lZ]=GetUnitY(yZ)
set ys[lZ]=0.
endif
call hdw(bZ,o2("r",I2S(R2I(ls[lZ]-Fc))))
call hdw(bZ,o2("s",I2S(R2I(bs[lZ]-kc))))
set yZ=null
return bZ
endfunction
function qU takes integer bU,integer yU,integer pU returns integer
local integer eU=0
if ks[bU]!=0 then
set eU=qU(ks[bU],yU,pU)
endif
set eU=Fs[bU]+eU*yU
set yU=eU/pU
set eU=eU-yU*pU
set Fs[bU]=yU
return eU
endfunction
function sqw takes integer uqw,integer rqw returns integer
set uqw=Gc[uqw]
return qU(gs[uqw],hs[uqw],rqw+1)
endfunction
function t2 takes integer u2,integer r2 returns integer
local integer s2
if IG==0 then
if PG<8191 then
set PG=PG+1
set s2=PG
set AG[s2]=853
else
call tX("Out of memory: Could not create Property.")
set s2=0
endif
else
set IG=IG-1
set s2=UG[IG]
set AG[s2]=853
endif
set nb[s2]=u2
set db[s2]=r2
return s2
endfunction
function tU takes integer sU returns boolean
set sU=gs[sU]
loop
exitwhen sU==0
if Fs[sU]!=0 then
return false
endif
set sU=ks[sU]
endloop
return true
endfunction
function vcw takes integer jcw returns integer
local integer xcw
set tR[jcw]=kcw(wR[jcw],uR[jcw])
set xcw=V4()
call hdw(xcw,o2("x",I2S(R2I(Nf[jcw]-Fc/128.))))
call hdw(xcw,o2("y",I2S(R2I(Mf[jcw]-kc/128.))))
if tR[jcw]!=1 then
call hdw(xcw,o2("t",I2S(tR[jcw])))
endif
return xcw
endfunction
function Zyw takes integer vyw,integer myw returns nothing
local integer Qyw=vyw
local integer Wyw
local integer Eyw
set myw=myw
set Wyw=gs[vyw]
set vyw=0
loop
exitwhen not(Wyw!=0 or vyw!=0)
set Eyw=myw*Fs[Wyw]+vyw
set vyw=Eyw/hs[Qyw]
set Fs[Wyw]=Eyw-vyw*hs[Qyw]
if ks[Wyw]==0 and vyw!=0 then
set ks[Wyw]=nU()
endif
set Wyw=ks[Wyw]
endloop
endfunction
function rU takes real VZ,real BZ returns real
local real NZ=VZ
local real MZ=BZ
local real wU
local real uU
set BZ=1.0
set wU=0.0
set uU=1.0
if VZ<0. then
return 0.0
endif
if VZ<1. then
set NZ=1.0/VZ
set uU=-1.0
endif
loop
exitwhen NZ<1.0001
if NZ>MZ then
set NZ=NZ/MZ
set wU=wU+BZ
else
set MZ=SquareRoot(MZ)
set BZ=BZ/2.
endif
endloop
return uU*wU
endfunction
function xyw takes integer hyw,integer Fyw returns nothing
local integer kyw=hyw
local integer jyw=gs[hyw]
set Fyw=Fyw
if jyw==0 then
set jyw=nU()
set gs[hyw]=jyw
endif
loop
exitwhen Fyw==0
set hyw=Fs[jyw]+Fyw
set Fyw=hyw/hs[kyw]
set hyw=hyw-Fyw*hs[kyw]
set Fs[jyw]=hyw
if ks[jyw]==0 then
set ks[jyw]=nU()
endif
set jyw=ks[jyw]
endloop
endfunction
function wqw takes integer Bew,integer New,integer Mew returns nothing
call E0w(1,"encode val: "+I2S(New)+" max: "+I2S(Mew))
set Yc[Bew]=Yc[Bew]+rU(Mew+1.,Tc[Bew]+0.)
call E0w(1,"encode2")
call Zyw(Gc[Bew],Mew+1)
call E0w(1,"encode3")
call xyw(Gc[Bew],New)
call E0w(1,"encode4")
endfunction
function CYw takes integer EYw,integer ZYw,integer UYw,integer IYw,integer PYw,string AYw,integer DYw,integer HYw returns nothing
local string JYw
local real KYw
local real LYw
local boolean XYw
if EYw==0 then
if ZYw==0 then
if UYw==0 then
if NY[IYw]<=1083 then
if NY[IYw]<=1080 then
if NY[IYw]<=1079 then
if NY[IYw]<=1078 then
set qn[PYw]=true
call E0w(1,"doSeq loadTiles")
set EYw=pe[IYw]
if Jy[Vy[EYw]]!=Cy[EYw]then
call Dyw(ee[IYw])
set EYw=pe[IYw]
set Vy[EYw]=Jy[Vy[EYw]]
set ZYw=Dy[Vy[EYw]]
set Qs[ZYw]=0
call E0w(1,"doSeq loadTiles1: "+JU(ZYw))
set UYw=xe[qe[IYw]]
set EYw=ee[IYw]
call CU(ZYw,EYw)
call ndw(UYw,EYw)
set ZYw=xe[qe[IYw]]
if wG==0 then
if uG<8191 then
set uG=uG+1
set EYw=uG
set rG[EYw]=1073
else
call tX("Out of memory: Could not create Closure.")
set EYw=0
endif
else
set wG=wG-1
set EYw=MY[wG]
set rG[EYw]=1073
endif
set en[EYw]=0
set le[EYw]=ae[IYw]
set be[EYw]=qe[IYw]
set ye[EYw]=PYw
call CYw(0,1,ZYw,EYw,0,null,0,0)
else
call JRw(PYw)
call E0w(1,"load finished")
set EYw=qe[IYw]
call Nrw(je[qe[IYw]],xc[EYw],vc[EYw],mc[EYw],"|cffFFBD21load finished!",10.)
call eYw(ae[IYw])
endif
else
set EYw=IYw
set ZYw=PYw
set PYw=lc[IYw]
set AYw=jU(bc[IYw],yc[IYw],1)
set UYw=0
set JYw=Rc[PYw]
set IYw=Tc[PYw]
loop
exitwhen not(UYw<IYw and AYw!=SubString(JYw,UYw,UYw+1))
set UYw=UYw+1
endloop
set Fs[Oc[EYw]]=UYw
set UYw=bc[EYw]
if yc[EYw]<xs[UYw]-vs[UYw]-1 then
set ks[Oc[EYw]]=nU()
set Oc[EYw]=ks[Oc[EYw]]
set yc[EYw]=yc[EYw]+1
else
call LRw(ZYw)
call Iyw(bc[EYw])
set EYw=pc[EYw]
call CYw(0,0,1,EYw,EYw,null,0,0)
endif
endif
else
set EYw=rb[Nl[IYw]]
if sb[Nl[IYw]]<xs[EYw]-vs[EYw]then
set EYw=Nl[IYw]
set cb[EYw]=jU(rb[EYw],sb[EYw],1)
set AYw=cb[EYw]
if AYw==pn[pb]then
set ib[EYw]=ib[EYw]+1
if ib[EYw]==1 then
set tb[EYw]=sb[EYw]+1
endif
elseif AYw==pn[eb]then
set ib[EYw]=ib[EYw]-1
if ib[EYw]==0 then
set ZYw=IU(rb[EYw],tb[EYw],sb[EYw]-tb[EYw])
call ufw(Ob[EYw],ZYw)
set tb[EYw]=sb[EYw]+1
endif
elseif AYw==pn[yb]then
if ib[EYw]==1 then
set ZYw=IU(rb[EYw],tb[EYw],sb[EYw]-tb[EYw])
call ufw(Ob[EYw],ZYw)
set tb[EYw]=sb[EYw]+1
endif
endif
set sb[EYw]=sb[EYw]+1
else
call LRw(PYw)
call E0w(1,"parsed list")
set EYw=Ml[IYw]
call CYw(0,0,1,EYw,EYw,null,0,0)
endif
endif
elseif NY[IYw]<=1082 then
if NY[IYw]<=1081 then
set EYw=IYw
set ZYw=jy[IYw]
if ky[IYw]<xs[ZYw]-vs[ZYw]-1 then
if xy[IYw]!=0 then
call Myw(xy[IYw])
endif
set xy[IYw]=IU(jy[IYw],ky[IYw],1)
set ky[IYw]=ky[IYw]+1
if vy[IYw]!=0 then
call Myw(vy[IYw])
endif
set vy[IYw]=IU(jy[IYw],ky[IYw],1)
set ZYw=xy[IYw]
set UYw=vy[IYw]
if UYw==0 then
call tX("null")
endif
set ZYw=ZYw
loop
exitwhen Qs[ZYw]==0
set ZYw=Qs[ZYw]
endloop
set Qs[ZYw]=UYw
loop
if bdw(Oy,fow(JU(xy[EYw])))==0 then
exitwhen true
endif
if xy[EYw]!=0 then
call Myw(xy[EYw])
endif
set xy[EYw]=NU(AU(xy[EYw])+AU(vy[EYw]))
set ky[EYw]=ky[EYw]+1
set ZYw=jy[EYw]
if ky[EYw]<xs[ZYw]-vs[ZYw]then
if vy[EYw]!=0 then
call Myw(vy[EYw])
endif
set vy[EYw]=IU(jy[EYw],ky[EYw],1)
set UYw=xy[EYw]
set ZYw=vy[EYw]
if ZYw==0 then
call tX("null")
endif
set UYw=UYw
loop
exitwhen Qs[UYw]==0
set UYw=Qs[UYw]
endloop
set Qs[UYw]=ZYw
else
exitwhen true
endif
endloop
call ufw(my[EYw],bdw(Oy,fow(AU(xy[EYw]))))
call J5(JU(xy[EYw]))
else
call E0w(1,"Compressed")
call LRw(PYw)
if vy[IYw]!=0 then
set AYw=AU(xy[IYw])
set EYw=Es[xy[IYw]]-1
set XYw=SubString(AYw,EYw,EYw+1)!=AU(vy[IYw])
else
set XYw=false
endif
if XYw then
call ufw(my[IYw],bdw(Oy,fow(AU(vy[IYw]))))
endif
set PYw=my[IYw]
set DYw=ly
if wG==0 then
if uG<8191 then
set uG=uG+1
set UYw=uG
set rG[UYw]=1069
else
call tX("Out of memory: Could not create Closure.")
set UYw=0
endif
else
set wG=wG-1
set UYw=MY[wG]
set rG[UYw]=1069
endif
set en[UYw]=0
set Fy[UYw]=Qy[IYw]
set ZYw=PYw
set EYw=DYw
set UYw=UYw
if DYw>4000 then
call tX("dictionary size exceeds max size")
endif
if na==0 then
set AYw=""
set IYw=cfw(PYw)
loop
exitwhen Jy[Ly[IYw]]==Ky[IYw]
set Ly[IYw]=Jy[Ly[IYw]]
set AYw=AYw+I2S(Dy[Ly[IYw]])+","
endloop
call Ldw(IYw)
call E0w(0,"encoding positions: "+AYw)
endif
set IYw=OK("0aUb1GLwR2kHvP3CQIM4npFs5iSW6tzAr7TNxo8JXVjy9OcdEfBKgqeuYDhmlZ")
set PYw=tfw(ZYw)
if VY==0 then
if BY<8191 then
set BY=BY+1
set DYw=BY
set NY[DYw]=1083
else
call tX("Out of memory: Could not create Closure.")
set DYw=0
endif
else
set VY=VY-1
set DYw=CY[VY]
set NY[DYw]=1083
endif
set qn[DYw]=false
set an[DYw]=null
set py[DYw]=PYw
set ey[DYw]=IYw
set qy[DYw]=EYw
set ay[DYw]=ZYw
set ny[DYw]=UYw
call Bww(DYw)
endif
else
set EYw=fe[IYw]
if Jy[Vy[EYw]]!=Cy[EYw]then
set EYw=fe[IYw]
set Vy[EYw]=Jy[Vy[EYw]]
call Qdw(vcw(Dy[Vy[EYw]]),me[Re[IYw]])
set EYw=fe[IYw]
if Jy[Vy[EYw]]!=Cy[EYw]then
call Xyw(me[Re[IYw]],pn[yb])
endif
call eYw(t6(fe[IYw]))
else
call LRw(PYw)
call Xyw(me[Re[IYw]],pn[eb])
call Byw(me[Re[IYw]])
set ZYw=Re[IYw]
set UYw=V4()
set EYw=vU()
set PYw=NU("e")
set IYw=Qe[ZYw]
call hdw(UYw,t2(PYw,IU(IYw,0,xs[IYw])))
set IYw=NU("t")
set PYw=me[ZYw]
call hdw(UYw,t2(IYw,IU(PYw,0,xs[PYw])))
call Qdw(UYw,EYw)
call Ydw(UYw)
if wG==0 then
if uG<8191 then
set uG=uG+1
set UYw=uG
set rG[UYw]=1066
else
call tX("Out of memory: Could not create Closure.")
set UYw=0
endif
else
set wG=wG-1
set UYw=MY[wG]
set rG[UYw]=1066
endif
set en[UYw]=0
set Te[UYw]=ZYw
set Ye[UYw]=EYw
call E0w(1,"Compressing:")
call Byw(EYw)
set ZYw=p6()
call C5()
if VY==0 then
if BY<8191 then
set BY=BY+1
set IYw=BY
set NY[IYw]=1081
else
call tX("Out of memory: Could not create Closure.")
set IYw=0
endif
else
set VY=VY-1
set IYw=CY[VY]
set NY[IYw]=1081
endif
set qn[IYw]=false
set an[IYw]=null
set ky[IYw]=0
set jy[IYw]=EYw
set xy[IYw]=0
set vy[IYw]=0
set my[IYw]=ZYw
set Qy[IYw]=UYw
call Bww(IYw)
endif
endif
else
set EYw=py[IYw]
if Jy[Vy[EYw]]!=Cy[EYw]then
set ZYw=ey[IYw]
set EYw=py[IYw]
set Vy[EYw]=Jy[Vy[EYw]]
call wqw(ZYw,Dy[Vy[EYw]],qy[IYw])
else
call E0w(1,"positions encoded1")
call LRw(PYw)
call wqw(ey[IYw],qy[IYw],4000)
call E0w(1,"positions encoded2")
call Ndw(ay[IYw])
set EYw=ey[IYw]
set ZYw=vU()
if wG==0 then
if uG<8191 then
set uG=uG+1
set UYw=uG
set rG[UYw]=1075
else
call tX("Out of memory: Could not create Closure.")
set UYw=0
endif
else
set wG=wG-1
set UYw=MY[wG]
set rG[UYw]=1075
endif
set en[UYw]=0
set by[UYw]=ny[IYw]
set yy[UYw]=ey[IYw]
call E0w(1,"save1")
call iqw(EYw)
call E0w(1,"save2")
set IYw=lqw(EYw)
if IT==0 then
if PT<8191 then
set PT=PT+1
set PYw=PT
set AT[PYw]=661
else
call tX("Out of memory: Could not create Closure.")
set PYw=0
endif
else
set IT=IT-1
set PYw=UT[IT]
set AT[PYw]=661
endif
call SA(PYw)
if IT==0 then
if PT<8191 then
set PT=PT+1
set PYw=PT
set AT[PYw]=678
else
call tX("Out of memory: Could not create Closure.")
set PYw=0
endif
else
set IT=IT-1
set PYw=UT[IT]
set AT[PYw]=678
endif
set ec[PYw]=IYw
set qc[PYw]=EYw
set ac[PYw]=ZYw
set nc[PYw]=UYw
call SA(PYw)
if IT==0 then
if PT<8191 then
set PT=PT+1
set EYw=PT
set AT[EYw]=666
else
call tX("Out of memory: Could not create Closure.")
set EYw=0
endif
else
set IT=IT-1
set EYw=UT[IT]
set AT[EYw]=666
endif
call SA(EYw)
endif
endif
elseif NY[IYw]<=1086 then
if NY[IYw]<=1085 then
if NY[IYw]<=1084 then
set EYw=Wy[IYw]
if Jy[Vy[EYw]]!=Cy[EYw]then
set EYw=Wy[IYw]
set Vy[EYw]=Jy[Vy[EYw]]
set Zy[IYw]=rYw(Oy,Dy[Vy[EYw]])
set EYw=Wy[IYw]
if Jy[Vy[EYw]]!=Cy[EYw]then
set XYw=S6(Wy[IYw])<ly
else
set XYw=false
endif
if XYw then
set Ey[IYw]=rYw(Oy,S6(Wy[IYw]))
set Ey[IYw]=SubString(Ey[IYw],0,1)
else
set EYw=Wy[IYw]
if Jy[Vy[EYw]]==Cy[EYw]then
set Ey[IYw]=null
else
set Ey[IYw]=SubString(Zy[IYw],0,1)
endif
endif
if Ey[IYw]!=null then
set XYw=StringLength(Ey[IYw])>0
else
set XYw=false
endif
if XYw then
call J5(Zy[IYw]+Ey[IYw])
endif
call Xyw(Uy[IYw],Zy[IYw])
else
call LRw(PYw)
call E0w(1,"decompressed")
call Byw(Uy[IYw])
set en[Iy[IYw]]=Uy[IYw]
set EYw=Iy[IYw]
call CYw(0,0,1,EYw,EYw,null,0,0)
endif
else
set EYw=IYw
if not tU(Gc[dy[IYw]]) then
set EYw=sqw(dy[IYw],fy[IYw])
call lfw(Ry[IYw],EYw)
else
call LRw(PYw)
if na==0 then
set AYw=""
set ZYw=cfw(Ry[IYw])
loop
exitwhen Jy[Ly[ZYw]]==Ky[ZYw]
set Ly[ZYw]=Jy[Ly[ZYw]]
set AYw=AYw+I2S(Dy[Ly[ZYw]])+","
endloop
call Ldw(ZYw)
call E0w(0,"decoded positions: "+AYw)
endif
set en[Ty[EYw]]=Ry[EYw]
set EYw=Ty[EYw]
call CYw(0,0,1,EYw,EYw,null,0,0)
endif
endif
else
set EYw=rb[wb[IYw]]
if sb[wb[IYw]]<xs[EYw]-vs[EYw]then
set ZYw=wb[IYw]
set cb[ZYw]=jU(rb[ZYw],sb[ZYw],1)
set AYw=cb[ZYw]
if AYw==pn[pb]then
set ib[ZYw]=ib[ZYw]+1
if ib[ZYw]==1 then
set tb[ZYw]=sb[ZYw]
endif
set Sb[ZYw]=3
elseif AYw==pn[eb]then
set ib[ZYw]=ib[ZYw]-1
if ib[ZYw]==0 then
set bb[ZYw]=IU(rb[ZYw],tb[ZYw],sb[ZYw]-tb[ZYw]+1)
call hdw(ob[ZYw],t2(lb[ZYw],bb[ZYw]))
set tb[ZYw]=sb[ZYw]+1
endif
set Sb[ZYw]=4
elseif ib[ZYw]==0 then
if Fsw("abcdefghijklmnopqrstuvwxyz",cb[ZYw])!=-1 then
set EYw=Sb[ZYw]
if EYw==0 then
set lb[ZYw]=IU(rb[ZYw],sb[ZYw],1)
set tb[ZYw]=sb[ZYw]+1
elseif EYw==2 then
set bb[ZYw]=IU(rb[ZYw],tb[ZYw],sb[ZYw]-tb[ZYw])
call hdw(ob[ZYw],t2(lb[ZYw],bb[ZYw]))
set lb[ZYw]=IU(rb[ZYw],sb[ZYw],1)
set tb[ZYw]=sb[ZYw]+1
elseif EYw==4 then
set lb[ZYw]=IU(rb[ZYw],sb[ZYw],1)
set tb[ZYw]=sb[ZYw]+1
endif
set Sb[ZYw]=1
elseif Fsw("-0123456789",cb[ZYw])!=-1 then
if Sb[ZYw]==1 then
set tb[ZYw]=sb[ZYw]
endif
set Sb[ZYw]=2
endif
endif
set sb[ZYw]=sb[ZYw]+1
else
if tb[wb[IYw]]<sb[wb[IYw]]then
set bb[wb[IYw]]=IU(rb[wb[IYw]],tb[wb[IYw]],sb[wb[IYw]]-tb[wb[IYw]])
call hdw(ob[wb[IYw]],t2(lb[wb[IYw]],bb[wb[IYw]]))
endif
call LRw(PYw)
set EYw=ub[IYw]
call CYw(0,0,1,EYw,EYw,null,0,0)
endif
endif
elseif NY[IYw]<=1088 then
if NY[IYw]<=1087 then
if ic[IYw]!=0 then
set EYw=Fs[ic[IYw]]
call Xyw(Sc[IYw],SubString(Rc[cc[IYw]],EYw,EYw+1))
set ic[IYw]=ks[ic[IYw]]
else
call LRw(PYw)
set en[oc[IYw]]=Sc[IYw]
set EYw=oc[IYw]
call CYw(0,0,1,EYw,EYw,null,0,0)
endif
else
set qn[PYw]=true
set EYw=ce[IYw]
if Jy[Vy[EYw]]!=Cy[EYw]then
call Dyw(oe[IYw])
set EYw=ce[IYw]
set Vy[EYw]=Jy[Vy[EYw]]
set EYw=Dy[Vy[EYw]]
set Qs[EYw]=0
set ZYw=ve[Oe[IYw]]
set UYw=oe[IYw]
call CU(EYw,UYw)
call ndw(ZYw,UYw)
set ZYw=ve[Oe[IYw]]
if wG==0 then
if uG<8191 then
set uG=uG+1
set EYw=uG
set rG[EYw]=1070
else
call tX("Out of memory: Could not create Closure.")
set EYw=0
endif
else
set wG=wG-1
set EYw=MY[wG]
set rG[EYw]=1070
endif
set en[EYw]=0
set te[EYw]=Oe[IYw]
set ie[EYw]=PYw
call CYw(0,1,ZYw,EYw,0,null,0,0)
else
call JRw(PYw)
call Iyw(oe[IYw])
set EYw=Oe[IYw]
call Nrw(je[Oe[IYw]],xc[EYw],vc[EYw],mc[EYw],"|cff0884CEEntites loaded!",10.)
call PauseUnit(uo[Oe[IYw]],false)
call E0w(1,"entities loaded")
set ZYw=ob[xe[Oe[IYw]]]
set EYw=ve[Oe[IYw]]
if wG==0 then
if uG<8191 then
set uG=uG+1
set UYw=uG
set rG[UYw]=1065
else
call tX("Out of memory: Could not create Closure.")
set UYw=0
endif
else
set wG=wG-1
set UYw=MY[wG]
set rG[UYw]=1065
endif
set en[UYw]=0
set Se[UYw]=Oe[IYw]
call CYw(1,ZYw,0,0,0,"t",EYw,UYw)
endif
endif
else
set EYw=ne[IYw]
if Jy[Vy[EYw]]!=Cy[EYw]then
set EYw=ne[IYw]
set Vy[EYw]=Jy[Vy[EYw]]
set EYw=Dy[Vy[EYw]]
if mT[EYw]<=738 then
if mT[EYw]<=724 then
if mT[EYw]<=717 then
if mT[EYw]<=714 then
if mT[EYw]<=708 then
if mT[EYw]<=707 then
set ZYw=eL(EYw)
else
set ZYw=eL(EYw)
call hdw(ZYw,o2("t",I2S(31)))
call hdw(ZYw,o2("c",I2S(Cb[EYw])))
set ZYw=ZYw
endif
elseif mT[EYw]<=713 then
set ZYw=eL(EYw)
else
set ZYw=eL(EYw)
call hdw(ZYw,o2("t",I2S(TS[EYw])))
if YS[EYw]then
call hdw(ZYw,o2("e",I2S(R2I(GetUnitFacing(uo[EYw])))))
endif
if hi[RS[EYw]]!=1.0 then
call hdw(ZYw,o2("d",I2S(R2I(hi[RS[EYw]]*100.))))
endif
set ZYw=ZYw
endif
elseif mT[EYw]<=716 then
if mT[EYw]<=715 then
set ZYw=eL(EYw)
call hdw(ZYw,o2("t",I2S(11)))
call hdw(ZYw,o2("c",I2S(HS[EYw])))
call hdw(ZYw,o2("d",I2S(FI(JS[EYw]))))
set ZYw=ZYw
else
set ZYw=eL(EYw)
call hdw(ZYw,o2("t",I2S(18)))
set ZYw=ZYw
endif
else
set ZYw=eL(EYw)
call hdw(ZYw,o2("t",I2S(2)))
set ZYw=ZYw
endif
elseif mT[EYw]<=721 then
if mT[EYw]<=719 then
if mT[EYw]<=718 then
set ZYw=eL(EYw)
call hdw(ZYw,o2("t",I2S(30)))
set ZYw=ZYw
else
set ZYw=eL(EYw)
endif
elseif mT[EYw]<=720 then
set ZYw=pZ(EYw)
else
set ZYw=pZ(EYw)
call hdw(ZYw,o2("t",I2S(7)))
if R2I(hi[ct[EYw]])!=200 then
call hdw(ZYw,o2("b",I2S(R2I(hi[ct[EYw]]))))
endif
set ZYw=ZYw
endif
elseif mT[EYw]<=723 then
if mT[EYw]<=722 then
set ZYw=pZ(EYw)
call hdw(ZYw,o2("t",I2S(20)))
set ZYw=ZYw
else
set ZYw=pZ(EYw)
call hdw(ZYw,o2("t",I2S(10)))
set ZYw=ZYw
endif
else
set ZYw=pZ(EYw)
endif
elseif mT[EYw]<=731 then
if mT[EYw]<=728 then
if mT[EYw]<=726 then
if mT[EYw]<=725 then
set ZYw=pZ(EYw)
call hdw(ZYw,o2("t",I2S(1)))
call hdw(ZYw,o2("f",I2S(R2I(hi[Pb[EYw]]*100.))))
set ZYw=ZYw
else
set ZYw=pZ(EYw)
endif
elseif mT[EYw]<=727 then
set ZYw=pZ(EYw)
call hdw(ZYw,o2("t",I2S(6)))
set ZYw=ZYw
else
set ZYw=pZ(EYw)
endif
elseif mT[EYw]<=730 then
if mT[EYw]<=729 then
set ZYw=pZ(EYw)
call hdw(ZYw,o2("t",I2S(27)))
set ZYw=ZYw
else
set ZYw=pZ(EYw)
call hdw(ZYw,o2("t",I2S(9)))
set ZYw=ZYw
endif
else
set ZYw=pZ(EYw)
call hdw(ZYw,o2("t",I2S(16)))
set ZYw=ZYw
endif
elseif mT[EYw]<=735 then
if mT[EYw]<=733 then
if mT[EYw]<=732 then
set ZYw=pZ(EYw)
call hdw(ZYw,o2("t",I2S(3)))
set ZYw=ZYw
else
set ZYw=pZ(EYw)
call hdw(ZYw,o2("t",I2S(oT[EYw])))
set ZYw=ZYw
endif
elseif mT[EYw]<=734 then
set ZYw=pZ(EYw)
call hdw(ZYw,o2("t",I2S(10)))
set ZYw=ZYw
else
set ZYw=pZ(EYw)
call hdw(ZYw,o2("t",I2S(4)))
set ZYw=ZYw
endif
elseif mT[EYw]<=737 then
if mT[EYw]<=736 then
set ZYw=pZ(EYw)
call hdw(ZYw,o2("t",I2S(22)))
set ZYw=ZYw
else
set ZYw=pZ(EYw)
call hdw(ZYw,o2("t",I2S(8)))
set ZYw=ZYw
endif
else
set ZYw=eL(EYw)
call hdw(ZYw,o2("t",I2S(5)))
set ZYw=ZYw
endif
elseif mT[EYw]<=754 then
if mT[EYw]<=747 then
if mT[EYw]<=744 then
if mT[EYw]<=741 then
if mT[EYw]<=739 then
set ZYw=eL(EYw)
call hdw(ZYw,o2("t",I2S(17)))
set ZYw=ZYw
else
set ZYw=eL(EYw)
endif
elseif mT[EYw]<=742 then
set ZYw=eL(EYw)
call hdw(ZYw,o2("t",I2S(32)))
set ZYw=ZYw
else
set ZYw=eL(EYw)
endif
elseif mT[EYw]<=746 then
if mT[EYw]<=745 then
set ZYw=eL(EYw)
call hdw(ZYw,o2("t",I2S(28)))
set ZYw=ZYw
else
set ZYw=eL(EYw)
call hdw(ZYw,o2("t",I2S(34)))
set ZYw=ZYw
endif
else
set ZYw=eL(EYw)
call hdw(ZYw,o2("t",I2S(35)))
set ZYw=ZYw
endif
elseif mT[EYw]<=751 then
if mT[EYw]<=749 then
if mT[EYw]<=748 then
set ZYw=eL(EYw)
call hdw(ZYw,o2("t",I2S(29)))
set ZYw=ZYw
else
set ZYw=eL(EYw)
call hdw(ZYw,o2("t",I2S(38)))
set ZYw=ZYw
endif
elseif mT[EYw]<=750 then
set ZYw=eL(EYw)
call hdw(ZYw,o2("t",I2S(37)))
set ZYw=ZYw
else
set ZYw=eL(EYw)
call hdw(ZYw,o2("t",I2S(33)))
set ZYw=ZYw
endif
elseif mT[EYw]<=753 then
if mT[EYw]<=752 then
set ZYw=eL(EYw)
call hdw(ZYw,o2("t",I2S(39)))
set ZYw=ZYw
else
set ZYw=eL(EYw)
call hdw(ZYw,o2("t",I2S(41)))
set ZYw=ZYw
endif
else
set ZYw=eL(EYw)
endif
elseif mT[EYw]<=761 then
if mT[EYw]<=758 then
if mT[EYw]<=756 then
if mT[EYw]<=755 then
set ZYw=eL(EYw)
call hdw(ZYw,o2("t",I2S(13)))
set ZYw=ZYw
else
set ZYw=eL(EYw)
call hdw(ZYw,o2("t",I2S(12)))
set ZYw=ZYw
endif
elseif mT[EYw]<=757 then
set ZYw=eL(EYw)
call hdw(ZYw,o2("t",I2S(23)))
set ZYw=ZYw
else
set ZYw=eL(EYw)
call hdw(ZYw,o2("t",I2S(40)))
set ZYw=ZYw
endif
elseif mT[EYw]<=760 then
if mT[EYw]<=759 then
set ZYw=eL(EYw)
call hdw(ZYw,o2("t",I2S(36)))
set ZYw=ZYw
else
set ZYw=eL(EYw)
call hdw(ZYw,o2("t",I2S(19)))
set ZYw=ZYw
endif
else
set ZYw=eL(EYw)
endif
elseif mT[EYw]<=765 then
if mT[EYw]<=763 then
if mT[EYw]<=762 then
set ZYw=eL(EYw)
call hdw(ZYw,o2("t",I2S(21)))
set ZYw=ZYw
else
set ZYw=eL(EYw)
call hdw(ZYw,o2("t",I2S(43)))
set ZYw=ZYw
endif
elseif mT[EYw]<=764 then
set ZYw=eL(EYw)
call hdw(ZYw,o2("t",I2S(42)))
set ZYw=ZYw
else
set ZYw=eL(EYw)
endif
elseif mT[EYw]<=777 then
if mT[EYw]<=766 then
set ZYw=eL(EYw)
call hdw(ZYw,o2("t",I2S(15)))
set ZYw=ZYw
else
set ZYw=eL(EYw)
endif
else
set ZYw=vcw(EYw)
endif
call Qdw(ZYw,Qe[de[IYw]])
call Ydw(ZYw)
set ZYw=ne[IYw]
if Jy[Vy[ZYw]]!=Cy[ZYw]then
call Xyw(Qe[de[IYw]],pn[yb])
endif
call lYw(mR,0,ConvertFogState(bdw(ke[de[IYw]],EYw)))
call DestroyEffect(LoadEffectHandle(lf,mR,0))
call edw(ke[de[IYw]],EYw)
call t6(ne[IYw])
else
call LRw(PYw)
call Xyw(Qe[de[IYw]],pn[eb])
set EYw=de[IYw]
call Dyw(me[EYw])
call Xyw(me[EYw],pn[pb])
set UYw=tfw(Fe[EYw])
if VY==0 then
if BY<8191 then
set BY=BY+1
set ZYw=BY
set NY[ZYw]=1082
else
call tX("Out of memory: Could not create Closure.")
set ZYw=0
endif
else
set VY=VY-1
set ZYw=CY[VY]
set NY[ZYw]=1082
endif
set qn[ZYw]=false
set an[ZYw]=null
set fe[ZYw]=UYw
set Re[ZYw]=EYw
call Bww(ZYw)
endif
endif
elseif UYw==1 then
if rG[IYw]<=1070 then
if rG[IYw]<=1067 then
if rG[IYw]<=1066 then
if rG[IYw]<=1065 then
call E0w(1,"load tiles1")
set EYw=Se[IYw]
set IYw=Ob[en[PYw]]
call E0w(1,"load tiles2")
call Nrw(je[EYw],xc[EYw],vc[EYw],mc[EYw],"|cff0884CEloading Tiles...",10.)
if xT==0 then
if vT<8191 then
set vT=vT+1
set ZYw=vT
set mT[ZYw]=778
else
call tX("Out of memory: Could not create TileData.")
set ZYw=0
endif
else
set xT=xT-1
set ZYw=jT[xT]
set mT[ZYw]=778
endif
set tR[ZYw]=1
set UYw=vU()
set sR[ZYw]=Ic[EYw]
set PYw=tfw(IYw)
if VY==0 then
if BY<8191 then
set BY=BY+1
set IYw=BY
set NY[IYw]=1078
else
call tX("Out of memory: Could not create Closure.")
set IYw=0
endif
else
set VY=VY-1
set IYw=CY[VY]
set NY[IYw]=1078
endif
set qn[IYw]=false
set an[IYw]=null
set pe[IYw]=PYw
set ee[IYw]=UYw
set qe[IYw]=EYw
set ae[IYw]=ZYw
call Bww(IYw)
else
set EYw=IYw
set ZYw=en[PYw]
if GetLocalPlayer()==Ic[Te[IYw]]then
set IYw=l3("GameData\\EBR","dataSlot"+I2S(We[Te[IYw]]),1)
loop
exitwhen xs[ZYw]-vs[ZYw]<=400
call mnw(IYw,jU(ZYw,0,400))
set vs[ZYw]=vs[ZYw]+400
endloop
if 0>xs[ZYw]-vs[ZYw]then
set XYw=true
else
set XYw=xs[ZYw]-vs[ZYw]>400
endif
if XYw then
call tX("1Trying to get string out of bounds")
endif
set UYw=0+vs[ZYw]
call mnw(IYw,SubString(WYw(ZYw,R2I(UYw*1./400)),ModuloInteger(UYw,400),xs[ZYw]))
call Wnw(IYw)
endif
set ZYw=Te[EYw]
call Nrw(je[Te[EYw]],xc[ZYw],vc[ZYw],mc[ZYw],"|cffFFBD21save finished!",10.)
call Iyw(Ye[EYw])
call PauseUnit(uo[Te[EYw]],false)
endif
else
call E0w(1,"loaded..")
set EYw=sqw(dc[IYw],1000)
call E0w(1,"decoded..")
call iqw(dc[IYw])
call E0w(1,"claned..")
set ZYw=lqw(dc[IYw])
call E0w(1,"hashed..")
set en[fc[IYw]]=FI(EYw==ZYw)
set EYw=fc[IYw]
call CYw(0,0,1,EYw,EYw,null,0,0)
endif
elseif rG[IYw]<=1069 then
if rG[IYw]<=1068 then
set EYw=ue[IYw]
set UYw=Ob[ve[ue[IYw]]]
call Nrw(je[EYw],xc[EYw],vc[EYw],mc[EYw],"|cff0884CEloading Entities...",10.)
set ZYw=vU()
set UYw=tfw(UYw)
if VY==0 then
if BY<8191 then
set BY=BY+1
set IYw=BY
set NY[IYw]=1088
else
call tX("Out of memory: Could not create Closure.")
set IYw=0
endif
else
set VY=VY-1
set IYw=CY[VY]
set NY[IYw]=1088
endif
set qn[IYw]=false
set an[IYw]=null
set ce[IYw]=UYw
set oe[IYw]=ZYw
set Oe[IYw]=EYw
call Bww(IYw)
else
set EYw=en[PYw]
call Byw(EYw)
set en[Fy[IYw]]=EYw
set EYw=Fy[IYw]
call CYw(0,0,1,EYw,EYw,null,0,0)
endif
else
set EYw=ob[ve[te[IYw]]]
set KYw=jdw(EYw,"x")
set LYw=jdw(EYw,"y")
set EYw=w2(EYw,"t")
set EYw=s4(Ic[te[IYw]],Fc+KYw,kc+LYw,EYw)
set ZYw=ob[ve[te[IYw]]]
if mT[EYw]<=719 then
if mT[EYw]<=713 then
if mT[EYw]<=708 then
if mT[EYw]<=707 then
else
set Cb[EYw]=w2(ZYw,"c")
call Ddw(EYw)
endif
endif
elseif mT[EYw]<=715 then
if mT[EYw]<=714 then
call Eew(EYw,jdw(ZYw,"e")*0.017453293)
set ZYw=w2(ZYw,"d")
if ZYw>0. then
set hi[RS[EYw]]=ZYw/100.
set KYw=hi[RS[EYw]]
call SetUnitScale(uo[EYw],KYw,KYw,KYw)
set KYw=hi[RS[EYw]]
call SetUnitScale(vn[EYw],KYw,KYw,KYw)
endif
else
set HS[EYw]=w2(ZYw,"c")
call SetUnitVertexColor(uo[EYw],X3(HS[EYw]),Ik,Pk,Ak)
if w2(ZYw,"d")==1 then
call Kew(EYw)
endif
endif
endif
elseif mT[EYw]<=724 then
if mT[EYw]<=721 then
if mT[EYw]<=720 then
call Ryw(EYw,Fc+jdw(ZYw,"r"),kc+jdw(ZYw,"s"))
else
set ZYw=w2(ZYw,"b")
if ZYw>0 then
set hi[ct[EYw]]=ZYw*1.
endif
endif
else
call Ryw(EYw,Fc+jdw(ZYw,"r"),kc+jdw(ZYw,"s"))
endif
elseif mT[EYw]<=737 then
if mT[EYw]<=725 then
call Ryw(EYw,Fc+jdw(ZYw,"r"),kc+jdw(ZYw,"s"))
set hi[Pb[EYw]]=jdw(ZYw,"f")/100.
else
call Ryw(EYw,Fc+jdw(ZYw,"r"),kc+jdw(ZYw,"s"))
endif
endif
call Zdw(ob[ve[te[IYw]]])
set EYw=ie[IYw]
call CYw(0,0,0,EYw,EYw,null,0,0)
endif
elseif rG[IYw]<=1073 then
if rG[IYw]<=1072 then
if rG[IYw]<=1071 then
set ZYw=tfw(en[PYw])
if VY==0 then
if BY<8191 then
set BY=BY+1
set EYw=BY
set NY[EYw]=1084
else
call tX("Out of memory: Could not create Closure.")
set EYw=0
endif
else
set VY=VY-1
set EYw=CY[VY]
set NY[EYw]=1084
endif
set qn[EYw]=false
set an[EYw]=null
set Wy[EYw]=ZYw
set Ey[EYw]=""
set Zy[EYw]=""
set Uy[EYw]=Py[IYw]
set Iy[EYw]=Ay[IYw]
call Bww(EYw)
else
call E0w(1,"on finish parse")
set ZYw=ob[xe[re[IYw]]]
set UYw=ve[re[IYw]]
if wG==0 then
if uG<8191 then
set uG=uG+1
set EYw=uG
set rG[EYw]=1068
else
call tX("Out of memory: Could not create Closure.")
set EYw=0
endif
else
set wG=wG-1
set EYw=MY[wG]
set rG[EYw]=1068
endif
set en[EYw]=0
set ue[EYw]=re[IYw]
call CYw(1,ZYw,0,0,0,"e",UYw,EYw)
endif
else
call E0w(1,"doSeq loadTile2s")
call Ucw(le[IYw],ob[xe[be[IYw]]])
call Zdw(ob[xe[be[IYw]]])
set EYw=ye[IYw]
call CYw(0,0,0,EYw,EYw,null,0,0)
endif
elseif rG[IYw]<=1075 then
if rG[IYw]<=1074 then
call E0w(1,"on finish decompress")
call ndw(xe[se[IYw]],en[PYw])
set EYw=xe[se[IYw]]
if wG==0 then
if uG<8191 then
set uG=uG+1
set ZYw=uG
set rG[ZYw]=1072
else
call tX("Out of memory: Could not create Closure.")
set ZYw=0
endif
else
set wG=wG-1
set ZYw=MY[wG]
set rG[ZYw]=1072
endif
set en[ZYw]=0
set re[ZYw]=se[IYw]
call CYw(0,1,EYw,ZYw,0,null,0,0)
else
set en[by[IYw]]=en[PYw]
set EYw=yy[IYw]
call gyw(Gc[EYw])
if XY[EYw]==0 then
call tX("Double free: object of type Encoder")
else
set JY[KY]=EYw
set KY=KY+1
set XY[EYw]=0
endif
set EYw=by[IYw]
call CYw(0,0,1,EYw,EYw,null,0,0)
endif
else
if en[PYw]==1 then
call E0w(1,"file valid")
if IT==0 then
if PT<8191 then
set PT=PT+1
set EYw=PT
set AT[EYw]=672
else
call tX("Out of memory: Could not create Closure.")
set EYw=0
endif
else
set IT=IT-1
set EYw=UT[IT]
set AT[EYw]=672
endif
call SA(EYw)
if IT==0 then
if PT<8191 then
set PT=PT+1
set EYw=PT
set AT[EYw]=679
else
call tX("Out of memory: Could not create Closure.")
set EYw=0
endif
else
set IT=IT-1
set EYw=UT[IT]
set AT[EYw]=679
endif
set Yy[EYw]=gy[IYw]
set Gy[EYw]=hy[IYw]
call SA(EYw)
else
call tX("loaded input is invalid")
endif
if rG[PYw]==0 then
call tX("Double free: object of type PayloadCallback")
else
set MY[wG]=PYw
set wG=wG+1
set rG[PYw]=0
endif
endif
endif
elseif ZYw==1 then
if rb[UYw]==0 then
set XYw=true
else
set EYw=rb[UYw]
set XYw=xs[EYw]-vs[EYw]<=0
endif
if XYw then
call E0w(1,"skip empty input")
call CYw(0,0,1,IYw,IYw,null,0,0)
return
endif
call Byw(rb[UYw])
call Zdw(ob[UYw])
if VY==0 then
if BY<8191 then
set BY=BY+1
set EYw=BY
set NY[EYw]=1086
else
call tX("Out of memory: Could not create Closure.")
set EYw=0
endif
else
set VY=VY-1
set EYw=CY[VY]
set NY[EYw]=1086
endif
set qn[EYw]=false
set an[EYw]=null
set wb[EYw]=UYw
set ub[EYw]=IYw
call Bww(EYw)
endif
elseif EYw==1 then
set EYw=db[bdw(qb[ZYw],StringHash(AYw))]
set Qs[EYw]=0
set en[HYw]=DYw
set ZYw=vU()
call CU(EYw,ZYw)
call ndw(DYw,ZYw)
call Byw(rb[DYw])
if Ob[DYw]!=0 then
call Ndw(Ob[DYw])
endif
set Ob[DYw]=p6()
set EYw=rb[DYw]
if xs[EYw]-vs[EYw]<=2 then
call E0w(1,"skip empty list")
call CYw(0,0,1,HYw,HYw,null,0,0)
else
if VY==0 then
if BY<8191 then
set BY=BY+1
set EYw=BY
set NY[EYw]=1080
else
call tX("Out of memory: Could not create Closure.")
set EYw=0
endif
else
set VY=VY-1
set EYw=CY[VY]
set NY[EYw]=1080
endif
set qn[EYw]=false
set an[EYw]=null
set Nl[EYw]=DYw
set Ml[EYw]=HYw
call Bww(EYw)
endif
endif
endfunction
function uuw takes nothing returns nothing
local timer Mww=GetExpiredTimer()
local integer wuw=Acw(Mww)
if (not qn[wuw])and an[wuw]!=null then
call CYw(0,0,0,wuw,wuw,null,0,0)
call TimerStart(Mww,0.001,false,SQ)
endif
set Mww=null
endfunction
function Nww takes nothing returns nothing
call uuw()
endfunction
function O5 takes nothing returns boolean
return true
endfunction
function CTw takes integer KTw returns nothing
local integer LTw
local integer XTw
if Sf[KTw]!=0 then
set LTw=Sf[KTw]
set XTw=Of[LTw]
call FlushChildHashtable(lf,XTw)
if kG[XTw]==0 then
call tX("Double free: object of type Table")
else
set gG[hG]=XTw
set hG=hG+1
set kG[XTw]=0
endif
if Jh[LTw]==0 then
call tX("Double free: object of type SyncedFile")
else
set Ah[Dh]=LTw
set Dh=Dh+1
set Jh[LTw]=0
endif
endif
if Ph[KTw]==0 then
call tX("Double free: object of type SyncPayload")
else
set Zh[Uh]=KTw
set Uh=Uh+1
set Ph[KTw]=0
endif
endfunction
function DA takes string QA returns integer
local integer AA=7
local integer WA=0
local integer EA=StringLength(QA)-1
local string ZA
local integer UA
local string IA
local integer PA
loop
exitwhen WA>EA
set AA=AA*31
set ZA=SubString(QA,WA,WA+1)
set UA=0
set IA="0aUb1GLwR2kHvP3CQIM4npFs5iSW6tzAr7TNxo8JXVjy9OcdEfBKgqeuYDhmlZ"
set PA=StringLength("0aUb1GLwR2kHvP3CQIM4npFs5iSW6tzAr7TNxo8JXVjy9OcdEfBKgqeuYDhmlZ")
loop
exitwhen not(UA<PA and ZA!=SubString(IA,UA,UA+1))
set UA=UA+1
endloop
set AA=AA+UA+11
set WA=WA+1
endloop
if AA<0 then
set AA=-AA
endif
return AA
endfunction
function Jfw takes integer Pfw,string Afw returns nothing
local integer Dfw=Pfw
local integer Hfw
set Afw=Afw
set Pfw=0
loop
exitwhen SubString(Afw,Pfw,Pfw+1)!=" "
set Pfw=Pfw+1
endloop
set Hfw=StringLength(Afw)
loop
exitwhen SubString(Afw,Hfw,Hfw+1)!=" "
set Hfw=Hfw-1
endloop
set Cq[Dfw]=SubString(Afw,Pfw,Hfw)
endfunction
function LA takes nothing returns integer
local integer KA
if nY==0 then
if dY<8191 then
set dY=dY+1
set KA=dY
set fY[KA]=683
else
call tX("Out of memory: Could not create Savecode.")
set KA=0
endif
else
set nY=nY-1
set KA=aY[nY]
set fY[KA]=683
endif
set ii[KA]=0.
set Si[KA]=cU(StringLength("0aUb1GLwR2kHvP3CQIM4npFs5iSW6tzAr7TNxo8JXVjy9OcdEfBKgqeuYDhmlZ"))
return KA
endfunction
function kpw takes integer Fpw returns nothing
call gyw(Si[Fpw])
if fY[Fpw]==0 then
call tX("Double free: object of type Savecode")
else
set aY[nY]=Fpw
set nY=nY+1
set fY[Fpw]=0
endif
endfunction
function mpw takes integer jpw,integer xpw,integer vpw returns nothing
set ii[jpw]=ii[jpw]+rU(vpw+1.,StringLength("0aUb1GLwR2kHvP3CQIM4npFs5iSW6tzAr7TNxo8JXVjy9OcdEfBKgqeuYDhmlZ")+0.)
call Zyw(Si[jpw],vpw+1)
call xyw(Si[jpw],xpw)
endfunction
function JA takes integer HA returns integer
if HA>=StringLength("0aUb1GLwR2kHvP3CQIM4npFs5iSW6tzAr7TNxo8JXVjy9OcdEfBKgqeuYDhmlZ") then
return HA-StringLength("0aUb1GLwR2kHvP3CQIM4npFs5iSW6tzAr7TNxo8JXVjy9OcdEfBKgqeuYDhmlZ")
elseif HA<0 then
return HA+StringLength("0aUb1GLwR2kHvP3CQIM4npFs5iSW6tzAr7TNxo8JXVjy9OcdEfBKgqeuYDhmlZ")
else
return HA
endif
endfunction
function Xpw takes integer Upw,integer Ipw,integer Ppw returns nothing
local integer Apw=Upw
local integer Dpw=Ipw
local integer Hpw=Ppw
local integer Jpw=GetRandomInt(0,2147483647)
local integer Kpw=0
local integer Lpw=0
set Ipw=gs[Si[Upw]]
if Ppw==-1 then
set Ppw=gs[Si[Upw]]
set Upw=ks[Ppw]
loop
exitwhen Upw==0
set Ppw=Upw
set Upw=ks[Upw]
endloop
call SetRandomSeed(Fs[Ppw])
set Fs[Ipw]=JA(Fs[Ipw]+Hpw*GetRandomInt(0,StringLength("0aUb1GLwR2kHvP3CQIM4npFs5iSW6tzAr7TNxo8JXVjy9OcdEfBKgqeuYDhmlZ")-1))
set Lpw=Fs[Ipw]
endif
call SetRandomSeed(Dpw)
loop
exitwhen Ipw==0
if Hpw==-1 then
set Kpw=Fs[Ipw]
endif
set Fs[Ipw]=JA(Fs[Ipw]+Hpw*GetRandomInt(0,StringLength("0aUb1GLwR2kHvP3CQIM4npFs5iSW6tzAr7TNxo8JXVjy9OcdEfBKgqeuYDhmlZ")-1))
if Hpw==1 then
set Kpw=Fs[Ipw]
endif
set Kpw=Kpw+GetRandomInt(0,StringLength("0aUb1GLwR2kHvP3CQIM4npFs5iSW6tzAr7TNxo8JXVjy9OcdEfBKgqeuYDhmlZ")-1)
call SetRandomSeed(Kpw)
set Lpw=Fs[Ipw]
set Ipw=ks[Ipw]
endloop
if Hpw==1 then
call SetRandomSeed(Lpw)
set Fs[gs[Si[Apw]]]=JA(Fs[gs[Si[Apw]]]+Hpw*GetRandomInt(0,StringLength("0aUb1GLwR2kHvP3CQIM4npFs5iSW6tzAr7TNxo8JXVjy9OcdEfBKgqeuYDhmlZ")-1))
endif
call SetRandomSeed(Jpw)
endfunction
function Zpw takes integer Qpw returns integer
local integer Wpw=0
local integer Epw
set Qpw=gs[Si[Qpw]]
loop
exitwhen Qpw==0
set Epw=Fs[Qpw]
set Wpw=Wpw+79*Wpw/(Epw+1)+293*Epw/(1+Wpw-Wpw/StringLength("0aUb1GLwR2kHvP3CQIM4npFs5iSW6tzAr7TNxo8JXVjy9OcdEfBKgqeuYDhmlZ")*StringLength("0aUb1GLwR2kHvP3CQIM4npFs5iSW6tzAr7TNxo8JXVjy9OcdEfBKgqeuYDhmlZ"))+479
set Wpw=Wpw-Wpw/5000*5000
if Wpw<0 then
set Wpw=Wpw+5000
endif
set Wpw=Wpw
set Qpw=ks[Qpw]
endloop
return Wpw
endfunction
function uew takes integer Cpw,string Vpw,integer Bpw returns string
local integer Npw=Cpw
local integer Mpw
local integer wew
set Bpw=DA(Vpw)+Bpw*73
call lU(gs[Si[Cpw]])
call mpw(Cpw,Zpw(Cpw),5000)
call lU(gs[Si[Cpw]])
set Mpw=gs[Si[Cpw]]
set wew=0
set Cpw=R2I(1.0+ii[Cpw])
loop
exitwhen Mpw==0
set wew=Mpw
set Mpw=ks[Mpw]
set Cpw=Cpw-1
endloop
loop
exitwhen Cpw<=0
set ks[wew]=nU()
set wew=ks[wew]
set Cpw=Cpw-1
endloop
call Xpw(Npw,Bpw,1)
set Bpw=gs[Si[Npw]]
set Vpw=""
loop
exitwhen Bpw==0
set Cpw=Fs[Bpw]
set Vpw=SubString("0aUb1GLwR2kHvP3CQIM4npFs5iSW6tzAr7TNxo8JXVjy9OcdEfBKgqeuYDhmlZ",Cpw,Cpw+1)+Vpw
set Bpw=ks[Bpw]
endloop
return Vpw
endfunction
function WD takes integer xD returns nothing
local integer vD=LA()
local integer mD
local integer QD
call mpw(vD,Qq[xD],500000)
call Jfw(Jq[xD],uew(vD,gq[xD],331))
call kpw(vD)
if GetLocalPlayer()==Tq[xD]then
set vD=l3("GameData\\EBR","playerdata",1)
set mD=Hq[xD]
set xD=vD
call mnw(vD,Nq)
set mD=tfw(Mq[mD])
loop
exitwhen Jy[Vy[mD]]==Cy[mD]
set Vy[mD]=Jy[Vy[mD]]
set QD=Dy[Vy[mD]]
call mnw(xD,Xq[QD])
call mnw(xD,Cq[QD])
call mnw(xD,Vq[QD])
call E0w(1,"PMData save: hash <"+Xq[QD]+"> exp: <"+Cq[QD]+"> admin: <"+Vq[QD]+">")
endloop
call Wnw(vD)
endif
endfunction
function Efw takes integer jfw returns nothing
local integer xfw=jfw
local integer vfw=0
local player mfw
local playerstate Qfw
local boolean Wfw
if Wq[jfw]!=null then
call DestroyEffect(Wq[jfw])
endif
loop
exitwhen Qq[xfw]<Pl[vfw]
set vfw=vfw+1
endloop
set kq[xfw]=Al[vfw]
set mfw=Tq[xfw]
set Qfw=PLAYER_STATE_RESOURCE_GOLD
call SetPlayerState(mfw,Qfw,GetPlayerState(mfw,Qfw)+vfw*15)
if xq[xfw]==2 then
set kq[xfw]="|cffADD642*Admin*"
if Eq[xfw]==null then
set Eq[xfw]=AddSpecialEffectTarget("war3mapImported\\HolyShield Seal_Portrait.mdx",uo[vq[xfw]],"chest")
endif
endif
if Qq[xfw]>10000 then
set Wq[xfw]=AddSpecialEffectTarget("war3mapImported\\Life High_Portrait.mdx",uo[vq[xfw]],"chest")
elseif Qq[xfw]>7500 then
set Wq[xfw]=AddSpecialEffectTarget("war3mapImported\\Life High.mdx",uo[vq[xfw]],"chest")
elseif Qq[xfw]>4000 then
set Wq[xfw]=AddSpecialEffectTarget("war3mapImported\\Life Low_Portrait.mdx",uo[vq[xfw]],"chest")
elseif Qq[xfw]>1000 then
set Wq[xfw]=AddSpecialEffectTarget("war3mapImported\\Life Low.mdx",uo[vq[xfw]],"chest")
endif
if Qq[xfw]>=Pl[3]then
set Wfw=GetInventoryIndexOfItemTypeBJ(uo[vq[xfw]],1227894834)<=0
else
set Wfw=false
endif
if Wfw then
call DisplayTimedTextToPlayer(Tq[xfw],0.,0.,25.,"You have unlocked the |cffFFCC00jukebox|r!")
call UnitAddItemById(uo[vq[xfw]],1227894834)
endif
if Hq[xfw]!=0 and Jq[xfw]!=0 and Pq[xfw]+20<fq*60+Rq then
set Pq[xfw]=fq*60+Rq
call E0w(1,"Playerfile saving")
call WD(xfw)
endif
set mfw=null
set Qfw=null
endfunction
function Ifw takes integer Zfw returns nothing
local integer Ufw=StringHash(gq[Zfw])-DA(gq[Zfw])/2
if Jq[Zfw]!=0 and xq[Zfw]!=2 then
if Vq[Jq[Zfw]]!="no" then
if StringHash(gq[Zfw])-DA(gq[Zfw])==nsw(Vq[Jq[Zfw]]) then
call DisplayTimedTextToPlayer(Tq[Zfw],0.,0.,10.,"You are an admin!")
set xq[Zfw]=2
elseif Ufw==nsw(Vq[Jq[Zfw]]) then
call DisplayTimedTextToPlayer(Tq[Zfw],0.,0.,10.,"You are a contributor!")
call UnitAddItemById(uo[vq[Zfw]],1227894874)
endif
endif
endif
endfunction
function W9 takes nothing returns integer
local integer Q9
if Kg==0 then
if Lg<8191 then
set Lg=Lg+1
set Q9=Lg
set Xg[Q9]=1051
else
call tX("Out of memory: Could not create Playerfile.")
set Q9=0
endif
else
set Kg=Kg-1
set Q9=Jg[Kg]
set Xg[Q9]=1051
endif
set Mq[Q9]=p6()
return Q9
endfunction
function Y9 takes nothing returns integer
local integer T9
if Ag==0 then
if Dg<8191 then
set Dg=Dg+1
set T9=Dg
set Hg[T9]=1050
else
call tX("Out of memory: Could not create PMData.")
set T9=0
endif
else
set Ag=Ag-1
set T9=Pg[Ag]
set Hg[T9]=1050
endif
return T9
endfunction
function jD takes integer hD returns nothing
local integer FD
local integer kD
call E0w(1,"addPlayerProfile1")
set FD=Y9()
set kD=LA()
call mpw(kD,Qq[hD],500000)
set Xq[FD]=Gq[hD]
call Jfw(FD,uew(kD,gq[hD],331))
set Vq[FD]="no"
set Jq[hD]=FD
call kpw(kD)
call ufw(Mq[Hq[hD]],FD)
call E0w(1,"addPlayerProfile2")
call WD(hD)
call DisplayTimedTextToPlayer(Tq[hD],0.,0.,25.,"|cffFFCC00Profile|r created!")
endfunction
function gD takes nothing returns nothing
local integer lD=eq[GetPlayerId(rf[vr])]
local integer bD
local integer yD
local integer pD
local integer eD
local integer qD
local integer aD
local integer nD
local integer dD
local string fD
local integer RD
local integer TD
local string YD
local string GD
call E0w(1,"on PFCodeManager "+gI(Sf[Lq[lD]]==0))
set yD=Sf[Lq[lD]]
set of[yD]=of[yD]-1
set YD=rYw(Of[yD],cf[yD]-of[yD])
call E0w(1,"on PFCodeManager 2 <"+YD+">")
if YD==null then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,25.,"Creating new |cffFFCC00valid savefile.|r")
call E0w(1,"New Playerfile1")
set eD=lD
call E0w(1,"createNewPlayerfile0")
set Hq[lD]=W9()
call E0w(1,"createNewPlayerfile1")
call jD(lD)
call E0w(1,"createNewPlayerfile2")
set qD=Hq[lD]
set yD=qD
set bD=cfw(Mq[qD])
loop
exitwhen Jy[Ly[bD]]==Ky[bD]
set Ly[bD]=Jy[Ly[bD]]
set pD=Dy[Ly[bD]]
if Hg[pD]==0 then
call tX("Double free: object of type PMData")
else
set Pg[Ag]=pD
set Ag=Ag+1
set Hg[pD]=0
endif
endloop
call Ldw(bD)
call Ndw(Mq[yD])
if Xg[qD]==0 then
call tX("Double free: object of type Playerfile")
else
set Jg[Kg]=qD
set Kg=Kg+1
set Xg[qD]=0
endif
call E0w(1,"createNewPlayerfile3")
set Hq[eD]=0
call E0w(1,"createNewPlayerfile4")
set Jq[eD]=0
call CTw(Lq[lD])
set Lq[lD]=0
call E0w(1,"New Playerfile2")
call E0w(1,"check playerfile")
if Zq[lD]then
call Dsw(lD,"playerdata",Filter(Cv))
endif
call E0w(1,"New Playerfile3")
elseif YD==Nq then
call DisplayTimedTextToPlayer(Tq[lD],0.,0.,25.,"Found a |cffFFCC00valid savefile.|r")
set eD=W9()
set pD=eD
set bD=yD
if wp[Mq[eD]]>0 then
call Ndw(Mq[eD])
set Mq[eD]=p6()
endif
loop
exitwhen of[bD]<=1
set yD=Y9()
set of[bD]=of[bD]-1
set Xq[yD]=rYw(Of[bD],cf[bD]-of[bD])
set of[bD]=of[bD]-1
set Cq[yD]=rYw(Of[bD],cf[bD]-of[bD])
set of[bD]=of[bD]-1
set Vq[yD]=rYw(Of[bD],cf[bD]-of[bD])
call E0w(1,"PMData load: hash <"+Xq[yD]+"> exp: <"+Cq[yD]+"> admin: <"+Vq[yD]+">")
call ufw(Mq[pD],yD)
endloop
set Hq[lD]=eD
set bD=cfw(Mq[eD])
loop
exitwhen Jy[Ly[bD]]==Ky[bD]
set Ly[bD]=Jy[Ly[bD]]
set nD=Dy[Ly[bD]]
call E0w(1,"pdchash: "+Gq[lD]+" loaded hash: "+Xq[nD])
if Xq[nD]==Gq[lD]then
call DisplayTimedTextToPlayer(Tq[lD],0.,0.,25.,"Found a profile for |cffFFCC00"+gq[lD]+"|r")
set yD=lD
set pD=nD
set eD=LA()
set qD=eD
set GD=Cq[nD]
set aD=DA(gq[lD])+24163
set YD=GD
set nD=StringLength(GD)-1
set dD=nU()
set gs[Si[eD]]=dD
loop
set fD=SubString(YD,nD,nD+1)
set RD=0
set GD="0aUb1GLwR2kHvP3CQIM4npFs5iSW6tzAr7TNxo8JXVjy9OcdEfBKgqeuYDhmlZ"
set TD=StringLength("0aUb1GLwR2kHvP3CQIM4npFs5iSW6tzAr7TNxo8JXVjy9OcdEfBKgqeuYDhmlZ")
loop
exitwhen not(RD<TD and fD!=SubString(GD,RD,RD+1))
set RD=RD+1
endloop
set Fs[dD]=RD
if nD<=0 then
exitwhen true
endif
set ks[dD]=nU()
set dD=ks[dD]
set nD=nD-1
endloop
call Xpw(qD,aD,-1)
set nD=Si[qD]
set nD=qU(gs[nD],hs[nD],5001)
call lU(gs[Si[qD]])
if nD==Zpw(qD) then
call E0w(1,"load success")
set qD=Si[eD]
set qD=qU(gs[qD],hs[qD],500001)
call DisplayTextToPlayer(Tq[yD],0.,0.,"|cffDE7B19Save/Load|r :"+"|cff73CE4A[Success]|r - Your Character has been loaded. ("+I2S(qD)+")")
set Jq[yD]=pD
call Ifw(yD)
call E0w(1,"set current xp:"+I2S(Qq[yD]))
set Qq[yD]=qD
call Efw(yD)
call E0w(1,"set new xp:"+I2S(Qq[yD]))
else
call E0w(4,"load failed! your savefile is outdated or broken.")
endif
call kpw(eD)
call CTw(Lq[lD])
set Lq[lD]=0
call Ldw(bD)
return
endif
endloop
call Ldw(bD)
call DisplayTimedTextToPlayer(Tq[lD],0.,0.,25.,"Didn't find a profile for |cffFFCC00"+gq[lD]+"|r - creating new..")
call jD(lD)
set yD=lD
set pD=Jq[lD]
set eD=LA()
set bD=eD
set GD=Cq[pD]
set RD=DA(gq[lD])+24163
set YD=GD
set aD=StringLength(GD)-1
set qD=nU()
set gs[Si[eD]]=qD
loop
set GD=SubString(YD,aD,aD+1)
set nD=0
set fD="0aUb1GLwR2kHvP3CQIM4npFs5iSW6tzAr7TNxo8JXVjy9OcdEfBKgqeuYDhmlZ"
set dD=StringLength("0aUb1GLwR2kHvP3CQIM4npFs5iSW6tzAr7TNxo8JXVjy9OcdEfBKgqeuYDhmlZ")
loop
exitwhen not(nD<dD and GD!=SubString(fD,nD,nD+1))
set nD=nD+1
endloop
set Fs[qD]=nD
if aD<=0 then
exitwhen true
endif
set ks[qD]=nU()
set qD=ks[qD]
set aD=aD-1
endloop
call Xpw(bD,RD,-1)
set qD=Si[bD]
set qD=qU(gs[qD],hs[qD],5001)
call lU(gs[Si[bD]])
if qD==Zpw(bD) then
call E0w(1,"load success")
set bD=Si[eD]
set bD=qU(gs[bD],hs[bD],500001)
call DisplayTextToPlayer(Tq[yD],0.,0.,"|cffDE7B19Save/Load|r :"+"|cff73CE4A[Success]|r - Your Character has been loaded. ("+I2S(bD)+")")
set Jq[yD]=pD
call Ifw(yD)
call E0w(1,"set current xp:"+I2S(Qq[yD]))
set Qq[yD]=bD
call Efw(yD)
call E0w(1,"set new xp:"+I2S(Qq[yD]))
else
call E0w(4,"load failed! your savefile is outdated or broken.")
endif
call kpw(eD)
call CTw(Lq[lD])
set Lq[lD]=0
endif
endfunction
function OD takes nothing returns nothing
call gD()
endfunction
function OE takes nothing returns nothing
set Wr=Wr+10.
endfunction
function OI takes nothing returns boolean
return true
endfunction
function OOw takes nothing returns nothing
local unit iOw=GetTriggerUnit()
local integer SOw=GetUnitUserData(iOw)
local integer cOw=GetUnitUserData(gN(GetTriggeringTrigger()))
local boolean oOw
if SOw>0 and Ic[SOw]==Ic[cOw]then
set oOw=GetUnitAbilityLevel(iOw,1093677131)>0
else
set oOw=false
endif
if oOw then
set cOw=mT[SOw]
if cOw>=741 and cOw<=766 then
set cOw=mT[SOw]
set oOw=not(cOw>=754 and cOw<=757)
else
set oOw=false
endif
if oOw and mT[SOw]!=714 then
call kqw(SOw)
endif
endif
set iOw=null
endfunction
function OSw takes nothing returns nothing
local integer oSw=GetUnitUserData(GetTriggerUnit())
local integer cSw=GetUnitUserData(gN(GetTriggeringTrigger()))
set oSw=mT[oSw]
if oSw>=770 and oSw<=775 then
call SetTextTagVisibility(Kf[cSw],true)
set Xf[cSw]=false
endif
endfunction
function OX takes nothing returns boolean
set do=D1()
return true
endfunction
function OZ takes nothing returns boolean
set Os=null
return true
endfunction
function www takes rect Hww returns integer
local integer Jww
local integer Kww
local trigger Lww
local region Xww
local integer Cww
local integer Vww
local player Bww_2
local integer Nww_2
local fogstate Mww
if sh==0 then
if th<8191 then
set th=th+1
set Cww=th
else
call tX("Out of memory: Could not create RegionData.")
set Cww=0
endif
else
set sh=sh-1
set Cww=rh[sh]
endif
set Jww=Cww
set Kww=Cww
set Ua[Cww]=p6()
set Ia[Cww]=D1()
set Pa[Cww]=0
set Da[Cww]=3.
set Ha[Cww]=1.
set Ja[Cww]=1.
set Ka[Cww]=1.75
set La[Cww]=0.
set Xa[Cww]=0.
set Ca[Cww]=-0.8
set Va[Cww]=false
set Ba[Cww]=0
set Na[Cww]=false
set Ma[Cww]=false
set wn[Cww]=0
set Aa[Cww]=Hww
if Hww!=null then
set Lww=CreateTrigger()
set Xww=CreateRegion()
call RegionAddRect(Xww,Hww)
call TriggerRegisterEnterRegion(Lww,Xww,null)
call MTw(fO,GetHandleId(Lww),GetHandleId(Hww))
call TriggerAddAction(Lww,wQ)
call MTw(ka,GetHandleId(Hww),Cww)
set Vww=tfw(aq)
loop
exitwhen Jy[Vy[Vww]]==Cy[Vww]
set Vy[Vww]=Jy[Vy[Vww]]
set Nww_2=Dy[Vy[Vww]]
set Cww=Yq[Nww_2]
set Bww_2=Tq[Nww_2]
set Hww=Aa[Kww]
if wh==0 then
if uh<8191 then
set uh=uh+1
set Nww_2=uh
else
call tX("Out of memory: Could not create FogData.")
set Nww_2=0
endif
else
set wh=wh-1
set Nww_2=Mg[wh]
endif
set Wa[Nww_2]=Hww
set Ea[Nww_2]=Bww_2
set Qa[Nww_2]=jq[eq[GetPlayerId(Bww_2)]]==0
if Qa[Nww_2]then
set Mww=FOG_OF_WAR_VISIBLE
if ma[Nww_2]!=Mww then
set ma[Nww_2]=Mww
if va[Nww_2]!=null then
call DestroyFogModifier(va[Nww_2])
endif
set va[Nww_2]=CreateFogModifierRect(Ea[Nww_2],ma[Nww_2],Wa[Nww_2],false,false)
call FogModifierStart(va[Nww_2])
endif
else
set Mww=FOG_OF_WAR_MASKED
if ma[Nww_2]!=Mww then
set ma[Nww_2]=Mww
if va[Nww_2]!=null then
call DestroyFogModifier(va[Nww_2])
endif
set va[Nww_2]=CreateFogModifierRect(Ea[Nww_2],ma[Nww_2],Wa[Nww_2],false,false)
call FogModifierStart(va[Nww_2])
endif
endif
if Cww<0 or Cww>=12 then
call tX("Index out of Bounds")
elseif Cww<=5 then
if Cww<=2 then
if Cww<=1 then
if Cww<=0 then
set TF[Kww]=Nww_2
else
set YF[Kww]=Nww_2
endif
else
set GF[Kww]=Nww_2
endif
elseif Cww<=4 then
if Cww<=3 then
set gF[Kww]=Nww_2
else
set hF[Kww]=Nww_2
endif
else
set FF[Kww]=Nww_2
endif
elseif Cww<=8 then
if Cww<=7 then
if Cww<=6 then
set kF[Kww]=Nww_2
else
set jF[Kww]=Nww_2
endif
else
set xF[Kww]=Nww_2
endif
elseif Cww<=10 then
if Cww<=9 then
set vF[Kww]=Nww_2
else
set mF[Kww]=Nww_2
endif
else
set QF[Kww]=Nww_2
endif
endloop
set Cww=tfw(nq)
loop
exitwhen Jy[Vy[Cww]]==Cy[Cww]
set Vy[Cww]=Jy[Vy[Cww]]
set Nww_2=Dy[Vy[Cww]]
set Vww=Yq[Nww_2]
set Bww_2=Tq[Nww_2]
set Hww=Aa[Kww]
if wh==0 then
if uh<8191 then
set uh=uh+1
set Nww_2=uh
else
call tX("Out of memory: Could not create FogData.")
set Nww_2=0
endif
else
set wh=wh-1
set Nww_2=Mg[wh]
endif
set Wa[Nww_2]=Hww
set Ea[Nww_2]=Bww_2
set Qa[Nww_2]=jq[eq[GetPlayerId(Bww_2)]]==0
if Qa[Nww_2]then
set Mww=FOG_OF_WAR_VISIBLE
if ma[Nww_2]!=Mww then
set ma[Nww_2]=Mww
if va[Nww_2]!=null then
call DestroyFogModifier(va[Nww_2])
endif
set va[Nww_2]=CreateFogModifierRect(Ea[Nww_2],ma[Nww_2],Wa[Nww_2],false,false)
call FogModifierStart(va[Nww_2])
endif
else
set Mww=FOG_OF_WAR_MASKED
if ma[Nww_2]!=Mww then
set ma[Nww_2]=Mww
if va[Nww_2]!=null then
call DestroyFogModifier(va[Nww_2])
endif
set va[Nww_2]=CreateFogModifierRect(Ea[Nww_2],ma[Nww_2],Wa[Nww_2],false,false)
call FogModifierStart(va[Nww_2])
endif
endif
if Vww<0 or Vww>=12 then
call tX("Index out of Bounds")
elseif Vww<=5 then
if Vww<=2 then
if Vww<=1 then
if Vww<=0 then
set TF[Kww]=Nww_2
else
set YF[Kww]=Nww_2
endif
else
set GF[Kww]=Nww_2
endif
elseif Vww<=4 then
if Vww<=3 then
set gF[Kww]=Nww_2
else
set hF[Kww]=Nww_2
endif
else
set FF[Kww]=Nww_2
endif
elseif Vww<=8 then
if Vww<=7 then
if Vww<=6 then
set kF[Kww]=Nww_2
else
set jF[Kww]=Nww_2
endif
else
set xF[Kww]=Nww_2
endif
elseif Vww<=10 then
if Vww<=9 then
set vF[Kww]=Nww_2
else
set mF[Kww]=Nww_2
endif
else
set QF[Kww]=Nww_2
endif
endloop
endif
set Lww=null
set Xww=null
set Bww_2=null
set Mww=null
return Jww
endfunction
function Oww takes nothing returns boolean
set ka=D1()
set Za=www(null)
return true
endfunction
function P1 takes nothing returns boolean
set Kl=CreateGroup()
return true
endfunction
function PI takes nothing returns boolean
set Ot=D1()
return true
endfunction
function PN takes nothing returns nothing
call TriggerRegisterUnitEvent(YO,Up,EVENT_UNIT_DAMAGED)
endfunction
function Q2 takes nothing returns nothing
call x2(Acw(GetExpiredTimer()))
endfunction
function Q7 takes nothing returns boolean
return true
endfunction
function QI takes nothing returns nothing
local unit jI=gN(GetTriggeringTrigger())
local integer xI=GetUnitUserData(GetTriggerUnit())
local integer vI=GetUnitUserData(jI)
local integer mI=mT[xI]
if mI>=741 and mI<=766 then
call SetUnitMoveSpeed(uo[xI],hi[ct[vI]])
call SetUnitMoveSpeed(Fn[xI],hi[ct[vI]])
endif
set jI=null
endfunction
function Qrw takes nothing returns boolean
set Id=StringLength("0123456789")
return true
endfunction
function Qsw takes nothing returns boolean
local integer msw=0
loop
exitwhen msw>210
set Hd[msw]=""
set Jd[msw]=0
set msw=msw+1
endloop
return true
endfunction
function R9 takes nothing returns boolean
return GetUnitTypeId(GetFilterUnit())==1848651841
endfunction
function Row takes nothing returns boolean
call n0w(1211117633)
call n0w(1093678914)
call n0w(1093678913)
call n0w(1093678937)
call n0w(1093678406)
call n0w(1093678411)
call n0w(1093678407)
call n0w(1093678410)
call n0w(1093678413)
call n0w(1093678414)
call n0w(1093678408)
call n0w(1093678416)
call n0w(1093678412)
call n0w(1093678409)
call n0w(1093678415)
call n0w(1093678915)
call n0w(1093678933)
return true
endfunction
function Rrw takes nothing returns boolean
return true
endfunction
function Rww takes nothing returns boolean
call lYw(mR,0,ConvertFogState(bdw(rn,GetSpellAbilityId())))
return TriggerEvaluate(LoadTriggerHandle(lf,mR,0))
endfunction
function S7 takes nothing returns boolean
return true
endfunction
function SK takes nothing returns boolean
return true
endfunction
function Srw takes nothing returns nothing
local timer srw=GetExpiredTimer()
local integer trw=Acw(srw)
local boolean irw
if td[trw]!=null then
call AttachSoundToUnit(rd[trw],td[trw])
endif
if Mn[trw]!=0. then
set irw=wd[trw]!=0.
else
set irw=false
endif
if irw then
call SetSoundPosition(rd[trw],Mn[trw],wd[trw],ud[trw])
endif
call SetSoundVolume(rd[trw],100)
if id[trw]!=null then
if GetLocalPlayer()==id[trw]then
call StartSound(rd[trw])
endif
else
call StartSound(rd[trw])
endif
call Kcw(srw)
set srw=Hcw()
call MTw(cR,GetHandleId(srw),trw)
call TimerStart(srw,Kn[sd[trw]]*0.001,false,OQ)
set srw=null
endfunction
function Suw takes nothing returns boolean
set fn=erw("Sound\\Dialogue\\Extra\\MuradinTaunt1.mp3",false)
call fww(EVENT_PLAYER_UNIT_SELL_ITEM,cQ)
call n0w(1848651841)
call n0w(1093678391)
call n0w(1093677110)
call n0w(1093677361)
call n0w(1093678393)
call n0w(1093678392)
call n0w(1093678401)
call n0w(1093679158)
call n0w(1093679159)
call n0w(1093677400)
call n0w(1093677616)
call n0w(1093677893)
call n0w(1093678931)
call n0w(1093678642)
call n0w(1093678914)
call n0w(1093678913)
call n0w(1093678936)
call n0w(1093678935)
call n0w(1093678671)
call n0w(1093679170)
call n0w(1093679169)
call n0w(1093679171)
call n0w(1093679174)
call n0w(1093679175)
return true
endfunction
function TE takes nothing returns nothing
local rect dE=bj_mapInitialPlayableArea
local location pE=Location(GetRectCenterX(dE),GetRectCenterY(dE))
local real fE=GetLocationX(pE)
local real RE=GetLocationY(pE)
local integer eE=R2I(100.*I2R(255)*0.01)
local integer qE
local integer aE
local integer nE
if eE<0 then
set eE=0
elseif eE>255 then
set eE=255
endif
set qE=R2I(100.*I2R(255)*0.01)
if qE<0 then
set qE=0
elseif qE>255 then
set qE=255
endif
set aE=R2I(100.*I2R(255)*0.01)
if aE<0 then
set aE=0
elseif aE>255 then
set aE=255
endif
set nE=R2I(100*I2R(255)*0.01)
if nE<0 then
set nE=0
elseif nE>255 then
set nE=255
endif
call CreateUbersplat(fE,RE,"NGOL",eE,qE,aE,nE,false,false)
set pE=null
set dE=null
endfunction
function Trw takes nothing returns boolean
set Yd=0.024/0.0023
set Gd=16.
set gd=0.
return true
endfunction
function Tww takes nothing returns boolean
return true
endfunction
function U1 takes nothing returns nothing
set Jl=Jl+0.030
endfunction
function UD takes nothing returns boolean
local integer ZD
set li=255
set bi=255
set yi=255
set pi=255
set ei=0
set qi=0
set ai=0
set ni=0
set ZD=0
loop
exitwhen ZD>9
set di[ZD]=I2S(ZD)
set ZD=ZD+1
endloop
set di[10]="A"
set di[11]="B"
set di[12]="C"
set di[13]="D"
set di[14]="E"
set di[15]="F"
set fi=ltw()
set ZD=0
loop
exitwhen ZD>9
call MTw(fi,StringHash(I2S(ZD)),ZD)
set ZD=ZD+1
endloop
call MTw(fi,StringHash("A"),10)
call MTw(fi,StringHash("B"),11)
call MTw(fi,StringHash("C"),12)
call MTw(fi,StringHash("D"),13)
call MTw(fi,StringHash("E"),14)
call MTw(fi,StringHash("F"),15)
set Ri[0]=255
set Ti[0]=2
set Yi[0]=2
set Ri[1]=0
set Ti[1]=65
set Yi[1]=255
set Ri[2]=27
set Ti[2]=229
set Yi[2]=184
set Ri[3]=83
set Ti[3]=0
set Yi[3]=128
set Ri[4]=255
set Ti[4]=252
set Yi[4]=0
set Ri[5]=254
set Ti[5]=137
set Yi[5]=13
set Ri[6]=31
set Ti[6]=191
set Yi[6]=0
set Ri[7]=228
set Ti[7]=90
set Yi[7]=175
set Ri[8]=148
set Ti[8]=149
set Yi[8]=150
set Ri[9]=125
set Ti[9]=190
set Yi[9]=241
set Ri[10]=15
set Ti[10]=97
set Yi[10]=69
set Ri[11]=77
set Ti[11]=41
set Yi[11]=3
return true
endfunction
function A0w takes integer Z0w returns nothing
local real I0w=Wc[Z0w]
local real P0w=Ec[Z0w]
local real U0w=ga[Z0w]
set Qc[Z0w]=Qc[Z0w]*U0w
set Wc[Z0w]=I0w*U0w
set Ec[Z0w]=P0w*U0w
set xc[Z0w]=Ylw(xc[Z0w],vc[Z0w],mc[Z0w],Qc[Z0w],Wc[Z0w],Ec[Z0w])
set vc[Z0w]=uk
set mc[Z0w]=rk
set I0w=xc[Z0w]
set P0w=vc[Z0w]
set U0w=mc[Z0w]
set xc[Z0w]=I0w
set vc[Z0w]=P0w
set mc[Z0w]=U0w
call WOw(xl[kl[Z0w]],I0w,P0w,U0w)
if Ya[Z0w]then
set Fa[Z0w]=Fa[Z0w]-0.030
if Fa[Z0w]<=0. then
call kqw(Z0w)
return
endif
endif
if Ga[Z0w]then
if pbw(fa[Z0w],Ra[Z0w],Ta[Z0w],xc[Z0w],vc[Z0w],mc[Z0w])>ha[Z0w]then
call kqw(Z0w)
endif
endif
endfunction
function CC takes real HC,real JC,player KC,real LC returns integer
local integer XC
if xT==0 then
if vT<8191 then
set vT=vT+1
set XC=vT
set mT[XC]=747
else
call tX("Out of memory: Could not create TankKiller.")
set XC=0
endif
else
set xT=xT-1
set XC=jT[xT]
set mT[XC]=747
endif
call bV(XC,HC,JC,0.,KC,1747988529,LC,80.,80.)
return XC
endfunction
function CD takes integer ID,integer PD,integer AD,integer DD,integer HD,integer JD,integer KD,integer LD,real XD returns integer
set ik=R2I(HD*XD+ID*(1.-XD)+0.5)
set Sk=R2I(JD*XD+PD*(1.-XD)+0.5)
set ck=R2I(KD*XD+AD*(1.-XD)+0.5)
set ok=R2I(LD*XD+DD*(1.-XD)+0.5)
return ik
endfunction
function FC takes real TC,real YC,player GC,real gC returns integer
local integer hC=Vqw()
call hww(Pa[aww(TC,YC)])
call bV(hC,TC,YC,0.,GC,LF,gC,72.,76)
return hC
endfunction
function KI takes integer AI returns nothing
local integer DI
local integer HI
local unit JI
call A0w(AI)
set Dc[AI]=false
set HI=Gww(AI)
set JI=lt[AI]
if HI!=aww(GetUnitX(JI),GetUnitY(JI)) then
call kqw(AI)
endif
set DI=cfw(Wo)
loop
exitwhen Jy[Ly[DI]]==Ky[DI]
set Ly[DI]=Jy[Ly[DI]]
set HI=Dy[Ly[DI]]
if pbw(xc[AI],vc[AI],mc[AI],xc[HI],vc[HI],mc[HI])<Zc[AI]*Zc[AI]then
call UnitDamageTarget(lt[AI],uo[HI],100,false,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL,WEAPON_TYPE_WHOKNOWS)
call kqw(AI)
call Ldw(DI)
set JI=null
return
endif
endloop
call Ldw(DI)
set JI=null
endfunction
function Klw takes real Plw,real Alw,real Dlw,real Hlw returns real
local real Jlw=Wlw(Plw,Alw,Dlw)
if Jlw==0.0 then
call E0w(3,"vector.setLength error: The length of the vector is 0.0!")
set Tk=0.
set Yk=0.
set Gk=0.
return Tk
endif
set Jlw=Hlw/Jlw
set Tk=Plw*Jlw
set Yk=Alw*Jlw
set Gk=Dlw*Jlw
return Tk
endfunction
function NRw takes integer XRw,real CRw,real VRw,real BRw returns nothing
set xc[XRw]=CRw
set vc[XRw]=VRw
set mc[XRw]=BRw
call GOw(uo[XRw],CRw,VRw)
call GOw(Fn[XRw],CRw,VRw)
endfunction
function OC takes real tC,real iC,player SC,real cC returns integer
local integer oC=Kqw()
call hww(Pa[aww(tC,iC)])
call bV(oC,tC,iC,0.,SC,XF,cC,92.,69)
return oC
endfunction
function hqw takes integer Tqw,real Yqw returns nothing
local real Gqw=Wc[Tqw]
local real gqw=Ec[Tqw]
set Qc[Tqw]=Qc[Tqw]*Yqw
set Wc[Tqw]=Gqw*Yqw
set Ec[Tqw]=gqw*Yqw
endfunction
function wbw takes real Llw,real Xlw,real Clw,real Vlw,real Blw,real Nlw returns real
local real Mlw=Ilw(Vlw,Blw,Nlw)
if Mlw==0.0 then
set Jk=0.
set Kk=0.
set Lk=0.
return Jk
endif
set Mlw=(Llw*Vlw+Xlw*Blw+Clw*Nlw)/Mlw
set Jk=Vlw*Mlw
set Kk=Blw*Mlw
set Lk=Nlw*Mlw
return Jk
endfunction
function v8 takes integer T8,integer Y8 returns nothing
local real j8=qqw(Y8)
local real h8=jk
local real G8
local real g8
local real F8
local real k8
local real x8
call MoveLocation(Pf,j8-2.,h8)
set G8=GetLocationZ(Pf)
call MoveLocation(Pf,j8+2.,h8)
set G8=G8-GetLocationZ(Pf)
call MoveLocation(Pf,j8,h8-2.)
set g8=GetLocationZ(Pf)
call MoveLocation(Pf,j8,h8+2.)
set g8=g8-GetLocationZ(Pf)
set j8=4
set G8=G8*j8
set g8=g8*j8
set h8=j8*j8
set F8=Wlw(G8,g8,h8)
set k8=0.
set j8=0.
set x8=0.
if F8!=0.0 then
set k8=G8/F8
set j8=g8/F8
set x8=h8/F8
endif
if Qc[Y8]*k8+Wc[Y8]*j8+Ec[Y8]*x8>0. then
return
endif
set h8=wbw(Qc[Y8],Wc[Y8],Ec[Y8],k8,j8,x8)
set G8=Kk
set g8=Lk
set j8=(-1.)-De[T8]
set h8=h8*j8
set G8=G8*j8
set g8=g8*j8
if g8>4. then
set Qc[Y8]=Ylw(Qc[Y8],Wc[Y8],Ec[Y8],h8,G8,g8)
set Wc[Y8]=uk
set Ec[Y8]=rk
call mqw(Y8)
else
call hqw(Y8,Ae[T8]*h4(1.,0.85,0.,He[T8]/250))
endif
endfunction
function R8 takes integer a8 returns nothing
local real n8
local real d8
local integer f8
call A0w(a8)
set n8=qqw(a8)
set d8=xk
call MoveLocation(Pf,n8,jk)
set Pe[a8]=GetLocationZ(Pf)
if d8<=Pe[a8]+.2 then
call v8(a8,a8)
else
set d8=h4(0.930,0.985,1.,He[a8]/250)
set n8=h4(0.1,0.875,1.,He[a8]/250)
if Ie[a8]then
set f8=Gww(a8)
set Qc[a8]=Ylw(Qc[a8],Wc[a8],Ec[a8],La[f8]*n8,Xa[f8]*n8,Ca[f8]*n8)
set Wc[a8]=uk
set Ec[a8]=rk
call mqw(a8)
endif
call hqw(a8,d8)
endif
call lRw(a8,Fbw(xc[a8],vc[a8],mc[a8],Ylw(xc[a8],vc[a8],mc[a8],Qc[a8],Wc[a8],Ec[a8]),uk,rk))
set n8=Atan2(mc[a8]+Ec[a8]-mc[a8],2.)
set f8=kl[a8]
set a8=R2I(n8*57.295779513+90.5)
if a8>=180 then
set a8=179
elseif a8<0 then
set a8=0
endif
call SetUnitAnimationByIndex(xl[f8],a8)
endfunction
function Sbw takes real ubw,real rbw,real sbw,real tbw,real ibw returns real
set ubw=tbw-ubw
set rbw=ibw-rbw
return ubw*ubw+rbw*rbw
endfunction
function q4 takes player o4,integer O4,integer l4,string b4,widget y4 returns boolean
local boolean p4
local unit e4
set Cl=O4
call UnitAddAbility(Xl,Cl)
if l4>1 then
call SetUnitAbilityLevel(Xl,Cl,l4)
endif
if o4!=null then
call SetUnitOwner(Xl,o4,false)
endif
call GOw(Xl,GetWidgetX(y4),GetWidgetY(y4))
set p4=IssueTargetOrderById(Xl,OrderId(b4),y4)
set e4=Xl
call SetUnitOwner(e4,Gs,false)
call UnitRemoveAbility(e4,Cl)
set e4=null
return p4
endfunction
function YYw takes integer qYw,integer aYw returns nothing
local integer nYw=GR[qYw]
local real dYw
local real fYw
local player RYw
local real TYw
if nYw==0 then
call naw(aYw,qYw)
elseif nYw==1 then
call q4(Gs,1093678666,R2I(gR[qYw]),"thunderbolt",uo[aYw])
elseif nYw==5 then
set RYw=Ic[aYw]
set TYw=hR[qYw]
set qYw=GetPlayerId(RYw)
set wi[qYw]=wi[qYw]+TYw
call ForceAddPlayer(Mt,RYw)
elseif nYw==2 then
call eaw(aYw,true)
elseif nYw==3 then
set qYw=ModuloInteger(R2I(hR[qYw]/20.),10)
call E0w(0,"Level: "+I2S(qYw))
if qYw>5 then
call q4(Gs,1093677897,qYw-5,"bloodlust",uo[aYw])
elseif qYw<5 then
call q4(Gs,1093677898,qYw,"bloodlust",uo[aYw])
endif
elseif nYw==4 then
call IssueImmediateOrder(uo[aYw],"stop")
set TYw=QZ(qYw)
set dYw=lk
set fYw=bk
if Sbw(TYw,dYw,fYw,xc[qYw],vc[qYw])<400 then
if FR[qYw]then
set fYw=Fbw(xc[qYw],vc[qYw],mc[qYw],xc[aYw],vc[aYw],mc[aYw])-180*0.017453293
else
set fYw=Fbw(xc[qYw],vc[qYw],mc[qYw],xc[aYw],vc[aYw],mc[aYw])
endif
else
set fYw=Fbw(xc[qYw],vc[qYw],mc[qYw],TYw,dYw,fYw)
endif
set dYw=hR[qYw]
set TYw=Cos(fYw)*dYw
set dYw=Sin(fYw)*dYw
set Qc[aYw]=Ylw(Qc[aYw],Wc[aYw],Ec[aYw],TYw,dYw,0.)
set Wc[aYw]=uk
set Ec[aYw]=rk
call mqw(aYw)
endif
set RYw=null
endfunction
function ZC takes real vC,real mC,player QC,real WC returns integer
local integer EC
if xT==0 then
if vT<8191 then
set vT=vT+1
set EC=vT
set mT[EC]=746
else
call tX("Out of memory: Could not create SmallRandomKiller.")
set EC=0
endif
else
set xT=xT-1
set EC=jT[xT]
set mT[EC]=746
endif
call bV(EC,vC,mC,0.,QC,1966092342,WC,68.,68.)
return EC
endfunction
function e0w takes integer i0w,real S0w,real c0w,real o0w,real O0w,real l0w,real b0w returns real
local real y0w=o0w-S0w
local real p0w=O0w-c0w
if (o0w-S0w)*(b0w-c0w)-(O0w-c0w)*(l0w-S0w)>0. then
set O0w=-p0w
set o0w=SquareRoot(O0w*O0w+y0w*y0w)
set S0w=0.
set c0w=0.
if o0w!=0.0 then
set S0w=O0w/o0w
set c0w=y0w/o0w
endif
set yk=S0w
set pk=c0w
set ek=0.
return yk
endif
set S0w=-y0w
set c0w=SquareRoot(p0w*p0w+S0w*S0w)
set O0w=0.
set o0w=0.
if c0w!=0.0 then
set O0w=p0w/c0w
set o0w=S0w/c0w
endif
set yk=O0w
set pk=o0w
set ek=0.
return yk
endfunction
function qC takes real lC,real bC,player yC,real pC returns integer
local integer eC
if xT==0 then
if vT<8191 then
set vT=vT+1
set eC=vT
set mT[eC]=751
else
call tX("Out of memory: Could not create BigRandomKiller.")
set eC=0
endif
else
set xT=xT-1
set eC=jT[xT]
set mT[eC]=751
endif
call bV(eC,lC,bC,0.,yC,1966092344,pC,88.,88.)
return eC
endfunction
function qlw takes real clw,real olw,real Olw,real llw,real blw,real ylw returns real
local real plw=blw-Olw
local real elw=ylw-llw
set elw=plw*plw+elw*elw
if elw==0. then
set clw=Olw-clw
set olw=llw-olw
return clw*clw+olw*olw
endif
set elw=((clw-Olw)*(blw-Olw)+(olw-llw)*(ylw-llw))/elw
if elw<0. then
set clw=Olw-clw
set olw=llw-olw
return clw*clw+olw*olw
endif
if elw>1. then
set clw=blw-clw
set olw=ylw-olw
return clw*clw+olw*olw
endif
set clw=Olw+elw*(blw-Olw)-clw
set olw=llw+elw*(ylw-llw)-olw
return clw*clw+olw*olw
endfunction
function uRw takes integer Xfw,real Cfw,real Vfw,real Bfw,real Nfw,real Mfw,real wRw returns real
set Nfw=wbw(Cfw,Vfw,Bfw,Nfw,Mfw,0.)
set Mfw=Kk
set wRw=-wRw
set Mfw=Mfw*wRw
set dk=Cfw+Nfw*wRw
set fk=Vfw+Mfw
set Rk=Bfw
return dk
endfunction
function uww takes real www_2 returns real
if www_2>=0. then
return www_2
else
return -www_2
endif
endfunction
function fB takes integer yB returns nothing
local hashtable qB=yf
local integer pB=sww(xc[yB]/128.)
local integer eB
local real aB
local real nB
local boolean dB
if uI(LoadInteger(qB,pB,sww(vc[yB]/128.)),2) then
set dB=uww(Ec[yB])>5.
else
set dB=false
endif
if dB then
set pB=Gww(yB)
set eB=GetTerrainType(xc[yB],vc[yB])
set nB=GetUnitFacing(uo[yB])*0.017453293
if eB==1315529573 then
set Qc[yB]=0.
set Wc[yB]=0.
set No[yB]=Cos(nB)*Da[pB]*3.3
set Mo[yB]=Sin(nB)*Da[pB]*3.3
endif
set Ec[yB]=-(Ec[yB]*1.25)
set qB=null
return
endif
call SetUnitPropWindow(uo[yB],60.)
set mc[yB]=.1
set aB=Wc[yB]
set nB=Ec[yB]
set Qc[yB]=Qc[yB]*0.175
set Wc[yB]=aB*0.175
set Ec[yB]=nB*0.175
set Ec[yB]=0.
set qB=null
endfunction
function wB takes integer IV returns nothing
local unit PV=uo[IV]
local real DV=GetUnitX(PV)
local real AV=GetUnitY(PV)
local real JV=vc[IV]
local real HV
local real KV
local real LV
local integer XV
local integer CV
local integer VV
local integer BV
local hashtable NV
local boolean MV
set Vo[IV]=DV-xc[IV]
set Bo[IV]=AV-JV
set JV=mc[IV]
set xc[IV]=DV
set vc[IV]=AV
set mc[IV]=JV
call qqw(IV)
set AV=xk
if AV<=qO[IV]+.45 then
if Pc[IV]then
set Pc[IV]=false
call fB(IV)
endif
call hqw(IV,aO[IV])
set AV=jaw(IV)
set DV=ak
set HV=ulw(xc[IV],vc[IV],Atan2(DV,AV)-90.*0.017453293,18.)
set JV=tk
set KV=ulw(xc[IV],vc[IV],Atan2(DV,AV)+90.*0.017453293,18.)
set LV=tk
set VV=GetTerrainType(HV,JV)
set XV=GetTerrainType(KV,LV)
set CV=Gww(IV)
set BV=-1
call hww(Pa[CV])
if VV==KF then
call hww(Pa[CV])
if XV==KF then
call hww(Pa[CV])
set VV=KF
else
set VV=XV
set BV=2
endif
else
call hww(Pa[CV])
if XV==KF then
set VV=VV
set BV=1
else
set VV=GetTerrainType(xc[IV],vc[IV])
set BV=3
endif
endif
if (oO[IV]==1 and BV==2)or(oO[IV]==2 and BV==1) then
call hww(Pa[CV])
set VV=KF
endif
set oO[IV]=BV
set Ao[IV]=false
set JV=Mo[IV]
set No[IV]=No[IV]*0.99
set Mo[IV]=JV*0.99
call hww(Pa[CV])
if VV==KF or VV==1231186786 or VV==1232233067 then
if tO[IV]then
if Ma[CV]then
set JV=ulw(xc[IV],vc[IV],Atan2(DV,AV),18.)
set KV=tk
set DV=ulw(xc[IV],vc[IV],Atan2(DV,AV),-18.)
set AV=tk
set BV=GetTerrainType(JV,KV)
set VV=GetTerrainType(DV,AV)
call hww(Pa[CV])
if VV==KF or VV==1231186786 or VV==1232233067 then
call hww(Pa[CV])
set MV=BV==KF or BV==1231186786 or BV==1232233067
else
set MV=false
endif
if MV then
set Ao[IV]=true
call naw(IV,0)
endif
else
set Ao[IV]=true
call naw(IV,0)
endif
endif
elseif tO[IV] and VV==1315529573 or VV==1231317865 or VV==1198285174 then
set AV=GetUnitFacing(uo[IV])*0.017453293
set No[IV]=Cos(AV)*Da[CV]*3.3
set Mo[IV]=Sin(AV)*Da[CV]*3.3
if not Do[IV]then
set Uc[IV]=1.
set Do[IV]=true
endif
call baw(IV,false)
else
set NV=yf
set CV=sww(xc[IV]/128.)
if uI(LoadInteger(NV,CV,sww(vc[IV]/128.)),3) then
set DV=Wc[IV]
set JV=Ec[IV]
set AV=Bo[IV]
set Qc[IV]=Qc[IV]+Vo[IV]
set Wc[IV]=DV+AV
set Ec[IV]=JV
set DV=Wc[IV]
set AV=Ec[IV]
set Qc[IV]=Qc[IV]*1.0075
set Wc[IV]=DV*1.0075
set Ec[IV]=AV*1.0075
endif
set DV=Wc[IV]
set AV=Ec[IV]
set Qc[IV]=Qc[IV]*0.96
set Wc[IV]=DV*0.96
set Ec[IV]=AV*0.96
set Do[IV]=false
call baw(IV,false)
if VV==1147958883 and(not Jo[IV]) then
call baw(IV,true)
elseif VV==1131442035 then
if not Ho[IV]then
call eaw(IV,true)
endif
endif
endif
if Do[IV]then
set Uc[IV]=Uc[IV]*0.9
else
set AV=Mo[IV]
set No[IV]=No[IV]*0.8
set Mo[IV]=AV*0.8
endif
if Jo[IV]then
if mT[IV]<=773 then
if mT[IV]<=772 then
set AV=GetUnitState(uo[IV],UNIT_STATE_LIFE)
if AV>.405 then
call SetUnitState(uo[IV],UNIT_STATE_LIFE,AV-Ja[Gww(IV)])
elseif tO[IV]then
call naw(IV,0)
endif
else
set DV=GetUnitState(uo[IV],UNIT_STATE_LIFE)
set AV=1.-GetUnitAbilityLevel(uo[IV],1093679185)*0.1
if DV>.405 then
call SetUnitState(uo[IV],UNIT_STATE_LIFE,DV-Ja[Gww(IV)]*AV)
elseif tO[IV]then
call naw(IV,0)
endif
endif
else
set AV=GetUnitState(uo[IV],UNIT_STATE_LIFE)
if AV>.405 then
call SetUnitState(uo[IV],UNIT_STATE_LIFE,AV-Ja[Gww(IV)])
elseif tO[IV]then
call naw(IV,0)
endif
endif
endif
if Ho[IV]then
set AV=GetUnitState(uo[IV],UNIT_STATE_LIFE)
if AV>.405 then
call SetUnitState(uo[IV],UNIT_STATE_LIFE,AV-Ha[Gww(IV)])
elseif tO[IV]then
call naw(IV,0)
endif
endif
else
if not Pc[IV]then
set Pc[IV]=true
call SetUnitPropWindow(uo[IV],0.)
set Do[IV]=false
endif
if eO[IV]then
set CV=Gww(IV)
set Qc[IV]=Ylw(Qc[IV],Wc[IV],Ec[IV],La[CV],Xa[CV],Ca[CV])
set Wc[IV]=uk
set Ec[IV]=rk
call mqw(IV)
endif
endif
set xc[IV]=Ylw(xc[IV],vc[IV],mc[IV],Qc[IV],Wc[IV],Ec[IV])
set vc[IV]=uk
set mc[IV]=rk
set KV=vc[IV]
set JV=mc[IV]
set AV=1.-Uc[IV]
set DV=Mo[IV]*AV
set xc[IV]=xc[IV]+No[IV]*AV
set vc[IV]=KV+DV
set mc[IV]=JV
set AV=vc[IV]
set JV=mc[IV]
set DV=uO[IV]
set xc[IV]=xc[IV]+wO[IV]
set vc[IV]=AV+DV
set mc[IV]=JV
set wO[IV]=0.
set uO[IV]=0.
if Do[IV]then
call Aqw(IV,xc[IV],vc[IV],mc[IV])
else
call gaw(IV,xc[IV],vc[IV],mc[IV])
endif
set PV=null
set NV=null
endfunction
function UK takes nothing returns nothing
local integer qK
local real aK
local real nK
local real dK
local real fK
local real RK
local real TK
local real YK
local group GK
local effect gK
local unit hK
local unit FK
local integer kK
local integer jK
local integer xK
local boolean vK
local boolean mK
local boolean QK
local integer WK
local integer EK
local player ZK
set wo[gc]=Jc
loop
exitwhen wo[gc]==0
set kK=gc
set qK=wo[kK]
set wo[kK]=Nc[wo[kK]]
if not Ac[qK]then
if mT[qK]<=737 then
if mT[qK]<=706 then
if mT[qK]<=700 then
if mT[qK]<=697 then
if mT[qK]<=696 then
if mT[qK]<=695 then
call OL(qK)
elseif H6(xc[qK],vc[qK],mc[qK]) then
call WOw(xl[kl[qK]],xc[qK],vc[qK],mc[qK])
else
set Ac[qK]=true
endif
else
if oo[qK]!=AR or Oo[qK]!=DR then
set EK=kl[qK]
set jK=Wl[EK]
set xK=El[EK]
set kK=Zl[EK]
set QK=Ql[EK]!=li or jK!=bi or xK!=yi or kK!=pi
else
set QK=false
endif
if QK then
set yo[qK]=yo[qK]*0.955+1.05*0.045
call Mnw(kl[qK],CD(145,145,145,145,li,bi,yi,pi,yo[qK]),Sk,ck,ok)
else
call xqw(qK)
endif
endif
elseif mT[qK]<=699 then
if mT[qK]<=698 then
call A0w(qK)
else
call A0w(qK)
if dO[qK]!=yww(qK) then
call naw(nO[qK],0)
call kqw(qK)
endif
endif
else
call A0w(qK)
endif
elseif mT[qK]<=703 then
if mT[qK]<=702 then
if mT[qK]<=701 then
call KI(qK)
else
call R8(qK)
endif
else
call R8(qK)
set RK=Ilw(Qc[qK],Wc[qK],Ec[qK])
call SetUnitTimeScale(xl[kl[qK]],1./RK)
if RK<1. then
set kK=Ys[qK]
set RK=xc[qK]
set nK=vc[qK]
set xc[kK]=RK
set vc[kK]=nK
set mc[kK]=0.
call SetItemVisible(Bl[kK],true)
call GOw(Vl[kK],RK,nK)
call ShowUnit(Vl[kK],true)
if IT==0 then
if PT<8191 then
set PT=PT+1
set xK=PT
set AT[xK]=654
else
call tX("Out of memory: Could not create Closure.")
set xK=0
endif
else
set IT=IT-1
set xK=UT[IT]
set AT[xK]=654
endif
set Ss[xK]=kK
set cs[xK]=RK
set os[xK]=nK
call SA(xK)
set jl[qK]=true
call kqw(qK)
endif
endif
elseif mT[qK]<=705 then
if mT[qK]<=704 then
if Fa[qK]>2. then
call kqw(qK)
elseif Fa[qK]>=1. then
set aK=st[qK]
set nK=tt[qK]
set dK=ut[qK]
set fK=rt[qK]
set YK=xL(St[qK])
set RK=AF
set TK=Fa[qK]-1.
set YK=h4(aK,dK,YK,TK)
set RK=h4(nK,fK,RK,TK)
set xc[qK]=YK
set vc[qK]=RK
set mc[qK]=0.
call WOw(xl[kl[qK]],YK,RK,0.)
set Fa[qK]=Fa[qK]*0.96+2.3*0.040
else
set Fa[qK]=Fa[qK]*0.965+1.2*0.035
set fK=Ns[qK]
set TK=wt[qK]
set YK=tt[qK]
set nK=Fa[qK]
set RK=h4(Bs[qK],Ms[qK],st[qK],nK)
set nK=h4(fK,TK,YK,nK)
set xc[qK]=RK
set vc[qK]=nK
set mc[qK]=0.
call WOw(xl[kl[qK]],RK,nK,0.)
endif
else
call OL(qK)
endif
elseif hT[qK]!=0 then
set kK=hT[qK]
set xc[qK]=xc[kK]
set vc[qK]=vc[kK]
set mc[qK]=mc[kK]
endif
elseif mT[qK]<=717 then
if mT[qK]<=709 then
if mT[qK]<=708 then
if mT[qK]<=707 then
elseif Vb[qK]then
set kK=wy[qK]
set RK=Ylw(xL(Mb[qK]),AF,DF,0.,0.,128.)
call WOw(xl[kK],RK,uk,rk)
if Bb[qK] and(not Pc[Mb[qK]]) and(not Do[Mb[qK]]) and(not Ao[Mb[qK]]) then
set nK=xL(Mb[qK])
set RK=AF
set fK=DF
set xc[qK]=nK
set vc[qK]=RK
set mc[qK]=fK
endif
else
call OL(qK)
endif
endif
elseif mT[qK]<=712 then
if mT[qK]<=711 then
call OL(qK)
else
call PL(qK)
endif
endif
elseif mT[qK]<=730 then
if mT[qK]<=722 then
if mT[qK]<=721 then
call PL(qK)
else
set kK=qK
if YR[qK]<=0.0 then
set hK=uo[qK]
call iK(fR[RR[qK]],GetUnitX(hK),GetUnitY(hK),0.)
call GroupEnumUnitsInRange(Kl,GetUnitX(uo[qK]),GetUnitY(uo[qK]),65.,null)
loop
exitwhen FirstOfGroup(Kl)==null
set GK=Kl
set hK=FirstOfGroup(GK)
call GroupRemoveUnit(GK,hK)
set xK=GetUnitUserData(hK)
set qK=mT[xK]
if qK>=770 and qK<=775 then
call YYw(kK,xK)
endif
endloop
call GroupClear(Kl)
set YR[kK]=TR[kK]
else
set YR[qK]=YR[qK]-0.030
endif
endif
else
call PL(qK)
endif
elseif mT[qK]<=731 then
if UR[qK]<=0.0 then
set RK=QZ(qK)
set nK=RK+0.001
set YK=lk+0.001
set TK=xc[qK]+0.001
set fK=vc[qK]+0.001
set kK=0
set xK=IR[qK]
if xK==1112098635 then
set ZK=Ic[qK]
if ps[qK]!=null then
set hK=ps[qK]
set es[qK]=fbw(xc[qK],vc[qK],mc[qK],GetUnitX(hK),GetUnitY(hK))
endif
set kK=OC(TK,fK,ZK,es[qK])
elseif xK==1397571916 then
set ZK=Ic[qK]
if ps[qK]!=null then
set hK=ps[qK]
set es[qK]=fbw(xc[qK],vc[qK],mc[qK],GetUnitX(hK),GetUnitY(hK))
endif
set kK=FC(TK,fK,ZK,es[qK])
elseif xK==1966092353 then
set ZK=Ic[qK]
if ps[qK]!=null then
set hK=ps[qK]
set es[qK]=fbw(xc[qK],vc[qK],mc[qK],GetUnitX(hK),GetUnitY(hK))
endif
set RK=es[qK]
set kK=Xqw()
call bV(kK,TK,fK,0.,ZK,1966092353,RK,54.,54.)
set kK=kK
elseif xK==1747988529 then
set ZK=Ic[qK]
if ps[qK]!=null then
set hK=ps[qK]
set es[qK]=fbw(xc[qK],vc[qK],mc[qK],GetUnitX(hK),GetUnitY(hK))
endif
set kK=CC(TK,fK,ZK,es[qK])
elseif xK==1966092344 then
set ZK=Ic[qK]
if ps[qK]!=null then
set hK=ps[qK]
set es[qK]=fbw(xc[qK],vc[qK],mc[qK],GetUnitX(hK),GetUnitY(hK))
endif
set kK=qC(TK,fK,ZK,es[qK])
elseif xK==1966092342 then
set ZK=Ic[qK]
if ps[qK]!=null then
set hK=ps[qK]
set es[qK]=fbw(xc[qK],vc[qK],mc[qK],GetUnitX(hK),GetUnitY(hK))
endif
set kK=ZC(TK,fK,ZK,es[qK])
elseif xK==1747988817 then
set ZK=Ic[qK]
if ps[qK]!=null then
set hK=ps[qK]
set es[qK]=fbw(xc[qK],vc[qK],mc[qK],GetUnitX(hK),GetUnitY(hK))
endif
set kK=M9(TK,fK,ZK,es[qK])
elseif xK==1966092359 then
set ZK=Ic[qK]
if ps[qK]!=null then
set hK=ps[qK]
set es[qK]=fbw(xc[qK],vc[qK],mc[qK],GetUnitX(hK),GetUnitY(hK))
endif
set kK=A5(TK,fK,ZK,es[qK])
endif
call IssuePointOrder(Fn[kK],"move",nK,YK)
if PR[qK]==0 then
set UR[qK]=ZR[qK]
elseif PR[qK]==1 then
set UR[qK]=GetRandomReal(0.5,ZR[qK])
endif
else
set UR[qK]=UR[qK]-0.030
endif
else
call PL(qK)
endif
elseif mT[qK]<=761 then
if mT[qK]<=751 then
if mT[qK]<=740 then
if mT[qK]<=739 then
if mT[qK]<=738 then
set kK=qK
set xK=pRw(Gww(qK))
loop
exitwhen Jy[Vy[xK]]==Cy[xK]
set Vy[xK]=Jy[Vy[xK]]
set jK=Dy[Vy[xK]]
set qK=ST[kK]
if qK==0 then
set nK=xc[jK]-xc[kK]
set RK=vc[jK]-vc[kK]
if nK*nK+RK*RK<uT and(not Pc[jK]) then
set TK=COw(xc[jK],vc[jK],xc[kK],vc[kK])
set nK=wO[jK]
set fK=uO[jK]
set RK=Cos(TK)*iT[kK]
set TK=Sin(TK)*iT[kK]
set wO[jK]=nK+RK
set uO[jK]=fK+TK
endif
elseif qK==1 then
set nK=xc[jK]-xc[kK]
set RK=vc[jK]-vc[kK]
if nK*nK+RK*RK<uT then
set TK=COw(xc[jK],vc[jK],xc[kK],vc[kK])
set nK=wO[jK]
set fK=uO[jK]
set RK=Cos(TK)*iT[kK]
set TK=Sin(TK)*iT[kK]
set wO[jK]=nK+RK
set uO[jK]=fK+TK
endif
elseif qK==2 then
if pbw(xc[kK],vc[kK],mc[kK],xc[jK],vc[jK],mc[jK])<uT then
set TK=COw(xc[jK],vc[jK],xc[kK],vc[kK])
set nK=wO[jK]
set fK=uO[jK]
set RK=Cos(TK)*iT[kK]
set TK=Sin(TK)*iT[kK]
set wO[jK]=nK+RK
set uO[jK]=fK+TK
endif
endif
endloop
else
set kK=qK
set xK=pRw(Gww(qK))
loop
exitwhen Jy[Vy[xK]]==Cy[xK]
set Vy[xK]=Jy[Vy[xK]]
set qK=Dy[Vy[xK]]
if mc[qK]<22. then
if xc[qK]>xc[kK]-qR[kK]*128-64. then
set QK=xc[qK]<xc[kK]+qR[kK]*128+64.
else
set QK=false
endif
if QK then
set QK=vc[qK]>vc[kK]-eR[kK]*128-64.
else
set QK=false
endif
if QK then
set QK=vc[qK]<vc[kK]+eR[kK]*128+64.
else
set QK=false
endif
set QK=QK
else
set QK=false
endif
if QK then
set nK=uO[qK]
set RK=hi[yR[kK]]
set fK=nR[kK]*RK
set wO[qK]=wO[qK]+aR[kK]*RK
set uO[qK]=nK+fK
endif
endloop
endif
else
call PL(qK)
endif
elseif mT[qK]<=744 then
if mT[qK]<=743 then
call PL(qK)
set hn[qK]=hn[qK]-0.030
call sTw(qK)
else
call PL(qK)
set hn[qK]=hn[qK]-0.030
call sTw(qK)
set kK=Yp[qK]
set RK=vc[qK]+30.
set wS[kK]=xc[qK]-15.
set uS[kK]=RK
if Ji[kK]!=null and(not SS[kK]) then
call SetTextTagPos(Ji[kK],wS[kK],uS[kK],rS[kK])
endif
call Few(kK,fp[qK]/dp[qK]*100.0)
if np[qK]==0 or(not tO[np[qK]]) or Gww(np[qK])!=Gww(qK) then
set QK=true
else
set kK=np[qK]
set nK=Rp[qK]-xc[kK]
set RK=Tp[qK]-vc[kK]
set QK=SquareRoot(nK*nK+RK*RK)>1000.
endif
if QK then
if Gp[qK]==2 or Gp[qK]==1 then
set Gp[qK]=3
set gK=AddSpecialEffectTarget("abilities\\spells\\other\\creepsleep\\creepsleeptarget.mdx",uo[qK],"overhead")
set np[qK]=0
call IssuePointOrder(Fn[qK],"move",Rp[qK],Tp[qK])
if IT==0 then
if PT<8191 then
set PT=PT+1
set kK=PT
set AT[kK]=670
else
call tX("Out of memory: Could not create Closure.")
set kK=0
endif
else
set IT=IT-1
set kK=UT[IT]
set AT[kK]=670
endif
set yp[kK]=gK
set pp[kK]=qK
call lA(kK,4.)
elseif Gp[qK]!=3 then
set Gp[qK]=0
call afw(qK)
endif
else
if Gp[qK]==2 then
set kK=np[qK]
call SetUnitFacing(uo[qK],Fbw(xc[qK],vc[qK],mc[qK],xc[kK],vc[kK],mc[kK])*57.295779513)
endif
if Gp[qK]!=2 then
set kK=np[qK]
set fK=xc[qK]-xc[kK]
set nK=vc[qK]-vc[kK]
set RK=mc[qK]-mc[kK]
set QK=SquareRoot(fK*fK+nK*nK+RK*RK)<70.
else
set QK=false
endif
if QK then
set Gp[qK]=2
call SetUnitAnimation(uo[qK],"attack")
if IT==0 then
if PT<8191 then
set PT=PT+1
set kK=PT
set AT[kK]=682
else
call tX("Out of memory: Could not create Closure.")
set kK=0
endif
else
set IT=IT-1
set kK=UT[IT]
set AT[kK]=682
endif
set ap[kK]=qK
call lA(kK,0.7)
elseif Gp[qK]!=2 then
set kK=np[qK]
call IssuePointOrder(Fn[qK],"move",xc[kK],vc[kK])
endif
endif
endif
else
call PL(qK)
set hn[qK]=hn[qK]-0.030
call sTw(qK)
endif
elseif mT[qK]<=759 then
if mT[qK]<=753 then
if mT[qK]<=752 then
call PL(qK)
set hn[qK]=hn[qK]-0.030
call sTw(qK)
set kK=bl[qK]
if kK==0 then
set yl[qK]=yl[qK]-0.030
if yl[qK]<=0. then
set bl[qK]=3
set yl[qK]=Ol[qK]
endif
elseif kK==1 then
set yl[qK]=yl[qK]-0.030
if yl[qK]<=0. then
set bl[qK]=2
set yl[qK]=Ol[qK]
endif
elseif kK==3 then
set yl[qK]=yl[qK]-0.030
set tl[qK]=CD(tl[qK],il[qK],Sl[qK],cl[qK],ei,qi,ai,ni,(Ol[qK]-yl[qK])/3.)
set il[qK]=Sk
set Sl[qK]=ck
set cl[qK]=ok
if yl[qK]<=0. then
set tl[qK]=ei
set il[qK]=qi
set Sl[qK]=ai
set cl[qK]=ni
set bl[qK]=1
set yl[qK]=hi[ll[qK]]
endif
elseif kK==2 then
set yl[qK]=yl[qK]-0.030
set tl[qK]=CD(tl[qK],il[qK],Sl[qK],cl[qK],li,bi,yi,pi,(Ol[qK]-yl[qK])/3.)
set il[qK]=Sk
set Sl[qK]=ck
set cl[qK]=ok
if yl[qK]<=0. then
set tl[qK]=li
set il[qK]=bi
set Sl[qK]=yi
set cl[qK]=pi
set bl[qK]=0
set yl[qK]=hi[ol[qK]]
endif
endif
call SetUnitVertexColor(uo[qK],tl[qK],il[qK],Sl[qK],cl[qK])
elseif ra[qK]then
set ua[qK]=ua[qK]+wa[qK]*0.017453293
set ua[qK]=ModuloReal(ua[qK]*57.295779513,360.)*0.017453293
set hK=uo[qK]
set FK=Fn[qK]
call GOw(hK,GetUnitX(FK),GetUnitY(FK))
call SetUnitFacing(hK,ua[qK]*57.295779513)
else
call PL(qK)
set hn[qK]=hn[qK]-0.030
call sTw(qK)
endif
else
call PL(qK)
set hn[qK]=hn[qK]-0.030
call sTw(qK)
endif
elseif mT[qK]<=760 then
set kK=qK
call PL(qK)
set hn[qK]=hn[qK]-0.030
call sTw(qK)
set qK=pa[qK]
loop
exitwhen qK==0
if Ac[la[qK]]then
call Lfw(qK)
else
set xK=la[qK]
set jK=la[qK]
call MoveLightning(ba[qK],false,xc[kK],vc[kK],xc[xK],vc[jK])
set jK=pRw(Gww(kK))
loop
exitwhen Jy[Vy[jK]]==Cy[jK]
set Vy[jK]=Jy[Vy[jK]]
set xK=Dy[Vy[jK]]
if oa[qK]==4 then
if OO[xK]!=0 then
set WK=OO[xK]
set EK=la[qK]
set QK=qlw(xc[WK],vc[WK],xc[kK],vc[kK],xc[EK],vc[EK])<484
else
set QK=false
endif
if QK then
set EK=OO[xK]
call iK("abilities\\spells\\human\\feedback\\spellbreakerattack.mdx",xc[EK],vc[EK],mc[EK])
call kqw(OO[xK])
endif
else
if tO[xK]then
set EK=la[qK]
set QK=qlw(xc[xK],vc[xK],xc[kK],vc[kK],xc[EK],vc[EK])<484
else
set QK=false
endif
if QK then
if mc[xK]<24. or oa[qK]==3 then
set EK=oa[qK]
if EK==0 then
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBoltImpact.mdl",xc[xK],vc[xK]))
call naw(xK,kK)
elseif EK==1 then
set EK=la[qK]
set YK=2.00+hi[ya[kK]]
set aK=e0w(kK,xc[EK],vc[EK],xc[kK],vc[kK],xc[xK],vc[xK])
set RK=pk
set TK=ek
set nK=uRw(kK,jaw(xK),ak,nk,aK,RK,YK)
set fK=fk
set dK=Rk
if Ilw(nK,fK,dK)<75. then
set nK=uRw(kK,aK,RK,TK,aK,RK,-YK)*3
set fK=fk*3
set dK=Rk*3
endif
call Aqw(xK,Ylw(xc[xK],vc[xK],mc[xK],nK,fK,dK),uk,rk)
set Qc[xK]=nK
set Wc[xK]=fK
set Ec[xK]=dK
call mqw(xK)
elseif EK==2 then
set EK=la[qK]
set nK=1.00+hi[ya[kK]]
set fK=-(vc[EK]-vc[xK])
set TK=xc[EK]-xc[xK]
set YK=SquareRoot(fK*fK+TK*TK)
set aK=0.
set RK=0.
if YK!=0.0 then
set aK=fK/YK
set RK=TK/YK
endif
set fK=uRw(kK,aK,RK,0.,aK,RK,-nK)*3
set RK=fk*3
set nK=Rk*3
call Aqw(xK,Ylw(xc[xK],vc[xK],mc[xK],fK,RK,nK),uk,rk)
set Qc[xK]=fK
set Wc[xK]=RK
set Ec[xK]=nK
call mqw(xK)
elseif EK==3 then
if mc[xK]>20. then
set RK=xL(xK)
call DestroyEffect(AddSpecialEffect("abilities\\spells\\human\\dispelmagic\\dispelmagictarget.mdx",RK,AF))
endif
set EK=la[qK]
set TK=1.00+hi[ya[kK]]
set RK=e0w(kK,xc[EK],vc[EK],xc[kK],vc[kK],xc[xK],vc[xK])
set fK=pk
set nK=ek
set fK=uRw(kK,RK,fK,nK,RK,fK,-TK)*3
set nK=fk*3
set RK=Rk*3
call Aqw(xK,Ylw(xc[xK],vc[xK],mc[xK],fK,nK,RK),uk,rk)
set Qc[xK]=fK
set Wc[xK]=nK
set Ec[xK]=RK
call mqw(xK)
endif
endif
endif
endif
endloop
endif
set qK=Sa[qK]
endloop
else
call PL(qK)
set hn[qK]=hn[qK]-0.030
call sTw(qK)
set kK=gt[qK]
set RK=vc[qK]+100.
set wS[kK]=xc[qK]-100.
set uS[kK]=RK
if Ji[kK]!=null and(not SS[kK]) then
call SetTextTagPos(Ji[kK],wS[kK],uS[kK],rS[kK])
endif
call Few(gt[qK],Gt[qK]/Yt[qK]*100.0)
endif
elseif mT[qK]<=769 then
if mT[qK]<=765 then
if mT[qK]<=763 then
if mT[qK]<=762 then
call PL(qK)
set hn[qK]=hn[qK]-0.030
call sTw(qK)
set qK=mi[qK]
loop
exitwhen qK==0
if Qi[Pi[qK]]==0 then
if Ui[qK]==0 then
set kK=Ii[qK]
set xK=Pi[qK]
set RK=xc[xK]
set nK=vc[xK]
set xK=Ii[qK]
set fK=COw(xc[xK],vc[xK],RK,nK)
set RK=RK-Cos(fK)*75.
set nK=nK-Sin(fK)*75.
set jK=Ii[qK]
set xK=Pi[qK]
set fK=Fbw(xc[jK],vc[jK],mc[jK],xc[xK],vc[xK],mc[xK])
set xK=mT[kK]
if xK>=741 and xK<=766 then
call NRw(kK,RK,nK,0.)
call SetUnitFacing(uo[kK],fK*57.295779513)
call SetUnitFacing(Fn[kK],fK*57.295779513)
elseif mT[kK]==766 then
call NRw(kK,RK,nK,0.)
call SetUnitFacing(uo[kK],fK*57.295779513)
endif
else
set kK=Ii[qK]
set xK=Ii[Ui[qK]]
set RK=xc[xK]
set TK=vc[xK]
set xK=Ii[qK]
set fK=Wi[Pi[qK]]
set nK=COw(xc[xK],vc[xK],RK,TK)
set RK=RK-Cos(nK)*fK
set nK=TK-Sin(nK)*fK
set xK=Ii[qK]
set jK=Ii[Ui[qK]]
set fK=Fbw(xc[xK],vc[xK],mc[xK],xc[jK],vc[jK],mc[jK])
set xK=mT[kK]
if xK>=741 and xK<=766 then
call NRw(kK,RK,nK,0.)
call SetUnitFacing(uo[kK],fK*57.295779513)
call SetUnitFacing(Fn[kK],fK*57.295779513)
elseif mT[kK]==766 then
call NRw(kK,RK,nK,0.)
call SetUnitFacing(uo[kK],fK*57.295779513)
endif
endif
elseif Qi[Pi[qK]]==1 then
if Ui[qK]==0 then
set kK=Ii[qK]
set fK=xc[kK]
set RK=vc[kK]
set TK=mc[kK]
set nK=xL(Pi[qK])
if Sbw(fK,RK,TK,nK,AF)>1024 then
set kK=Ii[qK]
set jK=Ii[qK]
set xK=Pi[qK]
set nK=Wi[Pi[qK]]*0.001
set RK=xc[jK]*(1.0-nK)+xc[xK]*nK
set nK=vc[jK]*(1.0-nK)+vc[xK]*nK
set jK=Ii[qK]
set xK=Pi[qK]
set fK=Fbw(xc[jK],vc[jK],mc[jK],xc[xK],vc[xK],mc[xK])
set xK=mT[kK]
if xK>=741 and xK<=766 then
call NRw(kK,RK,nK,0.)
call SetUnitFacing(uo[kK],fK*57.295779513)
call SetUnitFacing(Fn[kK],fK*57.295779513)
elseif mT[kK]==766 then
call NRw(kK,RK,nK,0.)
call SetUnitFacing(uo[kK],fK*57.295779513)
endif
endif
else
set xK=Ii[qK]
set kK=Ii[Ui[qK]]
if Sbw(xc[xK],vc[xK],mc[xK],xc[kK],vc[kK])>576 then
set kK=Ii[qK]
set xK=Ii[qK]
set jK=Ii[Ui[qK]]
set nK=Wi[Pi[qK]]*0.001
set RK=xc[xK]*(1.0-nK)+xc[jK]*nK
set nK=vc[xK]*(1.0-nK)+vc[jK]*nK
set jK=Ii[qK]
set xK=Ii[Ui[qK]]
set fK=Fbw(xc[jK],vc[jK],mc[jK],xc[xK],vc[xK],mc[xK])
set xK=mT[kK]
if xK>=741 and xK<=766 then
call NRw(kK,RK,nK,0.)
call SetUnitFacing(uo[kK],fK*57.295779513)
call SetUnitFacing(Fn[kK],fK*57.295779513)
elseif mT[kK]==766 then
call NRw(kK,RK,nK,0.)
call SetUnitFacing(uo[kK],fK*57.295779513)
endif
endif
endif
endif
set qK=Zi[qK]
endloop
else
call siw(qK)
endif
else
call PL(qK)
set hn[qK]=hn[qK]-0.030
call sTw(qK)
endif
elseif mT[qK]<=767 then
if mT[qK]<=766 then
set kK=qK
call PL(qK)
set hn[qK]=hn[qK]-0.030
call sTw(qK)
set RK=hi[nd[qK]]
set xK=ad[qK]
loop
exitwhen xK==0
if (not Ac[pd[xK]])and uo[pd[xK]]!=null then
set qK=pd[xK]
set nK=xc[kK]+qd[xK]*Cos(ed[xK]+RK)*hi[dd[kK]]
call NRw(qK,nK,vc[kK]+qd[xK]*Sin(ed[xK]+RK)*hi[fd[kK]],0.)
set ed[xK]=ed[xK]+RK
else
call dTw(xK)
if xK==ad[kK]then
set ad[kK]=bd[xK]
endif
endif
set xK=bd[xK]
endloop
else
set kK=GetPlayerId(Ic[qK])
set vK=Db[kK]
set mK=Jb[kK]
set QK=Kb[kK]
set Od[qK]=Od[qK]*0.9+0
if mK then
set ld[qK]=ld[qK]+0.1
endif
if QK then
set ld[qK]=ld[qK]-0.1
endif
call SetUnitFacing(uo[qK],ld[qK]*57.295779513)
set ZK=Ic[qK]
set hK=uo[qK]
if GetLocalPlayer()==ZK then
call PanCameraToTimed(GetUnitX(hK),GetUnitY(hK),0.1)
endif
if vK then
set Od[qK]=1.
endif
set nK=Qc[qK]
set RK=Wc[qK]
set fK=Ec[qK]
set aK=ld[qK]
set YK=Od[qK]
set TK=Cos(aK)*YK
set YK=Sin(aK)*YK
set Qc[qK]=nK+TK
set Wc[qK]=RK+YK
set Ec[qK]=fK
set RK=Wc[qK]
set nK=Ec[qK]
set Qc[qK]=Qc[qK]*0.955
set Wc[qK]=RK*0.955
set Ec[qK]=nK*0.955
set RK=Ilw(Qc[qK],Wc[qK],Ec[qK])
set nK=od[qK]
if RK>nK*nK then
set Qc[qK]=Klw(Qc[qK],Wc[qK],Ec[qK],od[qK])
set Wc[qK]=Yk
set Ec[qK]=Gk
endif
call PL(qK)
endif
else
call PL(qK)
endif
elseif mT[qK]<=775 then
if mT[qK]<=772 then
if mT[qK]<=771 then
call wB(qK)
else
call wB(qK)
if fo[qK]then
set Go[qK]=Go[qK]-0.030
if Sbw(xc[qK],vc[qK],mc[qK],To[qK],Yo[qK])>1024 or Go[qK]<=0. then
if Go[qK]>0. then
call Rcw(xc[qK],vc[qK],mc[qK],0.,.08,"canceled!",8.5,2.,255,0,0,255,Ic[qK])
endif
set Go[qK]=0.
call UnitRemoveAbility(uo[qK],1098282348)
set fo[qK]=false
call DestroyEffect(Ro[qK])
endif
endif
endif
else
call wB(qK)
endif
elseif mT[qK]<=776 then
call PL(qK)
else
set Qc[qK]=Ylw(Qc[qK],Wc[qK],Ec[qK],Ee,Ze,Ue)
set Wc[qK]=uk
set Ec[qK]=rk
set xc[qK]=Ylw(xc[qK],vc[qK],mc[qK],Qc[qK],Wc[qK],Ec[qK])
set vc[qK]=uk
set mc[qK]=rk
call SetTextTagPos(Df[qK],xc[qK],vc[qK],mc[qK])
set Hf[qK]=Hf[qK]-0.030
if Hf[qK]<=0. then
set Ac[qK]=true
endif
endif
endif
endloop
set GK=null
set gK=null
set hK=null
set FK=null
set ZK=null
endfunction
function UP takes nothing returns boolean
set Mt=CreateForce()
return true
endfunction
function UV takes nothing returns nothing
local integer ZV=tfw(Wo)
loop
exitwhen Jy[Vy[ZV]]==Cy[ZV]
set Vy[ZV]=Jy[Vy[ZV]]
call Qaw(Dy[Vy[ZV]])
endloop
endfunction
function V5 takes nothing returns boolean
return true
endfunction
function V6 takes nothing returns boolean
local integer C6
if Gg==0 then
if gg<8191 then
set gg=gg+1
set C6=gg
else
call tX("Out of memory: Could not create IdGenerator.")
set C6=0
endif
else
set Gg=Gg-1
set C6=Yg[Gg]
endif
set mp[C6]=48
set Qp[C6]=48
set Wp[C6]=48
set Ep[C6]=115
set kp=C6
if Gg==0 then
if gg<8191 then
set gg=gg+1
set C6=gg
else
call tX("Out of memory: Could not create IdGenerator.")
set C6=0
endif
else
set Gg=Gg-1
set C6=Yg[Gg]
endif
set mp[C6]=48
set Qp[C6]=48
set Wp[C6]=48
set Ep[C6]=75
if Gg==0 then
if gg<8191 then
set gg=gg+1
set C6=gg
else
call tX("Out of memory: Could not create IdGenerator.")
set C6=0
endif
else
set Gg=Gg-1
set C6=Yg[Gg]
endif
set mp[C6]=48
set Qp[C6]=48
set Wp[C6]=48
set Ep[C6]=85
set jp=C6
if Gg==0 then
if gg<8191 then
set gg=gg+1
set C6=gg
else
call tX("Out of memory: Could not create IdGenerator.")
set C6=0
endif
else
set Gg=Gg-1
set C6=Yg[Gg]
endif
set mp[C6]=48
set Qp[C6]=48
set Wp[C6]=48
set Ep[C6]=70
set xp=C6
if Gg==0 then
if gg<8191 then
set gg=gg+1
set C6=gg
else
call tX("Out of memory: Could not create IdGenerator.")
set C6=0
endif
else
set Gg=Gg-1
set C6=Yg[Gg]
endif
set mp[C6]=48
set Qp[C6]=48
set Wp[C6]=48
set Ep[C6]=79
set vp=C6
return true
endfunction
function VH takes nothing returns boolean
set gS=CreateTimer()
set ES=0
set ZS=0
set US=0
return true
endfunction
function DM takes integer UM,integer IM returns boolean
local integer PM
local boolean AM
if EO[UM]then
set PM=mT[IM]
set AM=PM>=770 and PM<=775
else
set AM=false
endif
if AM then
return true
endif
if WO[UM]then
set UM=mT[IM]
set AM=UM>=743 and UM<=759
else
set AM=false
endif
if AM then
return true
endif
return false
endfunction
function anw takes integer lnw,boolean bnw returns nothing
local real ynw=QZ(lnw)
local real pnw=lk
local integer qnw=aww(ynw,pnw)
local integer enw
if bnw then
set enw=DO[lnw]
else
set enw=HO[lnw]
endif
if enw==808464432 then
call hww(Pa[qnw])
set enw=JF
elseif enw==808464433 then
call hww(Pa[qnw])
set enw=KF
endif
call Yiw(ynw,pnw,enw,KO[lnw],JO[lnw],Ic[lnw])
endfunction
function Onw takes integer Snw returns nothing
local integer cnw=GetUnitUserData(ps[Snw])
local integer onw=PO[Snw]
if onw==2 then
if cnw==0 then
call DisplayTextToPlayer(Ic[Snw],0.,0.,"|cffC51019Must select an object with the Executer")
endif
set onw=mT[cnw]
if onw>=720 and onw<=737 then
call eyw(cnw,true)
elseif mT[cnw]==715 then
call Hew(cnw)
else
call DisplayTextToPlayer(Ic[Snw],0.,0.,"|cffC51019Invalid object selected")
endif
elseif onw==3 then
if cnw==0 then
call DisplayTextToPlayer(Ic[Snw],0.,0.,"|cffC51019Must select an object with the Executer")
endif
set onw=mT[cnw]
if onw>=720 and onw<=737 then
call eyw(cnw,not ns[cnw])
elseif mT[cnw]==715 then
if KS[cnw]then
call Aew(cnw)
else
call Hew(cnw)
endif
else
call DisplayTextToPlayer(Ic[Snw],0.,0.,"|cffC51019Invalid object selected")
endif
elseif onw==1 then
if cnw==0 then
call DisplayTextToPlayer(Ic[Snw],0.,0.,"|cffC51019Must select an object with the Executer")
endif
set onw=mT[cnw]
if onw>=720 and onw<=737 then
call eyw(cnw,false)
elseif mT[cnw]==715 then
call Aew(cnw)
else
call DisplayTextToPlayer(Ic[Snw],0.,0.,"|cffC51019Invalid object selected")
endif
elseif onw==6 then
call anw(Snw,false)
else
call DisplayTimedTextToPlayer(Ic[Snw],0.,0.,15.,"Executer has no action set")
endif
endfunction
function VM takes nothing returns nothing
local region HM=GetTriggeringRegion()
local integer JM=GetUnitUserData(GetLeavingUnit())
local integer KM=bdw(RO,GetHandleId(HM))
local group LM
local unit XM
local boolean CM
if ns[KM]then
set CM=DM(KM,JM)
else
set CM=false
endif
if CM then
call GroupEnumUnitsInRect(Kl,ZO[KM],null)
set JM=0
loop
exitwhen FirstOfGroup(Kl)==null
set LM=Kl
set XM=FirstOfGroup(LM)
call GroupRemoveUnit(LM,XM)
if DM(KM,GetUnitUserData(XM)) then
set JM=JM+1
endif
endloop
if JM==0 then
call Onw(KM)
set AO[KM]=false
if BO[KM]!=null then
call SetDestructableAnimation(BO[KM],"stand alternate")
endif
endif
endif
set HM=null
set LM=null
set XM=null
endfunction
function VQ takes nothing returns boolean
local unit JQ=GetTriggerUnit()
local integer KQ=GetPlayerId(GetTriggerPlayer())
local boolean LQ=O[u-1]==JQ
local integer XQ=GetUnitUserData(JQ)
local integer CQ=l[XQ]-1
if y[p[XQ]]==JQ then
set c=KQ
set o=p[XQ]
call TriggerEvaluate(t)
set JQ=null
return false
endif
if CQ==-1 or O[CQ]!=JQ then
set JQ=null
set JQ=null
return false
endif
if LQ then
set S[KQ]=S[KQ]*-1
endif
if LQ or O[u-2]==JQ then
set c=KQ
set o=S[KQ]
call TriggerEvaluate(s)
set S[KQ]=-1
else
if S[KQ]==-1 then
set S[KQ]=0
endif
set S[KQ]=S[KQ]*10+CQ
endif
set JQ=null
set JQ=null
return false
endfunction
function Vbw takes nothing returns boolean
return true
endfunction
function W2 takes nothing returns boolean
set Qb=erw("Units\\Human\\Priest\\PriestPissed3.wav",false)
return true
endfunction
function W6 takes nothing returns boolean
return true
endfunction
function W7 takes nothing returns boolean
return true
endfunction
function W8 takes nothing returns boolean
local real m8=fOw(ow)
local real Q8=hk
set Ke=m8
set Le=Q8
set Xe=-6743.
set Ce=6616.
set Ve=100.
set iq=0
set Sq=0
set cq=0
return true
endfunction
function WI takes nothing returns boolean
call erw("Units\\Undead\\Varimathras\\VarimathrasReady1.wav",false)
set Rt=erw("Abilities\\Spells\\Human\\FlameStrike\\FlameStrikeTargetWaveNonLoop1.waw",false)
set Tt=erw("Units\\Undead\\Varimathras\\VarimathrasReady1.wav",false)
return true
endfunction
function Wtw takes nothing returns boolean
set yf=InitHashtable()
return true
endfunction
function X4 takes nothing returns boolean
return true
endfunction
function X6 takes nothing returns boolean
set gp=0
return true
endfunction
function XA takes nothing returns boolean
set ci=-1
set oi=-1
set Oi=false
return true
endfunction
function XH takes nothing returns nothing
local multiboarditem LH
if bS==null then
set bS=CreateMultiboard()
call MultiboardSetColumnCount(bS,3)
call MultiboardSetRowCount(bS,3)
call MultiboardSetItemsStyle(bS,true,false)
call MultiboardSetItemsWidth(bS,0.04)
call MultiboardSetTitleText(bS,"Debug Info")
set LH=MultiboardGetItem(bS,0,0)
call MultiboardSetItemValue(LH,"Allocations")
call MultiboardSetItemWidth(LH,0.10)
set LH=MultiboardGetItem(bS,1,0)
call MultiboardSetItemValue(LH,"Callbacks")
call MultiboardSetItemWidth(LH,0.10)
set LH=MultiboardGetItem(bS,2,0)
call MultiboardSetItemValue(LH,"Entites")
call MultiboardSetItemWidth(LH,0.10)
endif
set yS=yS+1
set eS=eS+pS
set aS=aS+qS
call MultiboardSetItemValue(MultiboardGetItem(bS,0,1),I2S(qS))
call MultiboardSetItemValue(MultiboardGetItem(bS,0,2),R2S(aS*1./yS))
call MultiboardSetItemValue(MultiboardGetItem(bS,1,1),I2S(pS))
call MultiboardSetItemValue(MultiboardGetItem(bS,1,2),R2S(eS*1./yS))
call MultiboardSetItemValue(MultiboardGetItem(bS,2,1),I2S(Cc))
call MultiboardSetItemValue(MultiboardGetItem(bS,2,2),I2S(Vc))
set pS=0
set qS=0
set LH=null
endfunction
function Vew takes integer Lew,unit Xew returns nothing
local integer Cew
if BS[Lew]<6 then
set BS[Lew]=BS[Lew]+1
set VS[Lew]=ModuloInteger(VS[Lew]+1,6)
set Cew=VS[Lew]
if Cew<0 or Cew>=6 then
call tX("Index out of Bounds")
elseif Cew<=2 then
if Cew<=1 then
if Cew<=0 then
set lF[Lew]=Xew
else
set bF[Lew]=Xew
endif
else
set yF[Lew]=Xew
endif
elseif Cew<=4 then
if Cew<=3 then
set pF[Lew]=Xew
else
set eF[Lew]=Xew
endif
else
set qF[Lew]=Xew
endif
else
call tX("Queue Overflow")
endif
endfunction
function XJ takes nothing returns nothing
local unit HJ=MS[rc]
local integer JJ=0
local integer KJ=1
local integer LJ=7
loop
exitwhen KJ>LJ
if BS[tc[JJ]]>BS[tc[KJ]]then
set JJ=KJ
endif
set KJ=KJ+1
endloop
if BS[tc[JJ]]>=6 then
call RemoveUnit(HJ)
else
call Vew(tc[JJ],HJ)
call GOw(HJ,Op,lp)
call PauseUnit(HJ,true)
call SetUnitFacing(HJ,JJ*XS*0.017453293*57.295779513)
call SetUnitScale(HJ,1.,1.,1.)
call SetUnitVertexColor(HJ,li,bi,yi,pi)
endif
set LJ=rc
if uc[rc]==0 then
set rc=0
else
set rc=uc[rc]
call TimerStart(NS,wc[rc]-TimerGetElapsed(Hl),false,im)
endif
if HY[LJ]==0 then
call tX("Double free: object of type DelayNode")
else
set PY[AY]=LJ
set AY=AY+1
set HY[LJ]=0
endif
set HJ=null
endfunction
function XZ takes nothing returns boolean
set Gs=Player(15)
call Player(12)
return true
endfunction
function Dbw takes integer vbw,unit mbw returns nothing
local integer Qbw=GetUnitUserData(mbw)
local real Pbw=QZ(vbw)+0.001
local real Ebw=lk+0.
local timer Wbw
local integer Zbw
local integer Ubw
local boolean Ibw
local group Abw
if Ic[vbw]==Ic[Qbw]then
set Zbw=mT[Qbw]
set Ibw=Zbw>=712 and Zbw<=776
else
set Ibw=false
endif
if Ibw then
set Zbw=mT[Qbw]
set Ibw=not(Zbw>=770 and Zbw<=775)
else
set Ibw=false
endif
if Ibw and mT[Qbw]!=768 then
set Zbw=mT[Qbw]
if Zbw>=741 and Zbw<=766 then
if GetUnitAbilityLevel(Fn[Qbw],1093677131)<=0 then
set Wbw=null
set Abw=null
return
endif
endif
if (not pT[vbw])and mT[Qbw]==764 then
set Wbw=null
set Abw=null
return
endif
if eT[vbw]!=0 then
if not qT[vbw]then
set qT[vbw]=true
if qT[eT[vbw]]then
set Qbw=eT[vbw]
set Pbw=QZ(Qbw)+0.001
set Ebw=lk+0.
call GroupEnumUnitsInRange(Kl,xc[Qbw],vc[Qbw],Zc[Qbw]+48.,Condition(yQ))
loop
exitwhen FirstOfGroup(Kl)==null
set Abw=Kl
set mbw=FirstOfGroup(Abw)
call GroupRemoveUnit(Abw,mbw)
set Zbw=GetUnitUserData(mbw)
if Ic[Qbw]==Ic[Zbw]then
set Ubw=mT[Zbw]
set Ibw=not(Ubw>=770 and Ubw<=775)
else
set Ibw=false
endif
if Ibw and mT[Zbw]!=768 then
set Ubw=mT[Zbw]
set Ibw=not(Ubw>=720 and Ubw<=737)
else
set Ibw=false
endif
if Ibw then
set Ubw=mT[Zbw]
if Ubw>=741 and Ubw<=766 then
call IssuePointOrder(Fn[Zbw],"move",Pbw,Ebw)
call IssuePointOrder(uo[Zbw],"move",Pbw,Ebw)
else
call IssuePointOrder(uo[Zbw],"move",Pbw,Ebw)
endif
endif
endloop
set Zbw=vbw
set Pbw=QZ(vbw)+0.001
set Ebw=lk+0.
call GroupEnumUnitsInRange(Kl,xc[vbw],vc[vbw],Zc[vbw]+48.,Condition(yQ))
loop
exitwhen FirstOfGroup(Kl)==null
set Abw=Kl
set mbw=FirstOfGroup(Abw)
call GroupRemoveUnit(Abw,mbw)
set Qbw=GetUnitUserData(mbw)
if Ic[Zbw]==Ic[Qbw]then
set Ubw=mT[Qbw]
set Ibw=not(Ubw>=770 and Ubw<=775)
else
set Ibw=false
endif
if Ibw and mT[Qbw]!=768 then
set Ubw=mT[Qbw]
set Ibw=not(Ubw>=720 and Ubw<=737)
else
set Ibw=false
endif
if Ibw then
set Ubw=mT[Qbw]
if Ubw>=741 and Ubw<=766 then
call IssuePointOrder(Fn[Qbw],"move",Pbw,Ebw)
call IssuePointOrder(uo[Qbw],"move",Pbw,Ebw)
else
call IssuePointOrder(uo[Qbw],"move",Pbw,Ebw)
endif
endif
endloop
set qT[eT[vbw]]=false
set qT[vbw]=false
endif
endif
elseif yT[vbw]<.25 then
set vbw=mT[Qbw]
if vbw>=741 and vbw<=766 then
call IssuePointOrder(Fn[Qbw],"move",Pbw,Ebw)
call IssuePointOrder(uo[Qbw],"move",Pbw,Ebw)
else
call IssuePointOrder(uo[Qbw],"move",Pbw,Ebw)
endif
else
set Wbw=Hcw()
call TimerStart(Wbw,yT[vbw],false,pQ)
if Lh==0 then
if Xh<8191 then
set Xh=Xh+1
set vbw=Xh
set Ch[vbw]=1115
else
call tX("Out of memory: Could not create DelayData.")
set vbw=0
endif
else
set Lh=Lh-1
set vbw=Kh[Lh]
set Ch[vbw]=1115
endif
set OT[vbw]=Qbw
set lT[vbw]=Pbw
set bT[vbw]=Ebw
call MTw(cR,GetHandleId(Wbw),vbw)
endif
endif
set Wbw=null
set Abw=null
endfunction
function Xbw takes nothing returns nothing
call Dbw(GetUnitUserData(gN(GetTriggeringTrigger())),GetTriggerUnit())
endfunction
function Xcw takes nothing returns boolean
set lR[0]=1848652114
set lR[1]=1848652108
set lR[2]=1848652110
return true
endfunction
function Dww takes integer Pww,player Aww returns integer
if bdw(Ia[Pww],GetPlayerId(Aww))!=0 then
return bdw(Ia[Pww],GetPlayerId(Aww))
endif
return 0
endfunction
function kfw takes integer Gfw,integer gfw,boolean hfw returns nothing
local boolean Ffw
if Zq[Gfw]then
set Ffw=wp[qq]>1
else
set Ffw=false
endif
if Ffw or xq[Gfw]==2 then
if hfw then
set Qq[Gfw]=Qq[Gfw]+gfw
elseif Iq[Gfw]<fq then
set Iq[Gfw]=fq
call E0w(1,"add current xp:"+I2S(Qq[Gfw]))
set Qq[Gfw]=Qq[Gfw]+gfw
call E0w(1,"add new xp:"+I2S(Qq[Gfw]))
endif
call Efw(Gfw)
endif
endfunction
function Xww takes nothing returns nothing
local unit Www_2=gN(GetTriggeringTrigger())
local unit Eww=GetTriggerUnit()
local boolean Zww
local integer Uww
local integer Iww_2
local string Pww
local integer Aww
local group Dww_2
local real Hww
local real Jww
local rect Kww
local timer Lww
if jq[eq[GetPlayerId(GetOwningPlayer(Eww))]]==1 then
set Uww=mT[GetUnitUserData(Eww)]
set Zww=Uww>=770 and Uww<=775
else
set Zww=false
endif
if Zww then
set Uww=GetUnitUserData(Www_2)
set Aww=GetUnitUserData(Eww)
if not bn[Uww]then
set bn[Uww]=true
call SetUnitColor(uo[Uww],GetPlayerColor(Ic[Aww]))
set Jww=vc[Uww]
set Eo=xc[Uww]
set Zo=Jww
if ln!=0 then
call UnitAddAbility(uo[ln],1093677131)
endif
set ln=Uww
call UnitRemoveAbility(uo[Uww],1093677131)
call aTw(On)
set Pww=v9(Ic[Aww])+" advanced to the next |cff086BB5Checkpoint"
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,15.,Pww)
if mT[Aww]<=774 then
if cO[Aww]!=null then
call RemoveUnit(cO[Aww])
set cO[Aww]=null
endif
call SetUnitState(uo[Aww],UNIT_STATE_LIFE,9999.)
else
if cO[Aww]!=null then
call RemoveUnit(cO[Aww])
set cO[Aww]=null
endif
call SetUnitState(uo[Aww],UNIT_STATE_LIFE,9999.)
if co[Aww]!=0 then
call kqw(co[Aww])
set co[Aww]=0
endif
endif
call yww(Uww)
if Dww(Gww(Uww),Dl)==2 then
if yn[Uww]>-1 then
if vd[md]>0 then
set Zww=jd[vd[md]]
else
set Zww=false
endif
if Zww then
set Aww=vd[md]
call GroupEnumUnitsInRect(Kl,Aa[xd[Aww]],Filter(rQ))
loop
exitwhen FirstOfGroup(Kl)==null
set Dww_2=Kl
set Www_2=FirstOfGroup(Dww_2)
call GroupRemoveUnit(Dww_2,Www_2)
if UnitAlive(Www_2) then
set Hww=GetUnitX(Www_2)
set Jww=GetUnitY(Www_2)
set Kww=Aa[xd[Aww]]
if Hww>GetRectMinX(Kww) then
set Zww=Hww<GetRectMaxX(Kww)
else
set Zww=false
endif
if Zww then
set Zww=Jww>GetRectMinY(Kww)
else
set Zww=false
endif
if Zww then
set Zww=Jww<GetRectMaxY(Kww)
else
set Zww=false
endif
set Zww=Zww
else
set Zww=false
endif
if Zww then
set Iww_2=GetUnitUserData(Www_2)
if Iww_2!=0 then
set Zww=GetUnitName(uo[Iww_2])!=null
else
set Zww=false
endif
if Zww and mT[Iww_2]>0 then
call kqw(Iww_2)
else
call RemoveUnit(Www_2)
endif
endif
endloop
call GroupClear(Kl)
call EnumDestructablesInRect(Aa[xd[Aww]],null,sQ)
call EnumItemsInRect(Aa[xd[Aww]],null,tQ)
set Aww=vd[md]
if nG[Aww]==0 then
call tX("Double free: object of type Startmaze")
else
set eG[qG]=Aww
set qG=qG+1
set nG[Aww]=0
endif
set vd[md]=0
endif
set md=yn[Uww]
if vd[md]>0 then
set Zww=not jd[vd[md]]
else
set Zww=false
endif
if Zww then
if IT==0 then
if PT<8191 then
set PT=PT+1
set Aww=PT
set AT[Aww]=675
else
call tX("Out of memory: Could not create Closure.")
set Aww=0
endif
else
set IT=IT-1
set Aww=UT[IT]
set AT[Aww]=675
endif
set Lww=Hcw()
call MTw(cR,GetHandleId(Lww),Aww)
call TimerStart(Lww,0.5,false,Av)
set ti[Aww]=Lww
set bn[Qd]=false
call SetUnitColor(uo[Qd],PLAYER_COLOR_LIGHT_GRAY)
endif
endif
else
set bn[Qd]=false
call SetUnitColor(uo[Qd],PLAYER_COLOR_LIGHT_GRAY)
endif
set Zww=Slw(Eo,Zo,xc[Uww],vc[Uww])>512.
set Iww_2=tfw(aq)
loop
exitwhen Jy[Vy[Iww_2]]==Cy[Iww_2]
set Vy[Iww_2]=Jy[Vy[Iww_2]]
set Aww=Dy[Vy[Iww_2]]
if vq[Aww]!=0 and tO[vq[Aww]]then
call Aqw(vq[Aww],xc[Uww],vc[Uww],mc[Uww])
call faw(vq[Aww])
call ZOw(uo[vq[Aww]])
if not Ko[vq[Aww]]then
if GetLocalPlayer()==Tq[Aww]then
call PanCameraToTimed(xc[Uww],vc[Uww],0.)
endif
endif
endif
if Zww then
call kfw(Aww,20,false)
endif
endloop
if Zww then
call kfw(eq[GetPlayerId(Ic[Uww])],15,false)
endif
endif
endif
set Www_2=null
set Eww=null
set Dww_2=null
set Kww=null
set Lww=null
endfunction
function Y3 takes nothing returns nothing
local integer f3=GetUnitUserData(gN(GetTriggeringTrigger()))
local integer R3=GetUnitUserData(GetTriggerUnit())
local integer T3=mT[R3]
if T3>=770 and T3<=775 and gl[f3]then
if Ho[R3] and(not Pc[R3]) then
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl",xc[R3],vc[R3]))
call eaw(R3,false)
endif
endif
endfunction
function YE takes nothing returns nothing
call KillUnit(Lw)
endfunction
function YI takes nothing returns nothing
local integer RI=GetIssuedOrderId()
local integer TI=GetUnitUserData(GetOrderedUnit())
if mT[TI]==735 then
if Vs[TI]then
set Vs[TI]=false
return
endif
if GetOrderedUnit()==Cs[TI]then
call ayw(TI)
if RI==851984 then
call IssuePointOrderById(uo[TI],RI,GetOrderPointX(),GetOrderPointY())
set Vs[TI]=true
if IT==0 then
if PT<8191 then
set PT=PT+1
set RI=PT
set AT[RI]=656
else
call tX("Out of memory: Could not create Closure.")
set RI=0
endif
else
set IT=IT-1
set RI=UT[IT]
set AT[RI]=656
endif
set Ls[RI]=TI
call SA(RI)
elseif RI==851983 then
set Vs[TI]=true
call IssueTargetOrderById(uo[TI],RI,GetOrderTargetUnit())
if IT==0 then
if PT<8191 then
set PT=PT+1
set RI=PT
set AT[RI]=680
else
call tX("Out of memory: Could not create Closure.")
set RI=0
endif
else
set IT=IT-1
set RI=UT[IT]
set AT[RI]=680
endif
set Xs[RI]=TI
call SA(RI)
elseif RI==851972 then
call IssueImmediateOrderById(uo[TI],851972)
endif
endif
endif
endfunction
function Yrw takes nothing returns boolean
set hd=-6000.
set Fd=-7000.
set kd=Condition(lQ)
return true
endfunction
function Z1 takes nothing returns boolean
set Hl=CreateTimer()
call TimerStart(Hl,100000.,false,null)
call TimerStart(CreateTimer(),0.030,true,Um)
return true
endfunction
function AOw takes unit UOw,integer IOw returns nothing
local integer POw=GetUnitAbilityLevel(UOw,IOw)
call UnitRemoveAbility(UOw,IOw)
call UnitAddAbility(UOw,IOw)
call SetUnitAbilityLevel(UOw,IOw,POw)
endfunction
function NB takes integer UB,integer IB returns nothing
local unit PB
local real AB
local real DB
local real HB
local real JB
local real KB
local real LB
local real XB
local real CB
local real VB
local player BB
call SetUnitAnimation(uo[UB],"spell")
if IB==1093678642 then
if not Pc[UB]then
set xc[UB]=Ylw(xc[UB],vc[UB],mc[UB],0.,0.,1.)
set vc[UB]=uk
set mc[UB]=rk
set JB=fbw(xc[UB],vc[UB],mc[UB],GetSpellTargetX(),GetSpellTargetY())
call DestroyEffect(AddSpecialEffect("abilities\\spells\\other\\aneu\\aneucaster.mdx",xc[UB],vc[UB]))
if Do[UB]then
set HB=3.*Cos(JB)
set JB=3.*Sin(JB)
set Qc[UB]=Ylw(Qc[UB],Wc[UB],Ec[UB],HB,JB,11.5)
set Wc[UB]=uk
set Ec[UB]=rk
call mqw(UB)
else
set HB=7.75*Cos(JB)
set JB=7.75*Sin(JB)
set Qc[UB]=Ylw(Qc[UB],Wc[UB],Ec[UB],HB,JB,11.5)
set Wc[UB]=uk
set Ec[UB]=rk
call mqw(UB)
endif
endif
elseif IB==1093679169 then
set AB=GetSpellTargetX()
set DB=GetSpellTargetY()
if xT==0 then
if vT<8191 then
set vT=vT+1
set IB=vT
set mT[IB]=699
else
call tX("Out of memory: Could not create OrbProjectile.")
set IB=0
endif
else
set xT=xT-1
set IB=jT[xT]
set mT[IB]=699
endif
set HB=xL(UB)
set JB=AF
set KB=DF
set LB=xlw(AB,DB,0.,HB,JB,KB)
set XB=Ek
set CB=Zk
set VB=Wlw(LB,XB,CB)
if VB>0. then
set VB=1./VB
set LB=LB*VB
set XB=XB*VB
set CB=CB*VB
else
set LB=1.
set XB=0.
set CB=0.
endif
call B0w(IB,Ylw(Ylw(HB,JB,KB,LB*16.,XB*16.,CB*16.),uk,rk,0.,0.,16.),uk,rk,16,Ic[UB],fbw(xc[UB],vc[UB],mc[UB],AB,DB),"TC_EnergyBolt.mdx")
set nO[IB]=0
set nO[IB]=UB
set dO[IB]=yww(IB)
set ga[IB]=0.985
set ha[IB]=129600
set Ga[IB]=true
set Fa[IB]=3.
set Ya[IB]=true
call cRw(IB,9.85)
set OO[UB]=IB
set IB=OO[UB]
set HB=(jaw(UB)-Vo[UB])*0.65
set Qc[IB]=Ylw(Qc[IB],Wc[IB],Ec[IB],HB,(ak-Bo[UB])*0.65,nk*0.65)
set Wc[IB]=uk
set Ec[IB]=rk
call mqw(IB)
set IB=OO[UB]
call lRw(OO[UB],Atan2(Wc[IB],Qc[IB]))
set PB=uo[UB]
call UnitRemoveAbility(PB,1093679169)
call UnitAddAbility(PB,1093679172)
elseif IB==1093679172 then
if OO[UB]!=0 then
call gaw(UB,qqw(OO[UB]),jk,xk)
set No[UB]=AR
set Mo[UB]=DR
set HB=Wc[UB]*0.15
set JB=Ec[UB]*0.15
set Qc[UB]=Qc[UB]*0.15
set Wc[UB]=HB
set Ec[UB]=JB
call mqw(UB)
call iK("abilities\\spells\\human\\polymorph\\polymorphtarget.mdx",xc[UB],vc[UB],mc[UB])
call kqw(OO[UB])
endif
elseif IB==1093678925 then
set HB=xc[UB]
set JB=vc[UB]
set BB=Ic[UB]
if Sh==0 then
if ch<8191 then
set ch=ch+1
set IB=ch
set oh[IB]=1055
else
call tX("Out of memory: Could not create RevivePointModifier.")
set IB=0
endif
else
set Sh=Sh-1
set IB=ih[Sh]
set oh[IB]=1055
endif
set Sn[IB]=CreateUnit(BB,1966092360,HB,JB,0)
set cn[IB]=HB
set on[IB]=JB
set Po[UB]=IB
call UnitRemoveAbility(uo[UB],1093678925)
call UnitAddAbility(uo[UB],1093678926)
elseif IB==1093678926 then
if Po[UB]!=0 then
set IB=Po[UB]
call RemoveUnit(Sn[IB])
if oh[IB]==0 then
call tX("Double free: object of type RevivePointModifier")
else
set ih[Sh]=IB
set Sh=Sh+1
set oh[IB]=0
endif
set Po[UB]=0
endif
call UnitRemoveAbility(uo[UB],1093678926)
call UnitAddAbility(uo[UB],1093678925)
elseif IB==1093678919 or IB==1093678920 then
call Oyw(rO[UB],UB)
call SetUnitAnimation(uo[UB],"attack")
elseif IB==1093679409 then
if Ho[UB] or Jo[UB] or Do[UB]then
call UnitAddItemById(uo[UB],1093679409)
call Rcw(xc[UB],vc[UB],mc[UB],0.,.08,"canceled!",8.5,2.,255,0,0,255,Ic[UB])
else
if cO[UB]!=null then
call RemoveUnit(cO[UB])
endif
set cO[UB]=nOw(Ic[UB],1966092356,xc[UB],vc[UB],mc[UB],0.)
endif
else
call Y2(fb,IB)
endif
set PB=null
set BB=null
endfunction
function dX takes integer lX,integer bX returns nothing
local integer yX
local integer pX
local real eX
local real qX
local real aX
local player nX
call NB(lX,bX)
if bX==1093679179 then
if Do[lX] or Ho[lX] or Jo[lX] or Pc[lX]then
call AOw(uo[lX],1093679179)
call Rcw(xc[lX],vc[lX],mc[lX],0.,.08,"canceled!",8.5,2.,255,0,0,255,Ic[lX])
set nX=null
return
endif
if co[lX]==0 then
set yX=20+GetUnitAbilityLevel(uo[lX],1093679179)*7
if xT==0 then
if vT<8191 then
set vT=vT+1
set bX=vT
set mT[bX]=697
else
call tX("Out of memory: Could not create Portal.")
set bX=0
endif
else
set xT=xT-1
set bX=jT[xT]
set mT[bX]=697
endif
call E3(bX,Ic[lX],xL(lX),AF,DF,28,0.,"PulseTC_fix4.mdx")
set oo[bX]=AR
set Oo[bX]=DR
set lo[bX]=0
set yo[bX]=0.
set po[bX]=0
set ao[bX]=null
set no[bX]=null
set jl[bX]=true
set bo[bX]=yX
set lo[bX]=lX
call xqw(bX)
call Mnw(kl[bX],145,145,145,145)
if cG==0 then
if oG<8191 then
set oG=oG+1
set yX=oG
set OG[yX]=1060
else
call tX("Out of memory: Could not create Closure.")
set yX=0
endif
else
set cG=cG-1
set yX=SG[cG]
set OG[yX]=1060
endif
set eo[yX]=bX
set qo[yX]=lX
if yX==0 then
call tX("Trying to add null listener")
endif
set ao[bX]=CreateTrigger()
set pX=mT[bX]
if pX>=712 and pX<=776 then
set no[bX]=uo[bX]
else
set pX=mT[bX]
if pX>=696 and pX<=704 then
set no[bX]=xl[kl[bX]]
endif
endif
call YN(ao[bX],no[bX],Zc[bX],null)
call MTw(do,GetHandleId(ao[bX]),yX)
call TriggerAddAction(ao[bX],Sm)
set co[lX]=bX
call AOw(uo[lX],1093679179)
else
set bX=co[lX]
if oo[bX]!=AR or Oo[bX]!=DR then
set yX=co[lX]
set eX=xL(lX)
set qX=AF
set aX=DF
set xc[yX]=eX
set vc[yX]=qX
set mc[yX]=aX
call WOw(xl[kl[yX]],eX,qX,aX)
set qX=AR
set aX=DR
set oo[yX]=qX
set Oo[yX]=aX
if qX!=AR or aX!=DR then
if po[yX]==0 then
set po[yX]=D3(qX,aX,0.,"PulseTC_tgt.mdx")
call SetUnitScale(xl[po[yX]],0.75,0.75,0.75)
set bX=po[yX]
set nX=Ic[yX]
if vl[bX]!=null then
call DestroyEffect(vl[bX])
set vl[bX]=null
endif
call rdw(bX,ml[bX])
call SetUnitOwner(xl[bX],nX,true)
endif
call WOw(xl[po[yX]],oo[yX],Oo[yX],0.)
call mqw(yX)
else
call tdw(po[yX])
set po[yX]=0
call Mnw(kl[yX],90,90,90,90)
endif
call AOw(uo[lX],1093679179)
else
set bX=co[lX]
set qX=xL(lX)
set aX=AF
set oo[bX]=qX
set Oo[bX]=aX
if qX!=AR or aX!=DR then
if po[bX]==0 then
set po[bX]=D3(qX,aX,0.,"PulseTC_tgt.mdx")
call SetUnitScale(xl[po[bX]],0.75,0.75,0.75)
set lX=po[bX]
set nX=Ic[bX]
if vl[lX]!=null then
call DestroyEffect(vl[lX])
set vl[lX]=null
endif
call rdw(lX,ml[lX])
call SetUnitOwner(xl[lX],nX,true)
endif
call WOw(xl[po[bX]],oo[bX],Oo[bX],0.)
call mqw(bX)
else
call tdw(po[bX])
set po[bX]=0
call Mnw(kl[bX],90,90,90,90)
endif
endif
endif
endif
set nX=null
endfunction
function ZB takes nothing returns nothing
local integer vB=GetUnitUserData(GetTriggerUnit())
local integer mB=GetSpellAbilityId()
local real QB
local real WB
local real EB
if mT[vB]<=772 then
if mT[vB]<=771 then
if mT[vB]<=770 then
call NB(vB,mB)
else
call NB(vB,mB)
if mB==1093677656 then
if Ho[vB] or Jo[vB] or Do[vB]then
call AOw(uo[vB],1093677656)
call Rcw(xc[vB],vc[vB],mc[vB],0.,.08,"canceled!",8.5,2.,255,0,0,255,Ic[vB])
else
if cO[vB]!=null then
call RemoveUnit(cO[vB])
endif
set cO[vB]=nOw(Ic[vB],1966092356,xc[vB],vc[vB],mc[vB],0.)
endif
elseif mB==1093678938 then
if Ho[vB] or Jo[vB] or Do[vB]then
call AOw(uo[vB],1093678938)
call Rcw(xc[vB],vc[vB],mc[vB],0.,.08,"canceled!",8.5,2.,255,0,0,255,Ic[vB])
endif
endif
endif
else
call NB(vB,mB)
if mB==1093677112 then
set fo[vB]=true
set Go[vB]=1.+GetUnitAbilityLevel(uo[vB],mB)*2.
if Go[vB]>5. then
set Go[vB]=5.
endif
call UnitAddAbility(uo[vB],1098282348)
call SetUnitPosition(uo[vB],xc[vB],vc[vB])
set EB=vc[vB]
set To[vB]=xc[vB]
set Yo[vB]=EB
set Ro[vB]=AddSpecialEffect("Abilities\\Spells\\Human\\DivineShield\\DivineShieldTarget.mdl",To[vB],Yo[vB])
endif
endif
elseif mT[vB]<=774 then
if mT[vB]<=773 then
call NB(vB,mB)
else
call NB(vB,mB)
if mB==1093678672 then
if Do[vB]then
set QB=GetUnitFacing(uo[vB])
set WB=10.+GetUnitAbilityLevel(uo[vB],1093678672)*2.5
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\CrushingWave\\CrushingWaveDamage.mdl",xc[vB],vc[vB]))
set EB=WB*Cos(QB*0.017453293)
set WB=WB*Sin(QB*0.017453293)
set Qc[vB]=Ylw(Qc[vB],Wc[vB],Ec[vB],EB,WB,0.)
set Wc[vB]=uk
set Ec[vB]=rk
call mqw(vB)
endif
elseif mB==1093679160 then
set EB=GetUnitAbilityLevel(uo[vB],mB)/4.
if Do[vB]then
set Uc[vB]=0.9+EB
call DestroyEffect(AddSpecialEffect("objects\\spawnmodels\\undead\\impaletargetdust\\impaletargetdust.mdx",xc[vB],vc[vB]))
endif
endif
endif
else
call dX(vB,mB)
endif
endfunction
function inw takes integer Baw returns nothing
local integer Naw=GetUnitUserData(ps[Baw])
local integer Maw=PO[Baw]
local real wnw
local real unw
local unit rnw
local real snw
local player tnw
if Maw==0 then
call DisplayTextToPlayer(Ic[Baw],0.,0.,"|cffC51019Please select an Action Mode for the Executer")
elseif Maw==2 then
if Naw==0 then
call DisplayTextToPlayer(Ic[Baw],0.,0.,"|cffC51019Must select an object with the Executer")
endif
set Maw=mT[Naw]
if Maw>=720 and Maw<=737 then
call eyw(Naw,false)
elseif mT[Naw]==715 then
call Aew(Naw)
else
call DisplayTextToPlayer(Ic[Baw],0.,0.,"|cffC51019Invalid object selected")
endif
elseif Maw==3 then
if Naw==0 then
call DisplayTextToPlayer(Ic[Baw],0.,0.,"|cffC51019Must select an object with the Executer")
endif
set Maw=mT[Naw]
if Maw>=720 and Maw<=737 then
call eyw(Naw,not ns[Naw])
elseif mT[Naw]==715 then
if KS[Naw]then
call Aew(Naw)
else
call Hew(Naw)
endif
else
call DisplayTextToPlayer(Ic[Baw],0.,0.,"|cffC51019Invalid object selected")
endif
elseif Maw==1 then
if Naw==0 then
call DisplayTextToPlayer(Ic[Baw],0.,0.,"|cffC51019Must select an object with the Executer")
endif
set Maw=mT[Naw]
if Maw>=720 and Maw<=737 then
call eyw(Naw,true)
elseif mT[Naw]==715 then
call Hew(Naw)
else
call DisplayTextToPlayer(Ic[Baw],0.,0.,"|cffC51019Invalid object selected")
endif
elseif Maw==6 then
call anw(Baw,true)
elseif Maw==5 then
set snw=QZ(Baw)
set unw=lk
if CO[Baw]=="stop" then
call IssueImmediateOrder(LO[Baw],CO[Baw])
else
call IssuePointOrder(LO[Baw],CO[Baw],snw,unw)
endif
elseif Maw==4 then
set unw=QZ(Baw)
set wnw=lk
if hRw(aww(unw,wnw),Ic[Baw]) then
set Naw=XO[Baw]
if Naw==3 then
set tnw=Ic[Baw]
if ps[Baw]!=null then
set rnw=ps[Baw]
set es[Baw]=fbw(xc[Baw],vc[Baw],mc[Baw],GetUnitX(rnw),GetUnitY(rnw))
endif
call FC(unw,wnw,tnw,es[Baw])
elseif Naw==4 then
set tnw=Ic[Baw]
if ps[Baw]!=null then
set rnw=ps[Baw]
set es[Baw]=fbw(xc[Baw],vc[Baw],mc[Baw],GetUnitX(rnw),GetUnitY(rnw))
endif
call OC(unw,wnw,tnw,es[Baw])
elseif Naw==5 then
set tnw=Ic[Baw]
if ps[Baw]!=null then
set rnw=ps[Baw]
set es[Baw]=fbw(xc[Baw],vc[Baw],mc[Baw],GetUnitX(rnw),GetUnitY(rnw))
endif
call ZC(unw,wnw,tnw,es[Baw])
elseif Naw==6 then
set tnw=Ic[Baw]
if ps[Baw]!=null then
set rnw=ps[Baw]
set es[Baw]=fbw(xc[Baw],vc[Baw],mc[Baw],GetUnitX(rnw),GetUnitY(rnw))
endif
call qC(unw,wnw,tnw,es[Baw])
elseif Naw==1 then
set tnw=Ic[Baw]
if ps[Baw]!=null then
set rnw=ps[Baw]
set es[Baw]=fbw(xc[Baw],vc[Baw],mc[Baw],GetUnitX(rnw),GetUnitY(rnw))
endif
call CC(unw,wnw,tnw,es[Baw])
elseif Naw==2 then
set tnw=Ic[Baw]
if ps[Baw]!=null then
set rnw=ps[Baw]
set es[Baw]=fbw(xc[Baw],vc[Baw],mc[Baw],GetUnitX(rnw),GetUnitY(rnw))
endif
set snw=es[Baw]
call bV(Xqw(),unw,wnw,0.,tnw,1966092353,snw,54.,54.)
elseif Naw==7 then
set tnw=Ic[Baw]
if ps[Baw]!=null then
set rnw=ps[Baw]
set es[Baw]=fbw(xc[Baw],vc[Baw],mc[Baw],GetUnitX(rnw),GetUnitY(rnw))
endif
call M9(unw,wnw,tnw,es[Baw])
elseif Naw==8 then
set tnw=Ic[Baw]
if ps[Baw]!=null then
set rnw=ps[Baw]
set es[Baw]=fbw(xc[Baw],vc[Baw],mc[Baw],GetUnitX(rnw),GetUnitY(rnw))
endif
call A5(unw,wnw,tnw,es[Baw])
else
call tX("Unitcreator - Wrong Unittype")
endif
else
call DisplayTextToPlayer(Ic[Baw],0.,0.,"|cffC51019You have no permission to place units in this region!")
endif
else
call DisplayTimedTextToPlayer(Ic[Baw],0.,0.,15.,"Executer has no action set")
endif
set rnw=null
set tnw=null
endfunction
function ZM takes nothing returns nothing
local unit QM=gN(GetTriggeringTrigger())
local integer WM=GetUnitUserData(GetTriggerUnit())
local integer EM=GetUnitUserData(QM)
if DM(EM,WM) then
set WM=IO[EM]
if WM==0 then
call DisplayTextToPlayer(Ic[EM],0.,0.,"|cffC51019Please select an Event Mode for the Executer")
elseif WM==1 then
call inw(EM)
elseif WM==2 then
if not VO[EM]then
call iK("abilities\\spells\\other\\charm\\charmtarget.mdx",xL(EM),AF,DF)
call inw(EM)
call SetUnitVertexColor(uo[EM],44,44,44,255)
set VO[EM]=true
call UnitAddAbility(uo[EM],1093678682)
call Rcw(xc[EM],vc[EM],mc[EM],0.,0.05,"Deactivated",10.,2.,50,50,50,0,Ic[EM])
endif
elseif WM==3 then
if AO[EM]then
call Onw(EM)
set AO[EM]=false
if BO[EM]!=null then
call SetDestructableAnimation(BO[EM],"death")
endif
else
call inw(EM)
set AO[EM]=true
if BO[EM]!=null then
call SetDestructableAnimation(BO[EM],"stand")
endif
endif
endif
endif
set QM=null
endfunction
function ZSw takes nothing returns nothing
local string mSw=GetEventPlayerChatString()
local integer kSw=255
local integer jSw=255
local integer xSw=255
local group gSw
local string hSw
local boolean FSw
local integer vSw
local integer QSw
local integer WSw
local unit ESw
if SubString(mSw,0,4)=="-sc " then
set hSw=SubString(mSw,4,StringLength(mSw))+" "
set FSw=false
set kSw=255
set jSw=255
set xSw=255
set QSw=1
loop
exitwhen QSw>12
if Jf[QSw]+" "==hSw then
set xSw=QSw-1
set kSw=Ri[xSw]
set jSw=Ti[xSw]
set xSw=Yi[xSw]
set FSw=true
endif
set QSw=QSw+1
endloop
if not FSw then
set vSw=0
set mSw=""
set QSw=0
set WSw=StringLength(hSw)-1
loop
exitwhen QSw>WSw
if SubString(hSw,QSw,QSw+1)!=" " then
set mSw=mSw+SubString(hSw,QSw,QSw+1)
else
if vSw==0 then
set kSw=S2I(mSw)
elseif vSw==1 then
set jSw=S2I(mSw)
elseif vSw==2 then
set xSw=S2I(mSw)
endif
set vSw=vSw+1
set mSw=""
endif
set QSw=QSw+1
endloop
endif
set kSw=kSw
set jSw=jSw
set xSw=xSw
endif
set gSw=tSw(GetTriggerPlayer())
loop
exitwhen FirstOfGroup(gSw)==null
set ESw=FirstOfGroup(gSw)
call GroupRemoveUnit(gSw,ESw)
set QSw=GetUnitUserData(ESw)
if mT[QSw]==732 then
set QSw=GetUnitUserData(ESw)
if Cf[QSw]!=kSw or Vf[QSw]!=jSw or Bf[QSw]!=xSw then
set Cf[QSw]=kSw
set Vf[QSw]=jSw
set Bf[QSw]=xSw
call SetTextTagColor(Kf[QSw],Cf[QSw],Vf[QSw],Bf[QSw],0)
call Rcw(xc[QSw],vc[QSw],mc[QSw],0.,0.05,"Color Set",10.,2.,Cf[QSw],Vf[QSw],Bf[QSw],0,Ic[QSw])
endif
elseif mT[QSw]==714 then
call SetUnitVertexColor(uo[GetUnitUserData(ESw)],kSw,jSw,xSw,255)
endif
endloop
set gSw=null
set ESw=null
endfunction
function Zrw takes nothing returns boolean
local integer Wrw
local integer Erw
set Ud=127
set Wd[0]=""
set Wd[1]=""
set Wd[2]=""
set Wd[3]=""
set Wd[4]=""
set Wd[5]=""
set Wd[6]=""
set Wd[7]=""
set Wd[8]=""
set Wd[9]="\t"
set Wd[10]="\n"
set Wd[11]=""
set Wd[12]=""
set Wd[13]="\r"
set Wd[14]=""
set Wd[15]=""
set Wd[16]=""
set Wd[17]=""
set Wd[18]=""
set Wd[19]=""
set Wd[20]=""
set Wd[21]=""
set Wd[22]=""
set Wd[23]=""
set Wd[24]=""
set Wd[25]=""
set Wd[26]=""
set Wd[27]=""
set Wd[28]=""
set Wd[29]=""
set Wd[30]=""
set Wd[31]=""
set Wd[32]=" "
set Wd[33]="!"
set Wd[34]="\""
set Wd[35]="#"
set Wd[36]="$"
set Wd[37]="%"
set Wd[38]="&"
set Wd[39]="'"
set Wd[40]="("
set Wd[41]=")"
set Wd[42]="*"
set Wd[43]="+"
set Wd[44]=","
set Wd[45]="-"
set Wd[46]="."
set Wd[47]="/"
set Wd[48]="0"
set Wd[49]="1"
set Wd[50]="2"
set Wd[51]="3"
set Wd[52]="4"
set Wd[53]="5"
set Wd[54]="6"
set Wd[55]="7"
set Wd[56]="8"
set Wd[57]="9"
set Wd[58]=":"
set Wd[59]=";"
set Wd[60]="<"
set Wd[61]="="
set Wd[62]=">"
set Wd[63]="?"
set Wd[64]="@"
set Wd[65]="A"
set Wd[66]="B"
set Wd[67]="C"
set Wd[68]="D"
set Wd[69]="E"
set Wd[70]="F"
set Wd[71]="G"
set Wd[72]="H"
set Wd[73]="I"
set Wd[74]="J"
set Wd[75]="K"
set Wd[76]="L"
set Wd[77]="M"
set Wd[78]="N"
set Wd[79]="O"
set Wd[80]="P"
set Wd[81]="Q"
set Wd[82]="R"
set Wd[83]="S"
set Wd[84]="T"
set Wd[85]="U"
set Wd[86]="V"
set Wd[87]="W"
set Wd[88]="X"
set Wd[89]="Y"
set Wd[90]="Z"
set Wd[91]="["
set Wd[92]="\\"
set Wd[93]="]"
set Wd[94]="^"
set Wd[95]="_"
set Wd[96]="`"
set Wd[97]="a"
set Wd[98]="b"
set Wd[99]="c"
set Wd[100]="d"
set Wd[101]="e"
set Wd[102]="f"
set Wd[103]="g"
set Wd[104]="h"
set Wd[105]="i"
set Wd[106]="j"
set Wd[107]="k"
set Wd[108]="l"
set Wd[109]="m"
set Wd[110]="n"
set Wd[111]="o"
set Wd[112]="p"
set Wd[113]="q"
set Wd[114]="r"
set Wd[115]="s"
set Wd[116]="t"
set Wd[117]="u"
set Wd[118]="v"
set Wd[119]="w"
set Wd[120]="x"
set Wd[121]="y"
set Wd[122]="z"
set Wd[123]="{"
set Wd[124]="|"
set Wd[125]="}"
set Wd[126]="~"
set Wd[127]=""
set Wrw=0
set Erw=Ud
loop
exitwhen Wrw>Erw
if StringCase(Wd[Wrw],true)==Wd[Wrw]then
set Ed[StringHash(Wd[Wrw])/2033480+1002]=Wrw
endif
set Wrw=Wrw+1
endloop
set Zd[0]=0
set Zd[1]=0
set Zd[2]=0
set Zd[3]=0
set Zd[4]=0
set Zd[5]=0
set Zd[6]=0
set Zd[7]=0
set Zd[8]=0
set Zd[9]=0
set Zd[10]=1000000000
set Zd[11]=0
set Zd[12]=0
set Zd[13]=0
set Zd[14]=0
set Zd[15]=0
set Zd[16]=0
set Zd[17]=0
set Zd[18]=0
set Zd[19]=0
set Zd[20]=0
set Zd[21]=0
set Zd[22]=0
set Zd[23]=0
set Zd[24]=0
set Zd[25]=0
set Zd[26]=0
set Zd[27]=0
set Zd[28]=0
set Zd[29]=0
set Zd[30]=0
set Zd[31]=0
set Zd[32]=70
set Zd[33]=60
set Zd[34]=80
set Zd[35]=180
set Zd[36]=140
set Zd[37]=199
set Zd[38]=219
set Zd[39]=40
set Zd[40]=80
set Zd[41]=80
set Zd[42]=121
set Zd[43]=140
set Zd[44]=55
set Zd[45]=104
set Zd[46]=51
set Zd[47]=121
set Zd[48]=160
set Zd[49]=60
set Zd[50]=160
set Zd[51]=160
set Zd[52]=180
set Zd[53]=160
set Zd[54]=160
set Zd[55]=140
set Zd[56]=160
set Zd[57]=160
set Zd[58]=60
set Zd[59]=60
set Zd[60]=140
set Zd[61]=140
set Zd[62]=140
set Zd[63]=140
set Zd[64]=199
set Zd[65]=206
set Zd[66]=162
set Zd[67]=183
set Zd[68]=193
set Zd[69]=153
set Zd[70]=122
set Zd[71]=204
set Zd[72]=200
set Zd[73]=77
set Zd[74]=80
set Zd[75]=183
set Zd[76]=148
set Zd[77]=264
set Zd[78]=200
set Zd[79]=225
set Zd[80]=156
set Zd[81]=237
set Zd[82]=179
set Zd[83]=156
set Zd[84]=151
set Zd[85]=187
set Zd[86]=183
set Zd[87]=282
set Zd[88]=204
set Zd[89]=179
set Zd[90]=179
set Zd[91]=80
set Zd[92]=100
set Zd[93]=80
set Zd[94]=140
set Zd[95]=140
set Zd[96]=100
set Zd[97]=151
set Zd[98]=159
set Zd[99]=147
set Zd[100]=162
set Zd[101]=159
set Zd[102]=98
set Zd[103]=176
set Zd[104]=159
set Zd[105]=65
set Zd[106]=77
set Zd[107]=147
set Zd[108]=68
set Zd[109]=227
set Zd[110]=156
set Zd[111]=166
set Zd[112]=162
set Zd[113]=162
set Zd[114]=98
set Zd[115]=126
set Zd[116]=100
set Zd[117]=159
set Zd[118]=159
set Zd[119]=229
set Zd[120]=159
set Zd[121]=159
set Zd[122]=147
set Zd[123]=80
set Zd[124]=60
set Zd[125]=80
set Zd[126]=140
set Zd[127]=0
return true
endfunction
function aP takes nothing returns boolean
set Pt=-6000.
set At=6000.
set Dt[0]=1093678420
call n0w(Dt[0])
set Dt[1]=1093678421
call n0w(Dt[1])
set Dt[2]=1093678422
call n0w(Dt[2])
set Dt[3]=1093678423
call n0w(Dt[3])
set Dt[4]=1093678419
call n0w(Dt[4])
set Dt[5]=1093678424
call n0w(Dt[5])
set Dt[6]=1093678425
call n0w(Dt[6])
set Dt[7]=1093678426
call n0w(Dt[7])
set Dt[8]=1093678640
call n0w(Dt[8])
return true
endfunction
function aow takes nothing returns boolean
set mR=ltw()
call SYw(mR,0,"")
return true
endfunction
function btw takes nothing returns boolean
return true
endfunction
function c4 takes nothing returns boolean
set Xl=CreateUnit(Gs,2019778931,0.,0.,0)
call SetUnitPosition(Xl,32256.,32256.)
return true
endfunction
function cJ takes nothing returns nothing
local integer tJ
local real iJ
local boolean SJ
loop
exitwhen ES==0
set tJ=ES
set iJ=GetWidgetLife(FS[tJ])
if QS[tJ] and(not WS[tJ]) then
set iJ=iJ
else
set iJ=jS[tJ]+iJ-xS[tJ]+vS[tJ]
endif
if WS[tJ]then
call UnitRemoveAbility(FS[tJ],2019847535)
endif
if iJ-mS[tJ]>0.405 then
call SetUnitState(FS[tJ],UNIT_STATE_LIFE,iJ-mS[tJ])
else
set SJ=IsTriggerEnabled(hS[tJ])
call DisableTrigger(hS[tJ])
call UnitDamageTarget(kS[tJ],FS[tJ],500000+0.,false,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL,WEAPON_TYPE_WHOKNOWS)
if SJ then
call EnableTrigger(hS[tJ])
endif
endif
set US=US-1
if tJ!=ES then
set PS[IS[tJ]]=PS[tJ]
else
set ES=PS[tJ]
endif
if tJ!=ZS then
set IS[PS[tJ]]=IS[tJ]
else
set ZS=IS[tJ]
endif
if EY[tJ]==0 then
call tX("Double free: object of type Active")
else
set mY[QY]=tJ
set QY=QY+1
set EY[tJ]=0
endif
endloop
endfunction
function d3 takes nothing returns boolean
return true
endfunction
function MA takes nothing returns nothing
local integer CA
local string VA
local integer BA
local boolean NA
set ci=ci+1
if eq[ci]!=0 then
set BA=eq[ci]
if oi<0 then
set oi=wp[qq]
endif
set VA="Checking localfiles for: "+gq[BA]
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,25.,VA)
if not Zq[BA]then
set CA=ctw(Tq[BA])
set BA=uf[CA]
set NA=Gl
set VA=TW(hr[BA])
if mr==Rr[BA]then
call StoreBoolean(Ir[0],Kr[BA],VA,NA)
endif
set hr[BA]=hr[BA]+1
call ATw(CA,Filter(um))
call JTw(CA)
endif
else
call MA()
endif
endfunction
function mRw takes integer FRw,player kRw returns nothing
local integer xRw=GetPlayerId(kRw)
local fogstate jRw
local integer vRw
if xRw<0 or xRw>=12 then
call tX("Index out of Bounds")
elseif xRw<=5 then
if xRw<=2 then
if xRw<=1 then
if xRw<=0 then
set vRw=TF[FRw]
else
set vRw=YF[FRw]
endif
else
set vRw=GF[FRw]
endif
elseif xRw<=4 then
if xRw<=3 then
set vRw=gF[FRw]
else
set vRw=hF[FRw]
endif
else
set vRw=FF[FRw]
endif
elseif xRw<=8 then
if xRw<=7 then
if xRw<=6 then
set vRw=kF[FRw]
else
set vRw=jF[FRw]
endif
else
set vRw=xF[FRw]
endif
elseif xRw<=10 then
if xRw<=9 then
set vRw=vF[FRw]
else
set vRw=mF[FRw]
endif
else
set vRw=QF[FRw]
endif
set jRw=FOG_OF_WAR_VISIBLE
if ma[vRw]!=jRw then
set ma[vRw]=jRw
if va[vRw]!=null then
call DestroyFogModifier(va[vRw])
endif
set va[vRw]=CreateFogModifierRect(Ea[vRw],ma[vRw],Wa[vRw],false,false)
call FogModifierStart(va[vRw])
endif
set jRw=null
endfunction
function SD takes nothing returns nothing
local integer wD
local integer uD
local unit rD
local playerunitevent sD
local player tD
local integer iD
set oi=oi-1
if oi==0 then
if not Oi then
set Oi=true
call CinematicFadeBJ(bj_CINEFADETYPE_FADEIN,2.00,"ReplaceableTextures\\CameraMasks\\Black_mask.blp",0.,0.,0.,0.)
call CameraSetupApplyForceDuration(L,true,0.30)
set wD=tfw(qq)
loop
exitwhen Jy[Vy[wD]]==Cy[wD]
set Vy[wD]=Jy[Vy[wD]]
set iD=Dy[Vy[wD]]
call mRw(xa[22],Tq[iD])
if xT==0 then
if vT<8191 then
set vT=vT+1
set uD=vT
set mT[uD]=769
else
call tX("Out of memory: Could not create Selector.")
set uD=0
endif
else
set xT=xT-1
set uD=jT[xT]
set mT[uD]=769
endif
call VL(uD,nOw(Tq[iD],1747988560,Xe,Ce,Ve,0*.0))
set lq[uD]=iD
set rD=uo[uD]
call UnitAddAbility(rD,Be)
call UnitAddAbility(rD,Ne)
call UnitAddAbility(rD,Me)
call SetUnitVertexColor(rD,ei,qi,ai,ni)
set tD=Tq[iD]
set rD=uo[uD]
if GetLocalPlayer()==tD then
call ClearSelection()
call SelectUnit(rD,true)
endif
set Kq[iD]=uD
set rD=uo[uD]
set sD=EVENT_PLAYER_UNIT_SPELL_CAST
if HT==0 then
if JT<8191 then
set JT=JT+1
set iD=JT
set KT[iD]=835
else
call tX("Out of memory: Could not create Closure.")
set iD=0
endif
else
set HT=HT-1
set iD=DT[HT]
set KT[iD]=835
endif
set xO[iD]=0
set vO[iD]=0
set bq[iD]=uD
call MN(rD,sD,iD)
endloop
call EnablePreSelect(true,false)
endif
else
call MA()
endif
set rD=null
set sD=null
set tD=null
endfunction
function Yfw takes integer nfw,integer dfw,integer ffw,string Rfw,string Tfw returns nothing
call SaveInteger(Fp[nfw],dfw,ffw,gp)
call MultiboardSetItemValue(MultiboardGetItem(hp[nfw],dfw,ffw),Rfw)
call MultiboardSetItemIcon(MultiboardGetItem(hp[nfw],dfw,ffw),Tfw)
set gp=gp+1
endfunction
function u9 takes nothing returns nothing
local integer N8=wp[qq]+1
local multiboarditem L8
local integer X8
local integer C8
local integer V8
local integer B8
local integer M8
local integer w9
if Rg==0 then
if Tg<8191 then
set Tg=Tg+1
set B8=Tg
else
call tX("Out of memory: Could not create Board.")
set B8=0
endif
else
set Rg=Rg-1
set B8=fg[Rg]
endif
set X8=B8
set C8=B8
set V8=3
set hp[B8]=CreateMultiboard()
call MultiboardSetColumnCount(hp[B8],3)
call MultiboardSetRowCount(hp[B8],N8)
set Fp[B8]=InitHashtable()
set B8=1
set N8=N8
loop
exitwhen B8>N8
set M8=1
set w9=V8
loop
exitwhen M8>w9
call Yfw(C8,B8,M8,null,null)
call MultiboardSetItemStyle(MultiboardGetItem(hp[C8],B8,M8),false,false)
set M8=M8+1
endloop
set B8=B8+1
endloop
set pq=X8
set C8=1
set V8=cfw(qq)
loop
exitwhen Jy[Ly[V8]]==Ky[V8]
set Ly[V8]=Jy[Ly[V8]]
set X8=Dy[Ly[V8]]
set L8=MultiboardGetItem(hp[pq],C8,0)
call MultiboardSetItemStyle(L8,true,true)
call MultiboardSetItemWidth(L8,0.1)
set L8=MultiboardGetItem(hp[pq],C8,1)
call MultiboardSetItemStyle(L8,true,false)
call MultiboardSetItemWidth(L8,0.015)
set L8=MultiboardGetItem(hp[pq],C8,2)
call MultiboardSetItemStyle(L8,true,false)
call MultiboardSetItemWidth(L8,0.05)
call Yfw(pq,C8,0,hq[X8],Fq[X8])
call Yfw(pq,C8,1,I2S(Lo[vq[X8]]),null)
call Yfw(pq,C8,2,kq[X8],null)
set C8=C8+1
endloop
call Ldw(V8)
call CameraSetSmoothingFactor(10.)
set L8=MultiboardGetItem(hp[pq],0,0)
call MultiboardSetItemStyle(L8,true,false)
call MultiboardSetItemWidth(L8,0.1)
call Yfw(pq,0,0,"Player",null)
set L8=MultiboardGetItem(hp[pq],0,1)
call MultiboardSetItemStyle(L8,false,true)
call MultiboardSetItemWidth(L8,0.02)
call Yfw(pq,0,1,null,"ReplaceableTextures\\CommandButtons\\BTNAnkh.blp")
set L8=MultiboardGetItem(hp[pq],0,2)
call MultiboardSetItemWidth(L8,0.05)
call MultiboardSetItemStyle(L8,true,false)
call Yfw(pq,0,2,"Rank",null)
call MultiboardDisplay(hp[pq],true)
call EnableUserControl(true)
call EnableOcclusion(true)
set L8=null
endfunction
function d9 takes nothing returns nothing
local integer b9=eq[GetPlayerId(GetTriggerPlayer())]
local integer y9=b9
local integer p9
local integer e9
local group q9
local unit a9
local boolean n9
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,20.,v9(Tq[b9])+"|r |cffFFCC33has left the game!")
call aTw(dq)
if Kq[b9]!=0 then
call A8(Kq[b9])
endif
if vq[b9]!=0 then
if tO[vq[b9]]then
call kqw(vq[b9])
else
set SO[vq[b9]]=true
endif
set vq[b9]=0
endif
call l6(qq,b9)
if jq[eq[GetPlayerId(Tq[b9])]]==0 then
call l6(nq,b9)
else
call l6(aq,b9)
endif
if wp[nq]>1 then
set n9=jq[eq[GetPlayerId(Tq[b9])]]==0
else
set n9=false
endif
if n9 then
if mq[b9]!=0 then
call kqw(mq[b9])
endif
set p9=0
loop
exitwhen p9>22
if Dww(xa[p9],Tq[y9])==2 then
set e9=8
loop
exitwhen e9>11
call MTw(Ia[xa[p9]],GetPlayerId(Bq[e9]),1)
set e9=e9+1
endloop
endif
set p9=p9+1
endloop
call GroupEnumUnitsOfPlayer(Kl,Tq[y9],Filter(Mm))
loop
exitwhen FirstOfGroup(Kl)==null
set q9=Kl
set a9=FirstOfGroup(q9)
call GroupRemoveUnit(q9,a9)
call SetUnitOwner(a9,Tq[Dy[Hy[Ny[nq]]]],true)
endloop
endif
if not Uq[y9]then
call SD()
endif
set eq[Yq[y9]]=0
call u9()
if Dq[y9]!=0 then
set e9=Dq[y9]
call RemoveUnit(Sn[e9])
if oh[e9]==0 then
call tX("Double free: object of type RevivePointModifier")
else
set ih[Sh]=e9
set Sh=Sh+1
set oh[e9]=0
endif
endif
if Eq[y9]!=null then
call DestroyEffect(Eq[y9])
endif
if Ig[b9]==0 then
call tX("Double free: object of type PlayerData")
else
set Eg[Zg]=b9
set Zg=Zg+1
set Ig[b9]=0
endif
set q9=null
set a9=null
endfunction
function dI takes nothing returns nothing
local integer nI=Acw(GetExpiredTimer())
set Is[nI]=false
call IssueImmediateOrderById(Us[nI],851972)
call Kcw(GetExpiredTimer())
endfunction
function dU takes nothing returns boolean
return true
endfunction
function dZ takes nothing returns boolean
local boolean nZ
if GetUnitFlyHeight(GetTriggerUnit())<22. then
set nZ=ns[GetUnitUserData(gN(GetTriggeringTrigger()))]
else
set nZ=false
endif
return nZ
endfunction
function duw takes nothing returns boolean
call CreateTimer()
set Yn=-1
return true
endfunction
function LN takes eventid HN,integer JN returns nothing
local integer KN=hO[GetHandleId(HN)]
if KN==0 then
set KN=EN(HN)
endif
set xO[JN]=KN
if kO[xO[JN]]!=0 then
set vO[JN]=kO[xO[JN]]
endif
set kO[xO[JN]]=JN
endfunction
function Rww_2 takes integer nww returns integer
local integer dww=1
local integer fww_2
loop
exitwhen dww>5
set fww_2=hww(dww)
if fww_2==nww then
return dww
endif
set dww=dww+1
endloop
return 0
endfunction
function TRw takes integer fRw,player RRw returns nothing
call MTw(Ia[fRw],GetPlayerId(RRw),2)
endfunction
function dRw takes integer eRw,integer qRw,boolean aRw returns nothing
local rect nRw
set Pa[eRw]=qRw
if qRw!=0 and aRw then
set nRw=Aa[eRw]
call hww(qRw)
call Www(nRw,KF)
endif
set nRw=null
endfunction
function e1 takes nothing returns nothing
local trigger i1
local trigger S1
local trigger c1
local trigger o1
local integer O1
local rect l1
local region b1
local playerunitevent y1
local quest p1
set Ul[0]="Frotty"
set Il[0]="|cffEF6B21[A]"
set Ul[1]="FrottyZ"
set Il[1]="|cffEF6B21[A]"
set Ul[2]="Feuerblume"
set Il[2]="|cff9C94E6[Tester]"
set Ul[3]="jkkopp"
set Il[3]="|cff9C94E6[Tester]"
set Ul[4]="fortress_na-f"
set Il[4]="|cff9C94E6[Tester]"
set Ul[5]="Kornblume"
set Il[5]="|cff9C94E6[Tester]"
set Ul[6]="Gamestargamer"
set Il[6]="|cff9C94E6[Tester]"
set Ul[7]="gamestargamer"
set Il[7]="|cff9C94E6[Tester]"
set Ul[8]="mooniii"
set Il[8]="|cff9C94E6[Tester]"
set Ul[9]="Carlor01"
set Il[9]="|cff9C94E6[Tester]"
set Ul[10]="Mo0ni[behh]"
set Il[10]="|cff9C94E6[Tester]"
set Ul[11]="metactylic"
set Il[11]="|cffB5DE42[Art]"
set Ul[12]="nore.abfl"
set Il[12]="|cff9C94E6[Tester]"
set Ul[13]="kleinerhauck"
set Il[13]="|cff9C94E6[Tester]"
set Ul[14]="kari0003"
set Il[14]="|cffFFE87C[Adept]"
set Ul[15]="Kagu"
set Il[15]="|cff9C94E6[Tester]"
set Ul[16]="pockpoong"
set Il[16]="|cff9C94E6[Tester]"
set Ul[17]="waterknight"
set Il[17]="|cffDE3121[Critter]"
set Ul[18]="sayack"
set Il[18]="|cff9C94E6[Tester]"
set Al[0]="1:Newbie"
set Pl[0]=100
set Al[1]="|cffBDBDBD2:Beginner"
set Pl[1]=250
set Al[2]="|cffFFE6AD3:Novice"
set Pl[2]=400
set Al[3]="|cffFFD64A4:Rookie"
set Pl[3]=1250
set Al[4]="|cffFFCE195:Superior"
set Pl[4]=2750
set Al[5]="|cffFFA53A6:Major"
set Pl[5]=5000
set Al[6]="7:Pro"
set Pl[6]=9500
set Al[7]="|cff5A8CDE8:Expert"
set Pl[7]=15500
set Al[8]="|cff087BD69:Craver"
set Pl[8]=20000
set Al[9]="|cffD6292110|r|cffB93339:|r|cff9C3D51A|r|cff7F4769d|r|cff625181d|r|cff455B99i|r|cff2865B1c|r|cff0B6FC9t|r"
set Pl[9]=25000
set Al[10]="|cffD629211|r|cffB743270|r|cff985D2D:|r|cff797733L|r|cff5A9139e|r|cff3BAB3Fg|r|cff26A182e|r|cff1C9BA2n|r|cff1295C2d|r"
set Pl[10]=40000
set Al[11]="|cffC563C512:K|r|cffD353ADo|r|cffE14395r|r|cffEF337De|r|cffFF3B43a|r|cffFF4833n|r"
set Pl[11]=75000
set Al[12]="|cff08B5FF13:B|r|cff16A5F4l|r|cff2495E9u|r|cff3285DEe|r|cff4075D3E|r|cff2E73CDy|r|cff1C7BD1e|r|cff0A83D5d|r"
set Pl[12]=150000
set Al[13]="|cff94949414: Amazing-|cff949CEF"
set Pl[13]=200000
set Lb[0]=1227894841
set Lb[1]=1227894851
set Lb[2]=1227894836
set Lb[3]=1227894840
set Lb[4]=1227894858
set Lb[5]=1227894837
set Lb[6]=1227894863
set Lb[7]=1227894850
set Lb[8]=1227894838
set AS[0]=1227894841
set AS[1]=1227894851
set AS[2]=1227894836
set AS[3]=1227894840
set AS[4]=1227894858
set AS[5]=1227894837
set AS[6]=1227894863
set AS[7]=1227894850
set AS[8]=1227894838
set y1=EVENT_PLAYER_UNIT_SPELL_CAST
if HT==0 then
if JT<8191 then
set JT=JT+1
set O1=JT
set KT[O1]=780
else
call tX("Out of memory: Could not create Closure.")
set O1=0
endif
else
set HT=HT-1
set O1=DT[HT]
set KT[O1]=780
endif
set xO[O1]=0
set vO[O1]=0
call LN(y1,O1)
set y1=EVENT_PLAYER_UNIT_SPELL_CAST
if HT==0 then
if JT<8191 then
set JT=JT+1
set O1=JT
set KT[O1]=806
else
call tX("Out of memory: Could not create Closure.")
set O1=0
endif
else
set HT=HT-1
set O1=DT[HT]
set KT[O1]=806
endif
set xO[O1]=0
set vO[O1]=0
call LN(y1,O1)
set Gf[0]=1093678170
set Gf[1]=1093678169
set Gf[2]=1093678168
call TimerStart(CreateTimer(),0.10,true,Rm)
set fR[0]="Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl"
set fR[1]="Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl"
set fR[2]="Abilities\\Spells\\Undead\\Impale\\ImpaleMissTarget.mdl"
set fR[3]="Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl"
set fR[4]="Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBoltImpact.mdl"
set fR[5]="Abilities\\Spells\\Other\\Monsoon\\MonsoonBoltTarget.mdl"
set fR[6]="Abilities\\Spells\\Other\\Volcano\\VolcanoDeath.mdl"
set fR[7]="Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl"
set fR[8]="Objects\\Spawnmodels\\NightElf\\NEDeathSmall\\NEDeathSmall.mdl"
set fR[9]=""
set i1=CreateTrigger()
set S1=CreateTrigger()
set c1=CreateTrigger()
set o1=CreateTrigger()
set O1=0
loop
exitwhen O1>11
call TriggerRegisterPlayerChatEvent(i1,Player(O1),"-st ",false)
call TriggerRegisterPlayerChatEvent(S1,Player(O1),"-sc ",false)
call TriggerRegisterPlayerChatEvent(c1,Player(O1),"-sht",true)
call TriggerRegisterPlayerChatEvent(o1,Player(O1),"-ht",true)
set O1=O1+1
endloop
call TriggerAddAction(o1,Tm)
call TriggerAddAction(c1,Ym)
call TriggerAddAction(S1,Gm)
call TriggerAddAction(i1,gm)
set Jf[0]="white"
set Jf[1]="red"
set Jf[2]="blue"
set Jf[3]="teal"
set Jf[4]="purple"
set Jf[5]="yellow"
set Jf[6]="orange"
set Jf[7]="green"
set Jf[8]="pink"
set Jf[9]="gray"
set Jf[10]="lightblue"
set Jf[11]="darkgreen"
set Jf[12]="brown"
set Ks=CreateTrigger()
call TriggerAddAction(Ks,hm)
set Ll[1]=1848651842
set Ll[2]=1848651824
set Ll[3]=1848652098
set Ll[4]=1747988793
set Ll[5]=1848652082
set Ll[6]=1848652100
set Ll[7]=1848651850
set Ll[8]=1848651827
set Ll[9]=1848651828
set Ll[10]=1848651843
set Ll[11]=1747988530
set Ll[12]=1868714820
set Ll[13]=1868710468
set Ll[14]=1848652080
set Ll[15]=1747988813
set Ll[16]=1848651830
set Ll[17]=1848652099
set Ll[18]=1747988552
set Ll[19]=1748004462
set Ll[20]=1848651849
set Ll[21]=1747988528
set Ll[22]=1747988537
set Ll[23]=1848651851
set Ll[24]=1848651856
set Ll[25]=1848651857
set Ll[26]=1848652081
set Ll[27]=1848651826
set Ll[28]=1093678411
set Ll[29]=1093678406
set Ll[30]=1093678415
set Ll[31]=1848651826
set Ll[32]=1093678416
set Ll[33]=1093678407
set Ll[34]=1093678410
set Ll[35]=1093678413
set Ll[36]=1093678408
set Ll[37]=1093678937
set Ll[38]=1097232997
set Ll[39]=1093678933
set Ll[40]=1093678915
set Ll[41]=1093678409
set Ll[42]=1093678414
set Ll[43]=1093678412
set Ll[139]=1718969195
set Ll[140]=1848651862
set Ll[141]=1848651861
set Ll[142]=1848651866
set Ll[143]=1848651860
set Ll[144]=1848652097
set Ll[145]=1848651853
set Ll[146]=1848652084
set Ll[147]=1848651847
set Ll[148]=1848652086
set Ll[149]=1848652085
set Ll[150]=1848652087
set Ll[151]=Ap
if Bh==0 then
if Nh<8191 then
set Nh=Nh+1
set O1=Nh
set Mh[O1]=1120
else
call tX("Out of memory: Could not create Closure.")
set O1=0
endif
else
set Bh=Bh-1
set O1=Vh[Bh]
set Mh[O1]=1120
endif
set aT[0]=1227894869
set nT[0]=1093679153
set dT[0]=1093678919
set fT[0]="weapons\\attachment\\Sabre.mdx"
set RT[0]=O1
if Bh==0 then
if Nh<8191 then
set Nh=Nh+1
set O1=Nh
set Mh[O1]=1119
else
call tX("Out of memory: Could not create Closure.")
set O1=0
endif
else
set Bh=Bh-1
set O1=Vh[Bh]
set Mh[O1]=1119
endif
set aT[1]=1227894871
set nT[1]=1093679154
set dT[1]=1093679157
set fT[1]="weapons\\attachment\\ThrallHammer.mdx"
set RT[1]=O1
if Bh==0 then
if Nh<8191 then
set Nh=Nh+1
set O1=Nh
set Mh[O1]=1117
else
call tX("Out of memory: Could not create Closure.")
set O1=0
endif
else
set Bh=Bh-1
set O1=Vh[Bh]
set Mh[O1]=1117
endif
set aT[2]=1227894870
set nT[2]=1093679155
set dT[2]=1093678920
set fT[2]="weapons\\attachment\\Sabre.mdx"
set RT[2]=O1
if Bh==0 then
if Nh<8191 then
set Nh=Nh+1
set O1=Nh
set Mh[O1]=1118
else
call tX("Out of memory: Could not create Closure.")
set O1=0
endif
else
set Bh=Bh-1
set O1=Vh[Bh]
set Mh[O1]=1118
endif
set aT[3]=1227894873
set nT[3]=1093679156
set dT[3]=1093679158
set fT[3]="weapons\\attachment\\Sabre.mdx"
set RT[3]=O1
set xa[0]=www(D)
call dRw(xa[0],Rww_2(1227894852),false)
call TRw(xa[0],Dl)
set xa[1]=www(A)
call dRw(xa[1],Rww_2(1227894855),false)
call TRw(xa[1],Dl)
set xa[2]=www(g)
call dRw(xa[2],Rww_2(1227894853),false)
call TRw(xa[2],Dl)
set xa[3]=www(h)
call dRw(xa[3],Rww_2(1227894856),false)
call TRw(xa[3],Dl)
set O1=www(k)
set l1=Aa[O1]
call CreateUnit(Dl,1848651832,GetRectCenterX(l1),GetRectCenterY(l1),270*0.017453293*57.295779513)
set xa[4]=O1
set O1=www(j)
set l1=Aa[O1]
call CreateUnit(Dl,1848651832,GetRectCenterX(l1),GetRectCenterY(l1),270*0.017453293*57.295779513)
set xa[5]=O1
set O1=www(x)
set l1=Aa[O1]
call CreateUnit(Dl,1848651832,GetRectCenterX(l1),GetRectCenterY(l1),270*0.017453293*57.295779513)
set xa[6]=O1
set O1=www(v)
set l1=Aa[O1]
call CreateUnit(Dl,1848651832,GetRectCenterX(l1),GetRectCenterY(l1),270*0.017453293*57.295779513)
set xa[7]=O1
set O1=www(m)
set l1=Aa[O1]
call CreateUnit(Dl,1848651832,GetRectCenterX(l1),GetRectCenterY(l1),270*0.017453293*57.295779513)
set xa[8]=O1
set O1=www(Q)
set l1=Aa[O1]
call CreateUnit(Dl,1848651832,GetRectCenterX(l1),GetRectCenterY(l1),270*0.017453293*57.295779513)
set xa[9]=O1
set O1=www(W)
set l1=Aa[O1]
call CreateUnit(Dl,1848651832,GetRectCenterX(l1),GetRectCenterY(l1),270*0.017453293*57.295779513)
set xa[10]=O1
set O1=www(E)
set l1=Aa[O1]
call CreateUnit(Dl,1848651832,GetRectCenterX(l1),GetRectCenterY(l1),270*0.017453293*57.295779513)
set xa[11]=O1
set O1=www(Z)
set l1=Aa[O1]
call CreateUnit(Dl,1848651832,GetRectCenterX(l1),GetRectCenterY(l1),270*0.017453293*57.295779513)
set xa[12]=O1
set O1=www(U)
set l1=Aa[O1]
call CreateUnit(Dl,1848651832,GetRectCenterX(l1),GetRectCenterY(l1),270*0.017453293*57.295779513)
set xa[13]=O1
set O1=www(Y)
set l1=Aa[O1]
call CreateUnit(Dl,1848651832,GetRectCenterX(l1),GetRectCenterY(l1),270*0.017453293*57.295779513)
set xa[14]=O1
set O1=www(G)
set l1=Aa[O1]
call CreateUnit(Dl,1848651832,GetRectCenterX(l1),GetRectCenterY(l1),270*0.017453293*57.295779513)
set xa[15]=O1
set O1=www(I)
set l1=Aa[O1]
call CreateUnit(Dl,1848651832,GetRectCenterX(l1),GetRectCenterY(l1),270*0.017453293*57.295779513)
set xa[16]=O1
set O1=www(P)
set l1=Aa[O1]
call CreateUnit(Dl,1848651832,GetRectCenterX(l1),GetRectCenterY(l1),270*0.017453293*57.295779513)
set xa[17]=O1
set O1=www(T)
set l1=Aa[O1]
call CreateUnit(Dl,1848651832,GetRectCenterX(l1),GetRectCenterY(l1),270*0.017453293*57.295779513)
set xa[18]=O1
set O1=www(F)
set l1=Aa[O1]
call CreateUnit(Dl,1848651832,GetRectCenterX(l1),GetRectCenterY(l1),270*0.017453293*57.295779513)
set xa[19]=O1
set O1=www(H)
set l1=Aa[O1]
call CreateUnit(Dl,1848651832,GetRectCenterX(l1),GetRectCenterY(l1),270*0.017453293*57.295779513)
set xa[20]=O1
set xa[21]=www(J)
call TRw(xa[21],Dl)
call dRw(xa[21],Rww_2(1227894852),false)
set xa[22]=www(R)
call dRw(xa[22],Rww_2(1227894852),false)
call TRw(xa[22],Dl)
set i1=CreateTrigger()
set l1=K
set b1=CreateRegion()
call RegionAddRect(b1,l1)
call TriggerRegisterLeaveRegion(i1,b1,null)
call MTw(fO,GetHandleId(i1),GetHandleId(l1))
call TriggerAddAction(i1,Fm)
set Gn[0]=0.049
set gn[0]=0.001
set Gn[1]=0.048
set gn[1]=0.002
set Gn[2]=0.047
set gn[2]=0.003
set Gn[3]=0.046
set gn[3]=0.004
set Gn[4]=0.045
set gn[4]=0.005
set Gn[5]=0.044
set gn[5]=0.006
set Gn[6]=0.043
set gn[6]=0.007
set Gn[7]=0.041
set gn[7]=0.008
set Gn[8]=0.040
set gn[8]=0.009
set Gn[9]=0.039
set gn[9]=0.008
set Gn[10]=0.038
set gn[10]=0.007
set Gn[11]=0.037
set gn[11]=0.006
set Gn[12]=0.036
set gn[12]=0.005
set Gn[13]=0.035
set gn[13]=0.004
set Gn[14]=0.034
set gn[14]=0.003
set Gn[15]=0.033
set gn[15]=0.002
set Gn[16]=0.032
set gn[16]=0.001
set Gn[17]=0.031
set gn[17]=0.002
set Gn[18]=0.030
set gn[18]=0.003
set Gn[19]=0.029
set gn[19]=0.004
set Gn[20]=0.028
set gn[20]=0.005
set Gn[21]=0.027
set gn[21]=0.006
set Gn[22]=0.026
set gn[22]=0.007
set Gn[23]=0.025
set gn[23]=0.008
set Gn[24]=0.024
set gn[24]=0.009
set Gn[25]=0.023
set gn[25]=0.008
set Gn[26]=0.022
set gn[26]=0.007
set Gn[27]=0.021
set gn[27]=0.006
set Gn[28]=0.020
set gn[28]=0.005
set Gn[29]=0.019
set gn[29]=0.004
set Gn[30]=-0.049
set gn[30]=0.003
set Gn[31]=-0.048
set gn[31]=0.002
set Gn[32]=-0.047
set gn[32]=0.001
set Gn[33]=-0.046
set gn[33]=0.002
set Gn[34]=-0.045
set gn[34]=0.003
set Gn[35]=-0.044
set gn[35]=0.004
set Gn[36]=-0.043
set gn[36]=0.005
set Gn[37]=-0.041
set gn[37]=0.006
set Gn[38]=-0.040
set gn[38]=0.007
set Gn[39]=-0.039
set gn[39]=0.008
set Gn[40]=-0.038
set gn[40]=0.009
set Gn[41]=-0.037
set gn[41]=0.008
set Gn[42]=-0.036
set gn[42]=0.007
set Gn[43]=-0.035
set gn[43]=0.006
set Gn[44]=-0.034
set gn[44]=0.005
set Gn[45]=-0.033
set gn[45]=0.004
set Gn[46]=-0.032
set gn[46]=0.003
set Gn[47]=-0.031
set gn[47]=0.002
set Gn[48]=-0.030
set gn[48]=0.001
set Gn[49]=-0.029
set gn[49]=0.002
set Gn[50]=-0.028
set gn[50]=0.003
set Gn[51]=-0.027
set gn[51]=0.004
set Gn[52]=-0.026
set gn[52]=0.005
set Gn[53]=-0.025
set gn[53]=0.006
set Gn[54]=-0.024
set gn[54]=0.007
set Gn[55]=-0.023
set gn[55]=0.008
set Gn[56]=-0.022
set gn[56]=0.009
set Gn[57]=-0.021
set gn[57]=0.000
set Gn[58]=-0.020
set gn[58]=0.009
set Gn[59]=-0.019
set gn[59]=0.008
set y1=EVENT_PLAYER_UNIT_SPELL_CAST
if HT==0 then
if JT<8191 then
set JT=JT+1
set O1=JT
set KT[O1]=821
else
call tX("Out of memory: Could not create Closure.")
set O1=0
endif
else
set HT=HT-1
set O1=DT[HT]
set KT[O1]=821
endif
set xO[O1]=0
set vO[O1]=0
call LN(y1,O1)
set y1=EVENT_PLAYER_UNIT_SPELL_EFFECT
if HT==0 then
if JT<8191 then
set JT=JT+1
set O1=JT
set KT[O1]=838
else
call tX("Out of memory: Could not create Closure.")
set O1=0
endif
else
set HT=HT-1
set O1=DT[HT]
set KT[O1]=838
endif
set xO[O1]=0
set vO[O1]=0
call LN(y1,O1)
set p1=CreateQuest()
call QuestSetTitle(p1,"Commands")
call QuestSetIconPath(p1,"ReplaceableTextures\\CommandButtons\\BTNOrcCaptureFlag.blp")
call QuestSetDescription(p1,"Check out - discord:https://discord.gg/yr3ZyYQ - hiveworkshop: https://goo.gl/R4G2FM\n"+"Available Commands:\n"+"-clear (clears textmessages)\n"+"-smode (Toggles revive selection, also effects camera pan)\n"+"-cam [value] (sets camera distance)\n"+"-cam lock (locks the camera onto your escaper)\n"+"-cam unlock (unlocks the camera)\n"+"-frev (revives your escaper, when he doesn't revive anymore due to a bug)\n"+"-info (shows basic information about the current Area)\n")
set p1=CreateQuest()
call QuestSetTitle(p1,"Credits")
call QuestSetRequired(p1,false)
call QuestSetIconPath(p1,"ReplaceableTextures\\CommandButtons\\BTNtemp.blp")
call QuestSetDescription(p1,"Check out - discord:https://discord.gg/yr3ZyYQ - hiveworkshop: https://goo.gl/R4G2FM\n"+"Special thanks in unsorted manner:\n"+"-kari0003\n"+"-menag\n"+"-Crigges\n"+"-WaterKnight\n"+"-hiveworkshop ppl\n"+"-old b.net friends whos names I forgot ;( good ol' times\n"+"-Geronimo\n"+"-The koreans: pockpoong, kagu, sayack\n"+"-Gamestargamer"+"-Garfield1337\n"+"-Masterstryke\n"+"-SFan042\n")
set i1=CreateTrigger()
set O1=0
loop
exitwhen O1>11
call TriggerRegisterPlayerChatEvent(i1,Player(O1),"-",false)
set O1=O1+1
endloop
call TriggerAddAction(i1,km)
call TimerStart(GetExpiredTimer(),0.01,false,jm)
set i1=null
set S1=null
set c1=null
set o1=null
set l1=null
set b1=null
set y1=null
set p1=null
endfunction
function vsw takes string ksw,string jsw returns integer
local integer xsw=StringLength(ksw)-StringLength(jsw)
loop
exitwhen xsw<0
if SubString(ksw,xsw,xsw+StringLength(jsw))==jsw then
return xsw
endif
set xsw=xsw-1
endloop
return -1
endfunction
function e2 takes nothing returns boolean
local integer O2
local integer l2
local integer b2
local integer y2
local integer p2
set Rb=p6()
set l2=Rb
if BG==0 then
if NG<8191 then
set NG=NG+1
set O2=NG
else
call tX("Out of memory: Could not create Music.")
set O2=0
endif
else
set BG=BG-1
set O2=VG[BG]
endif
set jb[O2]=1093677908
set xb[O2]="Sound\\Music\\mp3Music\\Doom.mp3"
set vb[O2]=66.125
set mb[O2]=SubString("Sound\\Music\\mp3Music\\Doom.mp3",vsw("Sound\\Music\\mp3Music\\Doom.mp3","\\")+1,vsw("Sound\\Music\\mp3Music\\Doom.mp3","."))
call ufw(l2,O2)
set O2=Rb
if BG==0 then
if NG<8191 then
set NG=NG+1
set l2=NG
else
call tX("Out of memory: Could not create Music.")
set l2=0
endif
else
set BG=BG-1
set l2=VG[BG]
endif
set jb[l2]=808464432
set xb[l2]="Sound\\Music\\mp3Music\\Human1.mp3"
set vb[l2]=273.032
set mb[l2]=SubString("Sound\\Music\\mp3Music\\Human1.mp3",vsw("Sound\\Music\\mp3Music\\Human1.mp3","\\")+1,vsw("Sound\\Music\\mp3Music\\Human1.mp3","."))
call ufw(O2,l2)
set O2=Rb
if BG==0 then
if NG<8191 then
set NG=NG+1
set l2=NG
else
call tX("Out of memory: Could not create Music.")
set l2=0
endif
else
set BG=BG-1
set l2=VG[BG]
endif
set jb[l2]=808464432
set xb[l2]="Sound\\Music\\mp3Music\\Human2.mp3"
set vb[l2]=236.983
set mb[l2]=SubString("Sound\\Music\\mp3Music\\Human2.mp3",vsw("Sound\\Music\\mp3Music\\Human2.mp3","\\")+1,vsw("Sound\\Music\\mp3Music\\Human2.mp3","."))
call ufw(O2,l2)
set O2=Rb
if BG==0 then
if NG<8191 then
set NG=NG+1
set l2=NG
else
call tX("Out of memory: Could not create Music.")
set l2=0
endif
else
set BG=BG-1
set l2=VG[BG]
endif
set jb[l2]=1093677900
set xb[l2]="Sound\\Music\\mp3Music\\HumanX1.mp3"
set vb[l2]=284.646
set mb[l2]=SubString("Sound\\Music\\mp3Music\\HumanX1.mp3",vsw("Sound\\Music\\mp3Music\\HumanX1.mp3","\\")+1,vsw("Sound\\Music\\mp3Music\\HumanX1.mp3","."))
call ufw(O2,l2)
set O2=Rb
if BG==0 then
if NG<8191 then
set NG=NG+1
set l2=NG
else
call tX("Out of memory: Could not create Music.")
set l2=0
endif
else
set BG=BG-1
set l2=VG[BG]
endif
set jb[l2]=808464432
set xb[l2]="Sound\\Music\\mp3Music\\Orc1.mp3"
set vb[l2]=311.954
set mb[l2]=SubString("Sound\\Music\\mp3Music\\Orc1.mp3",vsw("Sound\\Music\\mp3Music\\Orc1.mp3","\\")+1,vsw("Sound\\Music\\mp3Music\\Orc1.mp3","."))
call ufw(O2,l2)
set l2=Rb
if BG==0 then
if NG<8191 then
set NG=NG+1
set O2=NG
else
call tX("Out of memory: Could not create Music.")
set O2=0
endif
else
set BG=BG-1
set O2=VG[BG]
endif
set jb[O2]=808464432
set xb[O2]="Sound\\Music\\mp3Music\\Orc2.mp3"
set vb[O2]=313.496
set mb[O2]=SubString("Sound\\Music\\mp3Music\\Orc2.mp3",vsw("Sound\\Music\\mp3Music\\Orc2.mp3","\\")+1,vsw("Sound\\Music\\mp3Music\\Orc2.mp3","."))
call ufw(l2,O2)
set l2=Rb
if BG==0 then
if NG<8191 then
set NG=NG+1
set O2=NG
else
call tX("Out of memory: Could not create Music.")
set O2=0
endif
else
set BG=BG-1
set O2=VG[BG]
endif
set jb[O2]=808464432
set xb[O2]="Sound\\Music\\mp3Music\\Orc3.mp3"
set vb[O2]=282.706
set mb[O2]=SubString("Sound\\Music\\mp3Music\\Orc3.mp3",vsw("Sound\\Music\\mp3Music\\Orc3.mp3","\\")+1,vsw("Sound\\Music\\mp3Music\\Orc3.mp3","."))
call ufw(l2,O2)
set O2=Rb
if BG==0 then
if NG<8191 then
set NG=NG+1
set l2=NG
else
call tX("Out of memory: Could not create Music.")
set l2=0
endif
else
set BG=BG-1
set l2=VG[BG]
endif
set jb[l2]=808464432
set xb[l2]="Sound\\Music\\mp3Music\\OrcX1.mp3"
set vb[l2]=324.953
set mb[l2]=SubString("Sound\\Music\\mp3Music\\OrcX1.mp3",vsw("Sound\\Music\\mp3Music\\OrcX1.mp3","\\")+1,vsw("Sound\\Music\\mp3Music\\OrcX1.mp3","."))
call ufw(O2,l2)
set O2=Rb
if BG==0 then
if NG<8191 then
set NG=NG+1
set l2=NG
else
call tX("Out of memory: Could not create Music.")
set l2=0
endif
else
set BG=BG-1
set l2=VG[BG]
endif
set jb[l2]=1093677650
set xb[l2]="Sound\\Music\\mp3Music\\PursuitTheme.mp3"
set vb[l2]=86.537
set mb[l2]=SubString("Sound\\Music\\mp3Music\\PursuitTheme.mp3",vsw("Sound\\Music\\mp3Music\\PursuitTheme.mp3","\\")+1,vsw("Sound\\Music\\mp3Music\\PursuitTheme.mp3","."))
call ufw(O2,l2)
set l2=Rb
if BG==0 then
if NG<8191 then
set NG=NG+1
set O2=NG
else
call tX("Out of memory: Could not create Music.")
set O2=0
endif
else
set BG=BG-1
set O2=VG[BG]
endif
set jb[O2]=1093677904
set xb[O2]="Sound\\Music\\mp3Music\\SadMystery.mp3"
set vb[O2]=84.515
set mb[O2]=SubString("Sound\\Music\\mp3Music\\SadMystery.mp3",vsw("Sound\\Music\\mp3Music\\SadMystery.mp3","\\")+1,vsw("Sound\\Music\\mp3Music\\SadMystery.mp3","."))
call ufw(l2,O2)
set l2=Rb
if BG==0 then
if NG<8191 then
set NG=NG+1
set O2=NG
else
call tX("Out of memory: Could not create Music.")
set O2=0
endif
else
set BG=BG-1
set O2=VG[BG]
endif
set jb[O2]=808464432
set xb[O2]="Sound\\Music\\mp3Music\\Tension.mp3"
set vb[O2]=19.540
set mb[O2]=SubString("Sound\\Music\\mp3Music\\Tension.mp3",vsw("Sound\\Music\\mp3Music\\Tension.mp3","\\")+1,vsw("Sound\\Music\\mp3Music\\Tension.mp3","."))
call ufw(l2,O2)
set l2=Rb
if BG==0 then
if NG<8191 then
set NG=NG+1
set O2=NG
else
call tX("Out of memory: Could not create Music.")
set O2=0
endif
else
set BG=BG-1
set O2=VG[BG]
endif
set jb[O2]=1093677909
set xb[O2]="Sound\\Music\\mp3Music\\TragicConfrontation.mp3"
set vb[O2]=72.264
set mb[O2]=SubString("Sound\\Music\\mp3Music\\TragicConfrontation.mp3",vsw("Sound\\Music\\mp3Music\\TragicConfrontation.mp3","\\")+1,vsw("Sound\\Music\\mp3Music\\TragicConfrontation.mp3","."))
call ufw(l2,O2)
set O2=Rb
if BG==0 then
if NG<8191 then
set NG=NG+1
set l2=NG
else
call tX("Out of memory: Could not create Music.")
set l2=0
endif
else
set BG=BG-1
set l2=VG[BG]
endif
set jb[l2]=808464432
set xb[l2]="Sound\\Music\\mp3Music\\Undead1.mp3"
set vb[l2]=303.507
set mb[l2]=SubString("Sound\\Music\\mp3Music\\Undead1.mp3",vsw("Sound\\Music\\mp3Music\\Undead1.mp3","\\")+1,vsw("Sound\\Music\\mp3Music\\Undead1.mp3","."))
call ufw(O2,l2)
set l2=Rb
if BG==0 then
if NG<8191 then
set NG=NG+1
set O2=NG
else
call tX("Out of memory: Could not create Music.")
set O2=0
endif
else
set BG=BG-1
set O2=VG[BG]
endif
set jb[O2]=808464432
set xb[O2]="Sound\\Music\\mp3Music\\Undead2.mp3"
set vb[O2]=309.242
set mb[O2]=SubString("Sound\\Music\\mp3Music\\Undead2.mp3",vsw("Sound\\Music\\mp3Music\\Undead2.mp3","\\")+1,vsw("Sound\\Music\\mp3Music\\Undead2.mp3","."))
call ufw(l2,O2)
set l2=Rb
if BG==0 then
if NG<8191 then
set NG=NG+1
set O2=NG
else
call tX("Out of memory: Could not create Music.")
set O2=0
endif
else
set BG=BG-1
set O2=VG[BG]
endif
set jb[O2]=1093677903
set xb[O2]="Sound\\Music\\mp3Music\\PH1.mp3"
set vb[O2]=281.582
set mb[O2]=SubString("Sound\\Music\\mp3Music\\PH1.mp3",vsw("Sound\\Music\\mp3Music\\PH1.mp3","\\")+1,vsw("Sound\\Music\\mp3Music\\PH1.mp3","."))
call ufw(l2,O2)
set l2=Rb
if BG==0 then
if NG<8191 then
set NG=NG+1
set O2=NG
else
call tX("Out of memory: Could not create Music.")
set O2=0
endif
else
set BG=BG-1
set O2=VG[BG]
endif
set jb[O2]=1093677901
set xb[O2]="Sound\\Music\\mp3Music\\ArthasTheme.mp3"
set vb[O2]=122.295
set mb[O2]=SubString("Sound\\Music\\mp3Music\\ArthasTheme.mp3",vsw("Sound\\Music\\mp3Music\\ArthasTheme.mp3","\\")+1,vsw("Sound\\Music\\mp3Music\\ArthasTheme.mp3","."))
call ufw(l2,O2)
set O2=Rb
if BG==0 then
if NG<8191 then
set NG=NG+1
set l2=NG
else
call tX("Out of memory: Could not create Music.")
set l2=0
endif
else
set BG=BG-1
set l2=VG[BG]
endif
set jb[l2]=808464432
set xb[l2]="Sound\\Music\\mp3Music\\BloodElfTheme.mp3"
set vb[l2]=144.552
set mb[l2]=SubString("Sound\\Music\\mp3Music\\BloodElfTheme.mp3",vsw("Sound\\Music\\mp3Music\\BloodElfTheme.mp3","\\")+1,vsw("Sound\\Music\\mp3Music\\BloodElfTheme.mp3","."))
call ufw(O2,l2)
set l2=Rb
if BG==0 then
if NG<8191 then
set NG=NG+1
set O2=NG
else
call tX("Out of memory: Could not create Music.")
set O2=0
endif
else
set BG=BG-1
set O2=VG[BG]
endif
set jb[O2]=1093677907
set xb[O2]="Sound\\Music\\mp3Music\\War2IntroMusic.mp3"
set vb[O2]=81.136
set mb[O2]=SubString("Sound\\Music\\mp3Music\\War2IntroMusic.mp3",vsw("Sound\\Music\\mp3Music\\War2IntroMusic.mp3","\\")+1,vsw("Sound\\Music\\mp3Music\\War2IntroMusic.mp3","."))
call ufw(l2,O2)
set l2=Rb
if BG==0 then
if NG<8191 then
set NG=NG+1
set O2=NG
else
call tX("Out of memory: Could not create Music.")
set O2=0
endif
else
set BG=BG-1
set O2=VG[BG]
endif
set jb[O2]=1093677905
set xb[O2]="Sound\\Music\\mp3Music\\Credits.mp3"
set vb[O2]=83.017
set mb[O2]=SubString("Sound\\Music\\mp3Music\\Credits.mp3",vsw("Sound\\Music\\mp3Music\\Credits.mp3","\\")+1,vsw("Sound\\Music\\mp3Music\\Credits.mp3","."))
call ufw(l2,O2)
set l2=Rb
if BG==0 then
if NG<8191 then
set NG=NG+1
set O2=NG
else
call tX("Out of memory: Could not create Music.")
set O2=0
endif
else
set BG=BG-1
set O2=VG[BG]
endif
set jb[O2]=808464432
set xb[O2]="Sound\\Music\\mp3Music\\Comradeship.mp3"
set vb[O2]=124.927
set mb[O2]=SubString("Sound\\Music\\mp3Music\\Comradeship.mp3",vsw("Sound\\Music\\mp3Music\\Comradeship.mp3","\\")+1,vsw("Sound\\Music\\mp3Music\\Comradeship.mp3","."))
call ufw(l2,O2)
set l2=Rb
if BG==0 then
if NG<8191 then
set NG=NG+1
set O2=NG
else
call tX("Out of memory: Could not create Music.")
set O2=0
endif
else
set BG=BG-1
set O2=VG[BG]
endif
set jb[O2]=1093677902
set xb[O2]="Sound\\Music\\mp3Music\\DarkAgents.mp3"
set vb[O2]=64.950
set mb[O2]=SubString("Sound\\Music\\mp3Music\\DarkAgents.mp3",vsw("Sound\\Music\\mp3Music\\DarkAgents.mp3","\\")+1,vsw("Sound\\Music\\mp3Music\\DarkAgents.mp3","."))
call ufw(l2,O2)
set O2=Rb
if BG==0 then
if NG<8191 then
set NG=NG+1
set l2=NG
else
call tX("Out of memory: Could not create Music.")
set l2=0
endif
else
set BG=BG-1
set l2=VG[BG]
endif
set jb[l2]=808464432
set xb[l2]="Sound\\Music\\mp3Music\\IllidansTheme.mp3"
set vb[l2]=108.006
set mb[l2]=SubString("Sound\\Music\\mp3Music\\IllidansTheme.mp3",vsw("Sound\\Music\\mp3Music\\IllidansTheme.mp3","\\")+1,vsw("Sound\\Music\\mp3Music\\IllidansTheme.mp3","."))
call ufw(O2,l2)
set l2=Rb
if BG==0 then
if NG<8191 then
set NG=NG+1
set O2=NG
else
call tX("Out of memory: Could not create Music.")
set O2=0
endif
else
set BG=BG-1
set O2=VG[BG]
endif
set jb[O2]=808464432
set xb[O2]="Sound\\Music\\mp3Music\\LichKingTheme.mp3"
set vb[O2]=79.193
set mb[O2]=SubString("Sound\\Music\\mp3Music\\LichKingTheme.mp3",vsw("Sound\\Music\\mp3Music\\LichKingTheme.mp3","\\")+1,vsw("Sound\\Music\\mp3Music\\LichKingTheme.mp3","."))
call ufw(l2,O2)
set l2=Rb
if BG==0 then
if NG<8191 then
set NG=NG+1
set O2=NG
else
call tX("Out of memory: Could not create Music.")
set O2=0
endif
else
set BG=BG-1
set O2=VG[BG]
endif
set jb[O2]=1093677906
set xb[O2]="Sound\\Music\\mp3Music\\NagaTheme.mp3"
set vb[O2]=87.1877
set mb[O2]=SubString("Sound\\Music\\mp3Music\\NagaTheme.mp3",vsw("Sound\\Music\\mp3Music\\NagaTheme.mp3","\\")+1,vsw("Sound\\Music\\mp3Music\\NagaTheme.mp3","."))
call ufw(l2,O2)
if HG==0 then
if JG<8191 then
set JG=JG+1
set y2=JG
else
call tX("Out of memory: Could not create JukeBox.")
set y2=0
endif
else
set HG=HG-1
set y2=DG[HG]
endif
set O2=y2
set l2=y2
set Tb[y2]=p6()
set Yb[y2]=p6()
set gb[y2]=false
set Gb[y2]=Hcw()
call MTw(cR,GetHandleId(Gb[y2]),y2)
set b2=0
loop
exitwhen b2>3
set y2=0
set p2=wp[Rb]
loop
exitwhen y2>p2
if ModuloInteger(y2*GetRandomInt(1,7),2)==0 then
call lfw(Yb[l2],y2)
else
call ufw(Yb[l2],y2)
endif
set y2=y2+1
endloop
set b2=b2+1
endloop
set fb=O2
return true
endfunction
function e6 takes nothing returns boolean
return true
endfunction
function e8 takes nothing returns boolean
set Ee=0.
set Ze=0.
set Ue=-0.8
return true
endfunction
function eH takes nothing returns boolean
return true
endfunction
function eK takes nothing returns boolean
local integer pK
if tG==0 then
if iG<8191 then
set iG=iG+1
set pK=iG
else
call tX("Out of memory: Could not create Iterator.")
set pK=0
endif
else
set tG=tG-1
set pK=sG[tG]
endif
set wo[pK]=Jc
set gc=pK
if eY==0 then
if qY<8191 then
set qY=qY+1
set pK=qY
else
call tX("Out of memory: Could not create Iterator.")
set pK=0
endif
else
set eY=eY-1
set pK=pY[eY]
endif
set It[pK]=Qt
set hc=pK
return true
endfunction
function eN takes nothing returns boolean
local integer pN
set YO=CreateTrigger()
set GO=CreateTrigger()
set gO=CreateTrigger()
set FO=0
if IT==0 then
if PT<8191 then
set PT=PT+1
set pN=PT
set AT[pN]=665
else
call tX("Out of memory: Could not create Closure.")
set pN=0
endif
else
set IT=IT-1
set pN=UT[IT]
set AT[pN]=665
endif
call lA(pN,0.0)
return true
endfunction
function eow takes nothing returns nothing
local unit Oow=gN(GetTriggeringTrigger())
local integer low=GetUnitUserData(GetTriggerUnit())
local integer bow=GetUnitUserData(Oow)
local integer yow
local boolean pow
if not Mc[bow]then
set yow=mT[low]
set pow=yow>=770 and yow<=775
else
set pow=false
endif
if pow then
call DestroyEffect(AddSpecialEffect(fR[RR[bow]],GetUnitX(uo[bow]),GetUnitY(uo[bow])))
call YYw(bow,low)
endif
set Oow=null
endfunction
function eww takes nothing returns boolean
set rn=D1()
call fww(EVENT_PLAYER_UNIT_SPELL_EFFECT,uQ)
return true
endfunction
function f9 takes nothing returns nothing
call u9()
endfunction
function fH takes nothing returns boolean
set Di=0
set Hi=CreateTimer()
return true
endfunction
function fI takes nothing returns boolean
return true
endfunction
function grw takes nothing returns nothing
call RemoveDestructable(GetEnumDestructable())
endfunction
function gww takes nothing returns boolean
return true
endfunction
function hE takes nothing returns nothing
local camerasetup GE=L
local player gE=Player(0)
if GetLocalPlayer()==gE then
call CameraSetupApplyForceDuration(GE,true,0.)
endif
set GE=null
set gE=null
endfunction
function hww_2 takes nothing returns boolean
set On=erw("Sound\\Interface\\Rescue.wav",false)
set ln=0
return true
endfunction
function i3 takes nothing returns boolean
local integer t3
set Gl=false
set pl[1]="000"
set pl[2]="00"
set pl[3]="0"
set pl[4]=""
if IT==0 then
if PT<8191 then
set PT=PT+1
set t3=PT
set AT[t3]=681
else
call tX("Out of memory: Could not create Closure.")
set t3=0
endif
else
set IT=IT-1
set t3=UT[IT]
set AT[t3]=681
endif
call SA(t3)
return true
endfunction
function iuw takes nothing returns boolean
return true
endfunction
function j0w takes nothing returns boolean
set na=2
return true
endfunction
function jE takes nothing returns nothing
local rect kE=bj_mapInitialPlayableArea
call MoveRectToLoc(D,Location(GetRectCenterX(kE),GetRectCenterY(kE)))
set kE=bj_mapInitialPlayableArea
call MoveRectToLoc(J,Location(GetRectCenterX(kE),GetRectCenterY(kE)))
set kE=null
endfunction
function jbw takes nothing returns boolean
return true
endfunction
function jrw takes nothing returns boolean
set md=-1
return true
endfunction
function Rqw takes integer aqw,real nqw,real dqw,real fqw returns nothing
if mT[aqw]<=740 then
if mT[aqw]<=704 then
if mT[aqw]<=695 then
set xc[aqw]=nqw
set vc[aqw]=dqw
set mc[aqw]=fqw
else
set xc[aqw]=nqw
set vc[aqw]=dqw
set mc[aqw]=fqw
call WOw(xl[kl[aqw]],nqw,dqw,fqw)
endif
elseif mT[aqw]<=711 then
set xc[aqw]=nqw
set vc[aqw]=dqw
set mc[aqw]=fqw
else
call EL(aqw,nqw,dqw,fqw)
endif
elseif mT[aqw]<=776 then
if mT[aqw]<=766 then
call Guw(aqw,nqw,dqw,fqw)
else
call EL(aqw,nqw,dqw,fqw)
endif
else
set xc[aqw]=nqw
set vc[aqw]=dqw
set mc[aqw]=fqw
endif
endfunction
function k6 takes nothing returns nothing
local unit n6=gN(GetTriggeringTrigger())
local unit d6=GetTriggerUnit()
local integer f6=GetUnitUserData(d6)
local integer R6=GetUnitUserData(n6)
local real T6=QZ(R6)
local real Y6=lk
local real G6=bk
local integer g6=mT[f6]
local player h6
local boolean F6
if g6>=770 and g6<=775 then
call Rqw(f6,T6,Y6,G6)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl",xc[R6],vc[R6]))
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl",T6,Y6))
if not Ko[vq[eq[GetPlayerId(GetOwningPlayer(d6))]]]then
set h6=GetOwningPlayer(d6)
if GetLocalPlayer()==h6 then
call PanCameraToTimed(T6,Y6,0.03)
endif
endif
if jq[eq[GetPlayerId(Ic[f6])]]==1 and Ic[R6]==Dl then
set F6=GetUnitAbilityLevel(uo[R6],1093677131)<=0
else
set F6=false
endif
if F6 then
call kqw(R6)
else
if qs[R6]==null then
set qs[R6]=AddSpecialEffect("objects\\inventoryitems\\questionmark\\questionmark.mdx",xc[R6],vc[R6])
endif
call Ryw(R6,xc[R6],vc[R6])
if up[R6]!=null then
call DestroyTextTag(up[R6])
set up[R6]=isw(xL(R6),AF,DF,hq[eq[GetPlayerId(Ic[R6])]]+" - |cffffcc00building",11.)
endif
endif
endif
set n6=null
set d6=null
set h6=null
endfunction
function k7 takes nothing returns boolean
local integer g7
local integer h7
local group F7
set Zp=CreateTrigger()
set Up=null
call TriggerRegisterEnterRegion(CreateTrigger(),tp,Filter(Bm))
call fww(EVENT_PLAYER_UNIT_ISSUED_ORDER,Nm)
set Pp=560283684
set g7=0
set h7=bj_MAX_PLAYER_SLOTS-1
loop
exitwhen g7>h7
call SetPlayerAbilityAvailable(Bq[g7],Pp,false)
set g7=g7+1
endloop
set F7=CreateGroup()
call GroupEnumUnitsInRect(F7,sp,null)
if IT==0 then
if PT<8191 then
set PT=PT+1
set h7=PT
set AT[h7]=673
else
call tX("Out of memory: Could not create Closure.")
set h7=0
endif
else
set IT=IT-1
set h7=UT[IT]
set AT[h7]=673
endif
set Ip[h7]=F7
call SA(h7)
set Pp=560283684
set F7=null
return true
endfunction
function kI takes nothing returns boolean
return true
endfunction
function kbw takes nothing returns boolean
set uT=172225
return true
endfunction
function krw takes nothing returns boolean
return GetOwningPlayer(GetFilterUnit())==Dl
endfunction
function l9 takes nothing returns nothing
local string r9
local string s9
local integer t9
local integer i9
local integer S9
local player c9
local camerafield o9
local real O9
set Rq=Rq+1
set r9="|cffffffff"
set s9="|cffffffff"
if Rq<10 then
set r9="|cffffffff"+"0"+I2S(Rq)
else
set r9="|cffffffff"+I2S(Rq)
endif
if fq<10 then
set s9="|cffffffff"+"0"+I2S(fq)
else
set s9="|cffffffff"+I2S(fq)
endif
set r9=r9+"|r"
set s9=s9+"|r"
call MultiboardSetTitleText(hp[pq],"EBR 0.89"+" [ "+s9+" : "+r9+" ]")
if Rq>=60 then
set Rq=0
set fq=fq+1
if ModuloReal(fq,5)==0. then
set i9=cfw(qq)
loop
exitwhen Jy[Ly[i9]]==Ky[i9]
set Ly[i9]=Jy[Ly[i9]]
call kfw(Dy[Ly[i9]],10,true)
endloop
call Ldw(i9)
endif
endif
set t9=1
set i9=cfw(qq)
loop
exitwhen Jy[Ly[i9]]==Ky[i9]
set Ly[i9]=Jy[Ly[i9]]
set S9=Dy[Ly[i9]]
call Yfw(pq,t9,0,hq[S9],Fq[S9])
call Yfw(pq,t9,1,I2S(Lo[vq[S9]]),null)
call Yfw(pq,t9,2,kq[S9],null)
if vq[S9]!=0 then
set c9=Tq[S9]
set o9=CAMERA_FIELD_TARGET_DISTANCE
set O9=Aq[S9]
if GetLocalPlayer()==c9 then
call SetCameraField(o9,O9,1.)
endif
endif
set t9=t9+1
endloop
call Ldw(i9)
set c9=null
set o9=null
endfunction
function lE takes nothing returns nothing
call RemoveUnit(ow)
endfunction
function lrw takes nothing returns nothing
local timer crw=GetExpiredTimer()
local integer orw=Acw(crw)
local integer Orw
set id[orw]=null
if Sd[orw]!=0 then
set Orw=Sd[orw]
if ph[Orw]==0 then
call tX("Double free: object of type Sim3DSound")
else
set yh=yh+1
set ph[Orw]=0
endif
endif
if wp[Hn[sd[orw]]]<4 then
call ufw(Hn[sd[orw]],orw)
elseif Yh[orw]==0 then
call tX("Double free: object of type SoundInstance")
else
set fh[Rh]=orw
set Rh=Rh+1
set Yh[orw]=0
endif
call Kcw(crw)
set crw=null
endfunction
function m2 takes nothing returns nothing
call x2(Acw(GetExpiredTimer()))
endfunction
function m7 takes nothing returns nothing
local unit v7=GetTriggerUnit()
if GetUnitAbilityLevel(v7,Pp)==0 then
set Up=v7
call TriggerExecute(Zp)
set Up=null
endif
set v7=null
endfunction
function m9 takes nothing returns boolean
set Nq=I2S(R2I(-1739309337))
return true
endfunction
function mA takes nothing returns boolean
return true
endfunction
function mE takes nothing returns nothing
local rect vE=bj_mapInitialPlayableArea
call MoveRectToLoc(H,Location(GetRectCenterX(vE),GetRectCenterY(vE)))
set vE=bj_mapInitialPlayableArea
call MoveRectToLoc(R,Location(GetRectCenterX(vE),GetRectCenterY(vE)))
call ShowUnitShow(pw)
call ShowUnitShow(ew)
call ShowUnitShow(Vw)
call ShowUnitShow(yw)
call ShowUnitShow(Gu)
call ShowUnitShow(bw)
call ShowUnitShow(Cw)
call ShowUnitShow(Ju)
call ShowUnitShow(Ku)
call ShowUnitShow(Du)
call ShowUnitShow(sr)
call ShowUnitShow(Uw)
call ShowUnitShow(Iw)
call ShowUnitShow(Zw)
call ShowUnitShow(Dw)
call ShowUnitShow(Pw)
call ShowUnitShow(Aw)
call ShowUnitShow(Hw)
call ShowUnitShow(Jw)
call ShowUnitShow(hw)
call ShowUnitShow(gw)
call ShowUnitShow(mw)
call ShowUnitShow(Xw)
call ShowUnitShow(Lu)
call ShowUnitShow(Xu)
call ShowUnitShow(Cu)
call ShowUnitShow(Vu)
call ShowUnitShow(Bu)
call ShowUnitShow(Nu)
call ShowUnitShow(Ew)
call ShowUnitShow(Ww)
call ShowUnitShow(ir)
call ShowUnitShow(Sr)
call ShowUnitShow(tr)
call ShowUnitShow(cr)
call ShowUnitShow(nu)
call ShowUnitShow(pu)
call ShowUnitShow(bu)
call ShowUnitShow(yu)
call ShowUnitShow(lu)
call ShowUnitShow(au)
call ShowUnitShow(qu)
call ShowUnitShow(ou)
call ShowUnitShow(eu)
call ShowUnitShow(Su)
call ShowUnitShow(Qu)
call ShowUnitShow(gu)
call ShowUnitShow(hu)
call ShowUnitShow(Wu)
call ShowUnitShow(Ou)
call ShowUnitShow(cu)
call ShowUnitShow(Bw)
call ShowUnitShow(uu)
call ShowUnitShow(ru)
call ShowUnitShow(iu)
call ShowUnitShow(tu)
call ShowUnitShow(su)
call ShowUnitShow(wu)
call ShowUnitShow(Nw)
call ShowUnitShow(Mw)
call ShowUnitShow(ju)
call ShowUnitShow(ku)
call ShowUnitShow(mu)
call ShowUnitShow(vu)
call ShowUnitShow(xu)
call ShowUnitShow(Eu)
call ShowUnitShow(Iu)
call ShowUnitShow(Zu)
call ShowUnitShow(Uu)
call ShowUnitShow(du)
call ShowUnitShow(fu)
call ShowUnitShow(Kw)
call ShowUnitShow(Fu)
call ShowUnitShow(Yu)
call ShowUnitShow(Ow)
call ShowUnitShow(Qw)
call ShowUnitShow(vw)
call ShowUnitShow(xw)
call ShowUnitShow(jw)
call ShowUnitShow(kw)
call ShowUnitShow(Gw)
call ShowUnitShow(Tw)
call ShowUnitShow(Rw)
call ShowUnitShow(Yw)
call ShowUnitShow(aw)
call ShowUnitShow(qw)
call ShowUnitShow(Mu)
call ShowUnitShow(wr)
call ShowUnitShow(ur)
call ShowUnitShow(rr)
call ShowUnitShow(lw)
set vE=null
endfunction
function mrw takes nothing returns nothing
local item xrw=GetEnumItem()
local integer vrw
if GetItemTypeId(xrw)==1227894841 then
call x5(GetItemX(xrw),GetItemY(xrw),Dl)
call RemoveItem(xrw)
elseif GetItemTypeId(xrw)==1227894858 then
set vrw=x5(GetItemX(xrw),GetItemY(xrw),Dl)
set Cb[vrw]=4
call Ddw(vrw)
call RemoveItem(xrw)
elseif GetItemTypeId(xrw)==1227894840 then
set vrw=x5(GetItemX(xrw),GetItemY(xrw),Dl)
set Cb[vrw]=3
call Ddw(vrw)
call RemoveItem(xrw)
endif
set xrw=null
endfunction
function nJ takes nothing returns nothing
local unit bJ=gN(GetTriggeringTrigger())
local unit yJ=GetTriggerUnit()
local integer pJ=GetUnitUserData(yJ)
local integer eJ=GetUnitUserData(bJ)
local integer qJ
local boolean aJ
if not KS[eJ]then
set qJ=mT[pJ]
set aJ=qJ>=770 and qJ<=775
else
set aJ=false
endif
if aJ then
if mc[pJ]<64. then
if GetInventoryIndexOfItemTypeBJ(yJ,AS[HS[eJ]])>0 then
set qJ=GetItemUserData(GetItemOfTypeFromUnitBJ(yJ,AS[HS[eJ]]))
if qJ!=0 then
call kqw(qJ)
call Hew(eJ)
call kfw(eq[GetPlayerId(Ic[pJ])],10,false)
endif
endif
endif
endif
set bJ=null
set yJ=null
endfunction
function nSw takes nothing returns nothing
local group eSw=tSw(GetTriggerPlayer())
local integer qSw
local unit aSw
loop
exitwhen FirstOfGroup(eSw)==null
set aSw=FirstOfGroup(eSw)
call GroupRemoveUnit(eSw,aSw)
if mT[GetUnitUserData(aSw)]==732 then
set qSw=GetUnitUserData(aSw)
call SetTextTagVisibility(Kf[qSw],false)
set Xf[qSw]=true
call Rcw(xc[qSw],vc[qSw],mc[qSw],0.,0.05,"Hidden",10.,2.,255,255,255,0,Ic[qSw])
endif
endloop
set eSw=null
set aSw=null
endfunction
function nuw takes nothing returns nothing
local unit cuw=GetTriggerUnit()
local unit ouw=GetBuyingUnit()
local item Ouw=GetSoldItem()
local integer quw=GetItemTypeId(Ouw)
local integer luw=GetUnitUserData(ouw)
local integer buw=aww(GetUnitX(cuw),GetUnitY(cuw))
local real yuw
local real puw
local player euw
local playerunitevent auw
set quw=Rww_2(quw)
if Pa[buw]==0 and quw!=0 then
call RemoveItem(Ouw)
if Bt[luw]>0 then
set Bt[luw]=Bt[luw]-1
call dRw(buw,quw,true)
call TRw(buw,Ic[luw])
call RemoveItem(GetManipulatedItem())
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Charm\\CharmTarget.mdl",GetUnitX(cuw),GetUnitY(cuw)))
call RemoveUnit(cuw)
call DisplayTextToPlayer(Ic[luw],0.,0.,"|cff6BC54AYou claimed this region!\nA |cffFFCC00Setupunit|cff6BC54A has been created at the |cffFFCC00left top corner|cff6BC54A of your region.")
set yuw=GetRectMinX(Aa[buw])+192.
set puw=GetRectMaxY(Aa[buw])-192.
set euw=Ic[luw]
if xT==0 then
if vT<8191 then
set vT=vT+1
set quw=vT
set mT[quw]=740
else
call tX("Out of memory: Could not create SetupBox.")
set quw=0
endif
else
set xT=xT-1
set quw=jT[xT]
set mT[quw]=740
endif
call VL(quw,sOw(euw,1848651841,yuw,puw,0.,quw))
call yww(quw)
set Rn[quw]=buw
set cuw=uo[quw]
call UnitAddAbility(cuw,1093677400)
call UnitAddAbility(cuw,1093677616)
call UnitAddAbility(cuw,1093678913)
call UnitAddAbility(cuw,1093678936)
call UnitAddAbility(cuw,1093678935)
call UnitAddAbility(cuw,1093679158)
call UnitAddAbility(cuw,1093679159)
call UnitAddAbility(cuw,1093678671)
call UnitAddAbility(cuw,1093679174)
call UnitAddAbility(cuw,nn)
set cuw=uo[quw]
set auw=EVENT_PLAYER_UNIT_SPELL_EFFECT
if HT==0 then
if JT<8191 then
set JT=JT+1
set buw=JT
set KT[buw]=825
else
call tX("Out of memory: Could not create Closure.")
set buw=0
endif
else
set HT=HT-1
set buw=DT[HT]
set KT[buw]=825
endif
set xO[buw]=0
set vO[buw]=0
set Tn[buw]=quw
call MN(cuw,auw,buw)
if GetLocalPlayer()==Ic[luw]then
call SelectUnit(uo[luw],true)
endif
else
call DisplayTimedTextToPlayer(Ic[luw],0.,0.,15.,"|cff3187CBYou have used up all your regions. Leave some for the other builders")
endif
endif
set cuw=null
set ouw=null
set Ouw=null
set euw=null
set auw=null
endfunction
function o5 takes nothing returns nothing
local integer N2=GetUnitUserData(GetTriggerUnit())
local integer M2=GetUnitUserData(gN(GetTriggeringTrigger()))
local integer w5=mT[N2]
local real u5
local real r5
local real s5
local real t5
local real i5
local real S5
local boolean c5
if w5>=770 and w5<=775 then
set t5=QZ(M2)
set c5=hRw(aww(t5,lk),Ic[M2])
else
set c5=false
endif
if c5 then
call ZOw(uo[N2])
set w5=Ib[M2]
if w5==0 then
call faw(N2)
set mc[N2]=1.
set u5=QZ(M2)
set r5=lk
set s5=bk
set t5=hi[Pb[M2]]
set i5=u5-xc[N2]
set S5=r5-vc[N2]
set S5=SquareRoot(i5*i5+S5*S5)/t5
set r5=Fbw(xc[N2],vc[N2],mc[N2],u5,r5,s5)
if S5<1. then
set S5=1./t5
endif
set M2=Gww(N2)
set u5=(-(Ca[M2]*S5))/2.-mc[N2]/S5
set s5=Cos(r5)*t5
set t5=Sin(r5)*t5
set Qc[N2]=s5
set Wc[N2]=t5
set Ec[N2]=u5
call mqw(N2)
elseif w5==1 then
set Qc[N2]=Ylw(Qc[N2],Wc[N2],Ec[N2],0.,0.,hi[Pb[M2]])
set Wc[N2]=uk
set Ec[N2]=rk
call mqw(N2)
endif
call gaw(N2,xc[N2]+0.,vc[N2]+0.,mc[N2]+1.)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\FlakCannons\\FlakTarget.mdl",xc[N2],vc[N2]))
endif
endfunction
function UTw takes integer ZTw returns nothing
call jW(uf[ZTw])
set uf[ZTw]=0
if Eh[ZTw]==0 then
call tX("Double free: object of type SyncData")
else
set mh[Qh]=ZTw
set Qh=Qh+1
set Eh[ZTw]=0
endif
endfunction
function oD takes nothing returns nothing
local integer cD=eq[GetPlayerId(rf[vr])]
set Zq[cD]=GetStoredBoolean(Ir[0],Kr[uf[vr]],TW(0))
call UTw(vr)
if Zq[cD]then
call DisplayTimedTextToPlayer(Tq[cD],0.,0.,25.,"You have |cffFFCC00local files enabled|r and will be able to save data!")
else
call DisplayTimedTextToPlayer(Tq[cD],0.,0.,15.,"You have |cffDE5A21local files disabled|r. You need to enabale it in order to save stuff!")
endif
set Uq[cD]=true
call SD()
endfunction
function oE takes nothing returns boolean
local integer rE=0
local integer sE=c
local boolean tE=true
local integer iE=o
local filterfunc SE
local boolean cE
if not xr[iE]then
set SE=null
return false
endif
set jr[iE]=jr[iE]+1
call SaveBoolean(Zr,sE,iE,true)
loop
exitwhen rE==bj_MAX_PLAYER_SLOTS
if GetPlayerController(Player(rE))==MAP_CONTROL_USER and GetPlayerSlotState(Player(rE))==PLAYER_SLOT_STATE_PLAYING then
set cE=not LoadBoolean(Zr,rE,iE)
else
set cE=false
endif
if cE then
set tE=false
endif
set rE=rE+1
endloop
if tE then
set Qr=Qr-1
if Qr==0 then
call PauseTimer(Ar)
endif
set xr[iE]=false
set Yr[iE]=Wr+TimerGetElapsed(Pr)
set Gr[iE]=Yr[iE]-Tr[iE]
if ar[iE]!=null then
set SE=ar[iE]
set vr=iE
call TriggerAddCondition(Er,SE)
call TriggerEvaluate(Er)
call TriggerClearConditions(Er)
endif
set vr=iE
if Jr[iE]!=null then
call TriggerEvaluate(Jr[iE])
endif
if fr[iE]!=null and TriggerEvaluate(fr[iE]) then
call TriggerExecute(fr[iE])
endif
endif
set SE=null
return false
endfunction
function Niw takes unit Xiw returns integer
local integer Ciw
local playerunitevent Viw
local integer Biw
if xT==0 then
if vT<8191 then
set vT=vT+1
set Ciw=vT
set mT[Ciw]=776
else
call tX("Out of memory: Could not create TerrainModder.")
set Ciw=0
endif
else
set xT=xT-1
set Ciw=jT[xT]
set mT[Ciw]=776
endif
call VL(Ciw,Xiw)
set Qf[Ciw]=0
set Wf[Ciw]=0
set Ef[Ciw]=0
set Xiw=uo[Ciw]
call SetUnitPosition(Xiw,Pt,At)
call SetUnitPropWindow(Xiw,0.)
call UnitAddAbility(Xiw,hf)
call UnitAddAbility(Xiw,Ff)
call UnitAddAbility(Xiw,jf)
call UnitAddAbility(Xiw,mf)
set Xiw=uo[Ciw]
set Viw=EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER
if HT==0 then
if JT<8191 then
set JT=JT+1
set Biw=JT
set KT[Biw]=798
else
call tX("Out of memory: Could not create Closure.")
set Biw=0
endif
else
set HT=HT-1
set Biw=DT[HT]
set KT[Biw]=798
endif
set xO[Biw]=0
set vO[Biw]=0
set Zf[Biw]=Ciw
call MN(Xiw,Viw,Biw)
set Xiw=uo[Ciw]
set Viw=EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER
if HT==0 then
if JT<8191 then
set JT=JT+1
set Biw=JT
set KT[Biw]=781
else
call tX("Out of memory: Could not create Closure.")
set Biw=0
endif
else
set HT=HT-1
set Biw=DT[HT]
set KT[Biw]=781
endif
set xO[Biw]=0
set vO[Biw]=0
set Uf[Biw]=Ciw
call MN(Xiw,Viw,Biw)
set Xiw=uo[Ciw]
set Viw=EVENT_PLAYER_UNIT_SPELL_EFFECT
if HT==0 then
if JT<8191 then
set JT=JT+1
set Biw=JT
set KT[Biw]=801
else
call tX("Out of memory: Could not create Closure.")
set Biw=0
endif
else
set HT=HT-1
set Biw=DT[HT]
set KT[Biw]=801
endif
set xO[Biw]=0
set vO[Biw]=0
set If[Biw]=Ciw
call MN(Xiw,Viw,Biw)
set Viw=null
return Ciw
endfunction
function ZP takes player vP returns integer
local integer mP
local playerunitevent QP
local unit WP
local integer EP
if xT==0 then
if vT<8191 then
set vT=vT+1
set mP=vT
set mT[mP]=768
else
call tX("Out of memory: Could not create Builder.")
set mP=0
endif
else
set xT=xT-1
set mP=jT[xT]
set mT[mP]=768
endif
call VL(mP,sOw(vP,1966092337,-6000.,-7160.,0.,mP))
set Bt[mP]=0
set Nt[mP]=false
set WP=uo[mP]
set QP=EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER
if HT==0 then
if JT<8191 then
set JT=JT+1
set EP=JT
set KT[EP]=817
else
call tX("Out of memory: Could not create Closure.")
set EP=0
endif
else
set HT=HT-1
set EP=DT[HT]
set KT[EP]=817
endif
set xO[EP]=0
set vO[EP]=0
set Ht[EP]=mP
call MN(WP,QP,EP)
set WP=uo[mP]
set QP=EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER
if HT==0 then
if JT<8191 then
set JT=JT+1
set EP=JT
set KT[EP]=802
else
call tX("Out of memory: Could not create Closure.")
set EP=0
endif
else
set HT=HT-1
set EP=DT[HT]
set KT[EP]=802
endif
set xO[EP]=0
set vO[EP]=0
set Jt[EP]=mP
call MN(WP,QP,EP)
set WP=uo[mP]
set QP=EVENT_PLAYER_UNIT_SPELL_CAST
if HT==0 then
if JT<8191 then
set JT=JT+1
set EP=JT
set KT[EP]=799
else
call tX("Out of memory: Could not create Closure.")
set EP=0
endif
else
set HT=HT-1
set EP=DT[HT]
set KT[EP]=799
endif
set xO[EP]=0
set vO[EP]=0
set Kt[EP]=mP
call MN(WP,QP,EP)
set WP=uo[mP]
set QP=EVENT_PLAYER_UNIT_CONSTRUCT_FINISH
if HT==0 then
if JT<8191 then
set JT=JT+1
set EP=JT
set KT[EP]=839
else
call tX("Out of memory: Could not create Closure.")
set EP=0
endif
else
set HT=HT-1
set EP=DT[HT]
set KT[EP]=839
endif
set xO[EP]=0
set vO[EP]=0
call MN(WP,QP,EP)
call yww(mP)
set QP=null
set WP=null
return mP
endfunction
function oH takes nothing returns nothing
local string VD=GetEventPlayerChatString()
local player BD
local integer ND
local string MD
local unit wH
local group uH
local camerafield rH
local integer sH
local integer tH
local real iH
local real SH
local boolean cH
if not Tsw(VD,"-") then
set BD=null
set wH=null
set uH=null
set rH=null
return
endif
set BD=GetTriggerPlayer()
set ND=eq[GetPlayerId(BD)]
set MD=SubString(VD,1,Fsw(VD," "))
if vq[ND]==0 and MD!="d" then
call DisplayTimedTextToPlayer(BD,0.,0.,10.,"|cffFFD621[Info]|r - Commands are only available after pick")
set BD=null
set wH=null
set uH=null
set rH=null
return
endif
if MD=="rename" then
if Fsw(VD," ")<StringLength(VD) then
call SetPlayerName(BD,SubString(VD,Fsw(VD," ")+1,StringLength(VD)))
endif
elseif MD=="clear" then
if GetLocalPlayer()==BD then
call ClearTextMessages()
endif
elseif MD=="cam" then
set MD=SubString(VD,Fsw(VD," ")+1,StringLength(VD))
if MD=="lock" then
set wH=uo[vq[ND]]
if GetLocalPlayer()==BD then
call SetCameraTargetController(wH,0.,0.,true)
endif
set Ko[vq[ND]]=true
elseif MD=="unlock" then
if GetLocalPlayer()==BD then
call ResetToGameCamera(1.)
endif
set Ko[vq[ND]]=false
else
set Aq[ND]=nsw(MD)*1.
if Aq[ND]>3000. then
set Aq[ND]=3000.
call DisplayTimedTextToPlayer(BD,0.,0.,10.,"|cffFFD621[Info]|r - Maximum Zoom is 3000")
elseif Aq[ND]<500. then
set Aq[ND]=500.
call DisplayTimedTextToPlayer(BD,0.,0.,10.,"|cffFFD621[Info]|r - Minimum Zoom is 500")
endif
set rH=CAMERA_FIELD_TARGET_DISTANCE
set SH=Aq[ND]
if GetLocalPlayer()==BD then
call SetCameraField(rH,SH,1.)
endif
endif
elseif MD=="frev" then
call DisplayTimedTextToPlayer(BD,0.,0.,10.,"|cffFFD621[Info]|r - Trying forced revive!")
if vq[ND]==0 then
if IT==0 then
if PT<8191 then
set PT=PT+1
set sH=PT
set AT[sH]=657
else
call tX("Out of memory: Could not create Closure.")
set sH=0
endif
else
set IT=IT-1
set sH=UT[IT]
set AT[sH]=657
endif
set Gi[sH]=ND
call lA(sH,0.1)
else
if uo[vq[ND]]==null then
set cH=true
else
set cH=not UnitAlive(uo[vq[ND]])
endif
if cH then
if IT==0 then
if PT<8191 then
set PT=PT+1
set sH=PT
set AT[sH]=669
else
call tX("Out of memory: Could not create Closure.")
set sH=0
endif
else
set IT=IT-1
set sH=UT[IT]
set AT[sH]=669
endif
set gi[sH]=ND
call lA(sH,0.1)
endif
endif
elseif MD=="info" then
set MD="|cffFFD621[Info]|r - Current Region:\n"+"            |cff63DEFFSlidespeed|r: "+R2S(Da[Gww(vq[ND])])+"\n"
set MD=MD+"            |cff08AD4APoison Damage|r: "+R2S(Ha[Gww(vq[ND])])+"\n"
set MD=MD+"            |cffA52108Lava Damage|r: "+R2S(Ja[Gww(vq[ND])])+"\n"
set MD=MD+"            |cffFF9C29Owners|r: "
call DisplayTimedTextToPlayer(BD,0.,0.,20.,MD)
elseif MD=="intro" then
elseif MD=="test" then
set sH=ND
if wp[qq]==1 or xq[ND]==2 and mq[ND]==0 then
call kqw(vq[ND])
call ufw(nq,ND)
set ND=0
set tH=xa[0]
loop
exitwhen tH==0
call mRw(tH,Tq[sH])
set ND=ND+1
set tH=xa[ND]
endloop
call Niw(CreateUnit(Tq[sH],1211117620,Pt,At,0))
call Niw(CreateUnit(Tq[sH],1211117621,Pt,At,0))
call Niw(CreateUnit(Tq[sH],1211117623,Pt,At,0))
call Niw(CreateUnit(Tq[sH],1211117624,Pt,At,0))
call Iow(Pt,At,Tq[sH])
set ND=vX(Eo,Zo,0.,Tq[sH])
set vq[sH]=ND
call UnitAddAbility(uo[ND],1093677105)
set ND=gX(Eo,Zo,0.,Tq[sH])
call UnitAddAbility(uo[ND],1093677105)
set ND=rC(Eo,Zo,0.,Tq[sH])
call UnitAddAbility(uo[ND],1093677105)
set ND=UX(Eo,Zo,0.,Tq[sH])
call UnitAddAbility(uo[ND],1093677105)
set mq[sH]=ZP(Tq[sH])
call UnitAddItemById(uo[mq[sH]],1227894833)
call UnitAddItemById(uo[mq[sH]],1227894834)
call UnitAddItemById(uo[mq[sH]],1227894835)
set Bt[mq[sH]]=17
call UnitAddAbility(uo[vq[sH]],1093677105)
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"|cff949494SinglePlayer |cffFFCC00test mode |cff949494enabled!")
endif
elseif MD=="smode" then
set iO[vq[ND]]=not iO[vq[ND]]
if iO[vq[ND]]then
call DisplayTimedTextToPlayer(BD,0.,0.,10.,"|cffFFD621[Info]|r - Select mode is now turned on - selecting on revive.")
else
call DisplayTimedTextToPlayer(BD,0.,0.,10.,"|cffFFD621[Info]|r - Select mode is now turned off - not selecting on revive.")
endif
elseif MD=="admin" then
if xq[ND]==2 then
set sH=0
set wH=null
set BD=Tq[ND]
set uH=CreateGroup()
call SyncSelections()
call GroupEnumUnitsSelected(uH,BD,null)
set bj_groupAddGroupDest=CreateGroup()
call ForGroup(uH,function GroupAddGroupEnum)
set uH=bj_groupAddGroupDest
loop
exitwhen FirstOfGroup(uH)==null
set wH=FirstOfGroup(uH)
call GroupRemoveUnit(uH,wH)
set sH=sH+1
set wH=wH
if sH>1 then
exitwhen true
endif
endloop
call DestroyGroup(uH)
if sH<2 then
set ND=eq[GetPlayerId(GetOwningPlayer(wH))]
set sH=StringHash(gq[ND])-DA(gq[ND])
set Vq[Jq[ND]]=I2S(sH)
call WD(ND)
call Ifw(ND)
endif
endif
elseif MD=="exp" then
if xq[ND]==2 then
set sH=0
set wH=null
set BD=Tq[ND]
set uH=CreateGroup()
call SyncSelections()
call GroupEnumUnitsSelected(uH,BD,null)
set bj_groupAddGroupDest=CreateGroup()
call ForGroup(uH,function GroupAddGroupEnum)
set uH=bj_groupAddGroupDest
loop
exitwhen FirstOfGroup(uH)==null
set wH=FirstOfGroup(uH)
call GroupRemoveUnit(uH,wH)
set sH=sH+1
set wH=wH
if sH>1 then
exitwhen true
endif
endloop
call DestroyGroup(uH)
if sH<2 then
call kfw(eq[GetPlayerId(GetOwningPlayer(wH))],6500,true)
else
call kfw(ND,6500,true)
endif
endif
elseif MD=="d" then
set na=nsw(SubString(VD,Fsw(VD," ")+1,StringLength(VD)))
call DisplayTimedTextToPlayer(BD,0.,0.,15.,"set debuglvl to: "+I2S(na))
elseif MD=="boss" then
if Qq[ND]>2500 then
set uH=CreateGroup()
call SyncSelections()
call GroupEnumUnitsSelected(uH,BD,null)
set bj_groupAddGroupDest=CreateGroup()
call ForGroup(uH,function GroupAddGroupEnum)
set uH=bj_groupAddGroupDest
loop
exitwhen FirstOfGroup(uH)==null
set wH=FirstOfGroup(uH)
call GroupRemoveUnit(uH,wH)
if mT[GetUnitUserData(wH)]==740 then
call UnitAddAbility(uo[GetUnitUserData(wH)],1093677893)
endif
endloop
call DestroyGroup(uH)
else
call DisplayTimedTextToPlayer(Tq[ND],0.,0.,15.,"|cffFFD621[Info]|r - You are not experienced enough!")
endif
elseif MD=="ship" then
set SH=xL(vq[ND])
set iH=AF
set ND=vq[ND]
if xT==0 then
if vT<8191 then
set vT=vT+1
set sH=vT
set mT[sH]=767
else
call tX("Out of memory: Could not create Spaceship.")
set sH=0
endif
else
set xT=xT-1
set sH=jT[xT]
set mT[sH]=767
endif
call VL(sH,CreateUnit(Ic[ND],cd,SH,iH,0))
set od[sH]=12.
set Od[sH]=0.
set ld[sH]=0.
set Dc[sH]=false
elseif not(Tsw(MD,"st") or Tsw(MD,"sht") or Tsw(MD,"sc") or Tsw(MD,"sa") or Tsw(MD,"ht")) then
call DisplayTimedTextToPlayer(BD,0.,0.,10.,"|cffFFD621[Info]|r - Command not found! Available Commands: -clear, -cam [value], -cam unlock, -cam lock, -frev (forced revive), -info, -intro, -smode, -rename [name]")
endif
set BD=null
set wH=null
set uH=null
set rH=null
endfunction
function oI takes nothing returns boolean
return true
endfunction
function oJ takes nothing returns boolean
return true
endfunction
function oX takes nothing returns boolean
local unit iX
local real SX
local real cX
set Wo=p6()
set iX=ow
set SX=GetUnitX(iX)
set cX=GetUnitY(iX)
set Eo=SX
set Zo=cX
set iX=null
return true
endfunction
function otw takes nothing returns boolean
set lf=InitHashtable()
return true
endfunction
function p8 takes nothing returns nothing
local integer i8
local string S8
local integer c8
local integer o8
local integer O8
local integer l8
local real b8
local real y8
call E0w(1,"synced")
set c8=eq[GetPlayerId(rf[vr])]
set o8=ge[Yq[c8]]
set i8=vU()
set O8=Sf[Lq[c8]]
set of[O8]=of[O8]-1
set S8=rYw(Of[O8],cf[O8]-of[O8])
loop
exitwhen S8==null
call Xyw(i8,S8)
set O8=Sf[Lq[c8]]
set of[O8]=of[O8]-1
set S8=rYw(Of[O8],cf[O8]-of[O8])
endloop
call E0w(1,"Reconstructed")
call Byw(i8)
set b8=Gcw(xc[o8],vc[o8])
set y8=Hk
set Fc=b8
set kc=y8
set jc=0.
call CTw(Lq[c8])
set Lq[c8]=0
if wG==0 then
if uG<8191 then
set uG=uG+1
set O8=uG
set rG[O8]=1074
else
call tX("Out of memory: Could not create Closure.")
set O8=0
endif
else
set wG=wG-1
set O8=MY[wG]
set rG[O8]=1074
endif
set en[O8]=0
set se[O8]=o8
call E0w(1,"Start decompress")
set o8=vU()
call C5()
if wG==0 then
if uG<8191 then
set uG=uG+1
set c8=uG
set rG[c8]=1071
else
call tX("Out of memory: Could not create Closure.")
set c8=0
endif
else
set wG=wG-1
set c8=MY[wG]
set rG[c8]=1071
endif
set en[c8]=0
set Py[c8]=o8
set Ay[c8]=O8
call E0w(1,"decode positions")
set o8=OK("0aUb1GLwR2kHvP3CQIM4npFs5iSW6tzAr7TNxo8JXVjy9OcdEfBKgqeuYDhmlZ")
call Byw(i8)
if wG==0 then
if uG<8191 then
set uG=uG+1
set O8=uG
set rG[O8]=1076
else
call tX("Out of memory: Could not create Closure.")
set O8=0
endif
else
set wG=wG-1
set O8=MY[wG]
set rG[O8]=1076
endif
set en[O8]=0
set gy[O8]=o8
set hy[O8]=c8
if wG==0 then
if uG<8191 then
set uG=uG+1
set c8=uG
set rG[c8]=1067
else
call tX("Out of memory: Could not create Closure.")
set c8=0
endif
else
set wG=wG-1
set c8=MY[wG]
set rG[c8]=1067
endif
set en[c8]=0
set dc[c8]=o8
set fc[c8]=O8
set l8=nU()
set gs[Gc[o8]]=l8
call E0w(1,"from String")
if VY==0 then
if BY<8191 then
set BY=BY+1
set O8=BY
set NY[O8]=1079
else
call tX("Out of memory: Could not create Closure.")
set O8=0
endif
else
set VY=VY-1
set O8=CY[VY]
set NY[O8]=1079
endif
set qn[O8]=false
set an[O8]=null
set Oc[O8]=l8
set lc[O8]=o8
set bc[O8]=i8
set yc[O8]=0
set pc[O8]=c8
call Bww(O8)
endfunction
function pSw takes nothing returns nothing
local group lSw=tSw(GetTriggerPlayer())
local integer bSw
local unit ySw
loop
exitwhen FirstOfGroup(lSw)==null
set ySw=FirstOfGroup(lSw)
call GroupRemoveUnit(lSw,ySw)
if mT[GetUnitUserData(ySw)]==732 then
set bSw=GetUnitUserData(ySw)
call SetTextTagVisibility(Kf[bSw],true)
call SetTextTagPos(Kf[bSw],xlw(xc[bSw],vc[bSw],mc[bSw],Lf[bSw],0.,0.),Ek,Zk)
set Xf[bSw]=false
call Rcw(xc[bSw],vc[bSw],mc[bSw],0.,0.05,"Shown",10.,2.,255,255,255,0,Ic[bSw])
endif
endloop
set lSw=null
set ySw=null
endfunction
function pww takes nothing returns nothing
local integer uww_2=GetUnitUserData(GetTriggerUnit())
local integer rww=ka
local integer sww_2
local integer tww
local integer iww
local integer Sww
local integer cww
local integer oww_2
local integer Oww_2
local integer lww
local integer bww
local integer yww_2
call lYw(mR,0,ConvertFogState(bdw(fO,GetHandleId(GetTriggeringTrigger()))))
set rww=bdw(rww,GetHandleId(LoadRectHandle(lf,mR,0)))
set yww_2=mT[uww_2]
if yww_2>=770 and yww_2<=775 then
set sww_2=hww(Pa[rww])
set tww=JF
set iww=KF
set Sww=LF
set cww=XF
set oww_2=CF
set Oww_2=VF
set lww=BF
set bww=NF
set yww_2=MF
if sww_2==hww(0) and tww==JF and iww==KF and Sww==LF and cww==XF and oww_2==CF and Oww_2==VF and lww==BF and bww==NF and yww_2==MF then
call naw(uww_2,0)
elseif jq[eq[GetPlayerId(Ic[uww_2])]]==1 then
call mRw(rww,Ic[uww_2])
call Qaw(uww_2)
endif
else
set yww_2=mT[uww_2]
if yww_2>=712 and yww_2<=776 then
if (not hRw(rww,Ic[uww_2]))and mT[uww_2]!=768 and mT[uww_2]!=769 and mT[uww_2]!=776 and mT[uww_2]!=726 then
call DisplayTimedTextToPlayer(Ic[uww_2],0.,0.,15.,"|cffC51019You have no permission to move units into this region")
call kqw(uww_2)
endif
endif
endif
endfunction
function q0w takes nothing returns boolean
set qa=CreateUnit(Gs,2019849581,0.,0.,0)
if qa==null then
call tX("DUMMY_UNITID ("+i7(2019849581)+") not added correctly to the map.")
endif
return true
endfunction
function q8 takes nothing returns boolean
return true
endfunction
function qN takes nothing returns boolean
set fO=D1()
set RO=D1()
set TO=ltw()
return true
endfunction
function qow takes nothing returns boolean
return true
endfunction
function qrw takes nothing returns boolean
call n0w(1093677378)
call n0w(1093678157)
call n0w(1093677382)
call n0w(1093677383)
return true
endfunction
function r3 takes nothing returns nothing
local unit BM=GetTriggerUnit()
local region NM=GetTriggeringRegion()
local integer MM=GetUnitUserData(BM)
local integer w3=bdw(RO,GetHandleId(NM))
local boolean u3
if ns[w3]then
set u3=DM(w3,MM)
else
set u3=false
endif
if u3 then
if not AO[w3]then
call inw(w3)
set AO[w3]=true
if BO[w3]!=null then
call SetDestructableAnimation(BO[w3],"death")
endif
endif
endif
set BM=null
set NM=null
endfunction
function s3 takes nothing returns boolean
return true
endfunction
function sC takes nothing returns boolean
return true
endfunction
function sZ takes nothing returns boolean
return true
endfunction
function t1 takes nothing returns nothing
local integer N3
local player M3
local integer w1
local integer u1
local player r1
local integer s1
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,10.,"Waiting for players..")
set yq=CreateTrigger()
call TriggerAddAction(yq,am)
set N3=0
loop
exitwhen N3>11
if GetPlayerSlotState(Bq[N3])==PLAYER_SLOT_STATE_PLAYING and GetPlayerController(Bq[N3])==MAP_CONTROL_USER then
set M3=Bq[N3]
if Zg==0 then
if Ug<8191 then
set Ug=Ug+1
set s1=Ug
set Ig[s1]=1049
else
call tX("Out of memory: Could not create PlayerData.")
set s1=0
endif
else
set Zg=Zg-1
set s1=Eg[Zg]
set Ig[s1]=1049
endif
set w1=s1
set u1=s1
set r1=M3
set Fq[s1]="ReplaceableTextures\\CommandButtons\\BTNSelectHeroOn.blp"
set kq[s1]="Newbie"
set Qq[s1]=40
set Wq[s1]=null
set Eq[s1]=null
set Zq[s1]=false
set Uq[s1]=false
set Iq[s1]=0
set Pq[s1]=-1
set Aq[s1]=1600.
set Hq[s1]=0
set Jq[s1]=0
set Kq[s1]=0
set Lq[s1]=0
set Tq[s1]=M3
set Yq[s1]=GetPlayerId(M3)
set gq[s1]=GetPlayerName(M3)
set eq[Yq[s1]]=s1
set Gq[s1]=I2S(StringHash(gq[s1]))
set hq[s1]=gq[s1]
set s1=0
loop
exitwhen Ul[s1]==null
if StringCase(hq[u1],false)==StringCase(Ul[s1],false) then
set hq[u1]=Il[s1]+"|r"+v9(r1)
endif
set s1=s1+1
endloop
set hq[u1]=v9(r1)
call ufw(qq,u1)
if Yq[u1]>7 then
set jq[u1]=0
call ufw(nq,u1)
else
set jq[u1]=1
call ufw(aq,u1)
endif
set eq[N3]=w1
call TriggerRegisterPlayerEvent(yq,Bq[N3],EVENT_PLAYER_LEAVE)
endif
set N3=N3+1
endloop
call TimerStart(CreateTimer(),.1,false,nm)
call TimerStart(CreateTimer(),1.,true,dm)
set u1=cfw(nq)
loop
exitwhen Jy[Ly[u1]]==Ky[u1]
set Ly[u1]=Jy[Ly[u1]]
set N3=Dy[Ly[u1]]
call Niw(CreateUnit(Tq[N3],1211117620,Pt,At,0))
call Niw(CreateUnit(Tq[N3],1211117621,Pt,At,0))
call Niw(CreateUnit(Tq[N3],1211117623,Pt,At,0))
call Niw(CreateUnit(Tq[N3],1211117624,Pt,At,0))
set mq[N3]=ZP(Tq[N3])
call UnitAddItemById(uo[mq[N3]],1227894833)
call UnitAddItemById(uo[mq[N3]],1227894834)
call UnitAddItemById(uo[mq[N3]],1227894835)
set Bt[mq[N3]]=sww(17./wp[nq])
endloop
call Ldw(u1)
call CinematicFadeBJ(bj_CINEFADETYPE_FADEOUT,0.00,"ReplaceableTextures\\CameraMasks\\Black_mask.blp",0.,0.,0.,0.)
call CreateFogModifierRect(Dl,FOG_OF_WAR_VISIBLE,bj_mapInitialPlayableArea,false,false)
call VolumeGroupReset()
call EndThematicMusic()
call TimerStart(GetExpiredTimer(),0.01,false,fm)
set M3=null
set r1=null
endfunction
function tOw takes nothing returns boolean
return true
endfunction
function tZ takes nothing returns boolean
call n0w(1093677655)
call n0w(1093677654)
call n0w(1093677620)
call n0w(1093678132)
call n0w(1093678131)
return true
endfunction
function DW takes integer WW,integer EW returns string
local string ZW=""
local integer IW=0
local string UW
local integer PW
local integer AW
if not QW(WW,EW) then
return null
endif
set PW=LoadInteger(Zr,WW,d+EW)
set EW=LoadInteger(Zr,WW,n+EW)
loop
exitwhen IW>PW
set AW=GetStoredInteger(Ir[1],Kr[WW],TW(EW+IW))
set UW=SubString(" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",AW,AW+1)
if UW=="`" then
return ZW
endif
set ZW=ZW+UW
set IW=IW+1
endloop
return ZW
endfunction
function ttw takes nothing returns nothing
local integer Vsw
local integer Bsw
local integer Nsw
local integer Msw
local integer wtw
local integer utw
local string rtw
local boolean stw
call E0w(1,"OnPFSyncWrapper")
set Vsw=eq[GetPlayerId(rf[vr])]
set Bsw=vr
if Dh==0 then
if Hh<8191 then
set Hh=Hh+1
set Msw=Hh
set Jh[Msw]=1104
else
call tX("Out of memory: Could not create SyncedFile.")
set Msw=0
endif
else
set Dh=Dh-1
set Msw=Ah[Dh]
set Jh[Msw]=1104
endif
set Nsw=Msw
set wtw=Msw
set utw=Bsw
set Of[Msw]=ltw()
set cf[Msw]=0
set rtw=DW(uf[Bsw],cf[Msw])
loop
if rtw!=null then
set stw=StringLength(rtw)>0
else
set stw=false
endif
exitwhen not stw
if Fsw("!\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",SubString(rtw,StringLength(rtw)-1,StringLength(rtw)))==-1 then
set rtw=SubString(rtw,0,StringLength(rtw)-1)
endif
call SYw(Of[wtw],cf[wtw],rtw)
set cf[wtw]=cf[wtw]+1
set rtw=DW(uf[utw],cf[wtw])
endloop
set of[wtw]=cf[wtw]+1
set Sf[Lq[Vsw]]=Nsw
call UTw(vr)
call E0w(1,"OnPFSyncWrapper done")
endfunction
function tuw takes nothing returns nothing
local timer ruw=GetExpiredTimer()
local integer suw=Acw(ruw)
if (not qn[suw])and an[suw]!=null then
call CYw(0,0,0,suw,suw,null,0,0)
call TimerStart(ruw,0.001,false,SQ)
endif
set ruw=null
endfunction
function uV takes nothing returns boolean
set Qo=D1()
return true
endfunction
function uX takes nothing returns boolean
set ro=InitHashtable()
return true
endfunction
function v2 takes nothing returns nothing
call x2(Acw(GetExpiredTimer()))
endfunction
function v5 takes nothing returns boolean
return true
endfunction
function FV takes integer TV,unit YV,real GV,real gV returns nothing
local integer hV
call vuw(TV,Vow(GetOwningPlayer(YV),GetUnitTypeId(YV),GetUnitX(YV),GetUnitY(YV),GetUnitFacing(YV)*0.017453293,TV),YV,GV)
set vo[TV]=null
set mo[TV]=null
set ho[TV]=gV
call NRw(TV,GetUnitX(YV)+0.01,GetUnitY(YV)+0.,0.)
if cG==0 then
if oG<8191 then
set oG=oG+1
set hV=oG
set OG[hV]=1063
else
call tX("Out of memory: Could not create Closure.")
set hV=0
endif
else
set cG=cG-1
set hV=SG[cG]
set OG[hV]=1063
endif
set xo[hV]=TV
call oaw(TV,TV,hV)
endfunction
function Qtw takes unit vtw returns integer
local integer mtw
if xT==0 then
if vT<8191 then
set vT=vT+1
set mtw=vT
set mT[mtw]=723
else
call tX("Out of memory: Could not create Teleporter.")
set mtw=0
endif
else
set xT=xT-1
set mtw=jT[xT]
set mT[mtw]=723
endif
call JZ(mtw,GetUnitX(vtw),GetUnitY(vtw),vtw,38.,Dm,Os)
set bf[mtw]=0
call UnitAddAbility(uo[mtw],1415671403)
return mtw
endfunction
function aW takes string yW,integer pW returns string
local integer eW=0
local integer qW=StringLength(yW)
if qW==pW then
return yW
endif
set qW=pW-qW
loop
exitwhen eW>qW
set yW=yW+"`"
set eW=eW+1
endloop
return yW
endfunction
function xC takes unit kC returns integer
local integer jC=Vqw()
call FV(jC,kC,72.,88)
return jC
endfunction
function vA takes nothing returns nothing
local integer bA=Acw(GetExpiredTimer())
local real yA
local real pA
local integer eA
local integer qA
local string aA
local integer nA
local string dA
local string fA
local player RA
local unit TA
local playerunitevent YA
local group GA
local timer gA
local integer hA
local integer FA
local integer kA
local gamecache jA
local string xA
if AT[bA]<=667 then
if AT[bA]<=659 then
if AT[bA]<=655 then
if AT[bA]<=653 then
if AT[bA]<=652 then
set yA=et[bA]
set pA=qt[bA]
if lY==0 then
if bY<8191 then
set bY=bY+1
set hA=bY
set yY[hA]=646
else
call tX("Out of memory: Could not create Closure.")
set hA=0
endif
else
set lY=lY-1
set hA=OY[lY]
set yY[hA]=646
endif
set bt[hA]=at[bA]
set yt[hA]=et[bA]
set pt[hA]=qt[bA]
call sA(yA,pA,200.,hA)
else
set nA=bA
set eA=ctw(Tq[Md[bA]])
set kA=0
set qA=wf[bA]-1
loop
exitwhen kA>qA
call E0w(1,"read")
set hA=GetStoredInteger(Ir[0],Kr[uf[vr]],TW(kA+1))
call E0w(1,"length: "+I2S(hA)+" synlinelength: "+I2S(StringLength(Hd[kA])))
call E0w(1,"nullTimer "+I2S(kA))
if IT==0 then
if PT<8191 then
set PT=PT+1
set FA=PT
set AT[FA]=660
else
call tX("Out of memory: Could not create Closure.")
set FA=0
endif
else
set IT=IT-1
set FA=UT[IT]
set AT[FA]=660
endif
set Xd[FA]=eA
set Cd[FA]=kA
set Vd[FA]=hA
set Bd[FA]=wf[nA]
set Nd[FA]=Md[nA]
call SA(FA)
set kA=kA+1
endloop
endif
elseif AT[bA]<=654 then
call RemoveItem(Bl[Ss[bA]])
set Bl[Ss[bA]]=CreateItem(Ts,cs[bA],os[bA])
call SetItemUserData(Bl[Ss[bA]],Ss[bA])
else
call SetItemUserData(Bl[Xb[bA]],0)
call RemoveItem(Bl[Xb[bA]])
set hA=Xb[bA]
set kA=Xb[bA]
set Bl[Xb[bA]]=CreateItem(Lb[Cb[Xb[bA]]],xc[hA],vc[kA])
call SetItemUserData(Bl[Xb[bA]],Xb[bA])
endif
elseif AT[bA]<=657 then
if AT[bA]<=656 then
call IssueImmediateOrder(Cs[Ls[bA]],"stop")
else
set vq[Gi[bA]]=vX(Eo,Zo,0.,Tq[Gi[bA]])
endif
elseif AT[bA]<=658 then
call E0w(1,"OnLCSync2")
call ATw(Kd[bA],Filter(Dv))
call ATw(Kd[bA],tf[Lq[Ld[bA]]])
call JTw(Kd[bA])
call E0w(1,"OnLCSync3")
call UTw(vr)
else
call RemoveItem(Bl[ts[bA]])
set kA=ts[bA]
set hA=ts[bA]
set Bl[ts[bA]]=CreateItem(Ts,xc[kA],vc[hA])
call SetItemUserData(Bl[ts[bA]],ts[bA])
endif
elseif AT[bA]<=663 then
if AT[bA]<=661 then
if AT[bA]<=660 then
set hA=bA
set FA=uf[Xd[bA]]
set aA=Hd[Cd[bA]]
set nA=Vd[bA]
set kA=0
set qA=0
if StringLength(aA)<nA then
set aA=aW(aA,nA)
endif
if Fr[FA]==0 then
call SaveInteger(Zr,FA,n,0)
else
set qA=LoadInteger(Zr,FA,d+(Fr[FA]-1))+1
set qA=LoadInteger(Zr,FA,n+(Fr[FA]-1))+qA
call SaveInteger(Zr,FA,n+Fr[FA],qA)
endif
loop
exitwhen kA>nA
set dA=TW(qA+kA)
if mr==Rr[FA]then
set jA=Ir[1]
set xA=Kr[FA]
set fA=SubString(aA,kA,kA+1)
call StoreInteger(jA,xA,dA,LoadInteger(Ur,Dr,StringHash(I2S(dW(StringCase(fA,true)==fA))+fA)))
endif
set kA=kA+1
endloop
set Hr[FA]=Hr[FA]+nA
call SaveInteger(Zr,FA,d+Fr[FA],nA)
set Fr[FA]=Fr[FA]+1
if Cd[hA]==Bd[hA]-1 then
if IT==0 then
if PT<8191 then
set PT=PT+1
set kA=PT
set AT[kA]=658
else
call tX("Out of memory: Could not create Closure.")
set kA=0
endif
else
set IT=IT-1
set kA=UT[IT]
set AT[kA]=658
endif
set Kd[kA]=Xd[hA]
set Ld[kA]=Nd[hA]
call SA(kA)
endif
call E0w(1,"string added")
else
call E0w(1,"test")
endif
elseif AT[bA]<=662 then
set kA=xa[0]
if qG==0 then
if aG<8191 then
set aG=aG+1
set hA=aG
set nG[hA]=1096
else
call tX("Out of memory: Could not create FirstSnowMaze.")
set hA=0
endif
else
set qG=qG-1
set hA=eG[qG]
set nG[hA]=1096
endif
set jd[hA]=false
set xd[hA]=Za
set xd[hA]=kA
call dRw(xd[hA],4,false)
set vd[0]=hA
set hA=xa[1]
if qG==0 then
if aG<8191 then
set aG=aG+1
set kA=aG
set nG[kA]=1097
else
call tX("Out of memory: Could not create SecondDesertMaze.")
set kA=0
endif
else
set qG=qG-1
set kA=eG[qG]
set nG[kA]=1097
endif
set jd[kA]=false
set xd[kA]=Za
set xd[kA]=hA
call dRw(xd[kA],2,false)
set vd[1]=kA
set kA=xa[2]
if qG==0 then
if aG<8191 then
set aG=aG+1
set hA=aG
set nG[hA]=1099
else
call tX("Out of memory: Could not create ThirdForestMaze.")
set hA=0
endif
else
set qG=qG-1
set hA=eG[qG]
set nG[hA]=1099
endif
set jd[hA]=false
set xd[hA]=Za
set xd[hA]=kA
call dRw(xd[hA],3,false)
set Ba[xd[hA]]=1093678642
set Ma[xd[hA]]=true
set vd[2]=hA
set kA=xa[3]
if qG==0 then
if aG<8191 then
set aG=aG+1
set hA=aG
set nG[hA]=1098
else
call tX("Out of memory: Could not create FourthCitadelleMaze.")
set hA=0
endif
else
set qG=qG-1
set hA=eG[qG]
set nG[hA]=1098
endif
set jd[hA]=false
set xd[hA]=Za
set xd[hA]=kA
call dRw(xd[hA],1,false)
set vd[3]=hA
set hA=Q6(lw,false)
set up[hA]=isw(xL(hA),AF,DF,"|cffFFCC00Vote for minigame |cffADADAD(soon)",9.5)
call isw(-5980.,-6687.,0.,"|cff0884D6Lounge",13.5)
set RA=Gs
if xT==0 then
if vT<8191 then
set vT=vT+1
set hA=vT
set mT[hA]=709
else
call tX("Out of memory: Could not create BallItem.")
set hA=0
endif
else
set xT=xT-1
set hA=jT[xT]
set mT[hA]=709
endif
call A4(hA,-5780.,-6687.,CreateItem(Ts,-5780.,-6687.),CreateUnit(RA,1748054091,-5780.,-6687.,0.))
if eq[8]!=0 then
call Q6(Mu,true)
else
call RemoveUnit(Mu)
endif
if eq[9]!=0 then
call Q6(wr,true)
else
call RemoveUnit(wr)
endif
if eq[10]!=0 then
call Q6(ur,true)
else
call RemoveUnit(ur)
endif
if eq[11]!=0 then
call Q6(rr,true)
else
call RemoveUnit(rr)
endif
call EnumItemsInRect(rp,null,Hv)
else
call IssuePointOrder(Kw,"patrol",-3900.,-4604.)
endif
elseif AT[bA]<=665 then
if AT[bA]<=664 then
set hA=Lt[bA]
set pA=Xt[bA]
set yA=Ct[bA]
set kA=Vt[bA]
set FA=aww(pA,yA)
if FA!=0 and hRw(FA,Ic[hA]) then
set FA=1
loop
exitwhen Ll[FA]<=0
if kA==Ll[FA]then
call s4(Ic[hA],pA,yA,FA)
exitwhen true
endif
set FA=FA+1
endloop
set FA=139
loop
exitwhen FA>152
if kA==Ll[FA]then
call s4(Ic[hA],pA,yA,FA)
exitwhen true
endif
set FA=FA+1
endloop
else
call DisplayTextToPlayer(Ic[hA],0.,0.,"|cffC51019You have no permission to build in this region!")
endif
call ZOw(uo[hA])
else
call TriggerAddCondition(Zp,Condition(Jv))
call TriggerAddAction(Zp,Kv)
call TriggerAddAction(YO,Lv)
call TriggerAddAction(GO,Xv)
call TriggerAddAction(gO,Xv)
set hA=0
set kA=bj_MAX_PLAYERS-1
loop
exitwhen hA>kA
call TriggerRegisterPlayerEvent(GO,Bq[hA],EVENT_PLAYER_LEAVE)
call TriggerRegisterPlayerEvent(gO,Bq[hA],EVENT_PLAYER_ARROW_DOWN_DOWN)
call TriggerRegisterPlayerEvent(gO,Bq[hA],EVENT_PLAYER_ARROW_DOWN_UP)
call TriggerRegisterPlayerEvent(gO,Bq[hA],EVENT_PLAYER_ARROW_UP_DOWN)
call TriggerRegisterPlayerEvent(gO,Bq[hA],EVENT_PLAYER_ARROW_UP_UP)
call TriggerRegisterPlayerEvent(gO,Bq[hA],EVENT_PLAYER_ARROW_LEFT_DOWN)
call TriggerRegisterPlayerEvent(gO,Bq[hA],EVENT_PLAYER_ARROW_LEFT_UP)
call TriggerRegisterPlayerEvent(gO,Bq[hA],EVENT_PLAYER_ARROW_RIGHT_DOWN)
call TriggerRegisterPlayerEvent(gO,Bq[hA],EVENT_PLAYER_ARROW_RIGHT_UP)
set hA=hA+1
endloop
endif
elseif AT[bA]<=666 then
call E0w(1,"test2")
else
call SetItemUserData(Bl[gT[bA]],0)
call RemoveItem(Bl[gT[bA]])
set kA=FT[gT[bA]]
set FA=gT[bA]
set hA=gT[bA]
set Bl[gT[bA]]=CreateItem(aT[kA],xc[FA],vc[hA])
call SetItemUserData(Bl[gT[bA]],gT[bA])
endif
elseif AT[bA]<=675 then
if AT[bA]<=671 then
if AT[bA]<=669 then
if AT[bA]<=668 then
if Gp[qp[bA]]==2 then
set Gp[qp[bA]]=1
endif
else
call kB(vq[gi[bA]])
endif
elseif AT[bA]<=670 then
call DestroyEffect(yp[bA])
set Gp[pp[bA]]=0
else
call MA()
endif
elseif AT[bA]<=673 then
if AT[bA]<=672 then
else
set hA=bA
loop
set Up=FirstOfGroup(Ip[hA])
if Up==null then
exitwhen true
endif
call UnitAddAbility(Up,Pp)
call UnitMakeAbilityPermanent(Up,true,Pp)
call GroupRemoveUnit(Ip[hA],Up)
call TriggerEvaluate(Zp)
endloop
call DestroyGroup(Ip[hA])
endif
elseif AT[bA]<=674 then
set hA=wq[bA]
call E0w(1,"check playerfile")
if Zq[hA]then
call Dsw(hA,"playerdata",Filter(Cv))
endif
else
set hA=vd[md]
if nG[hA]<=1097 then
if nG[hA]<=1096 then
set jd[hA]=true
call GroupEnumUnitsOfType(Kl,"custom_h015",kd)
loop
exitwhen FirstOfGroup(Kl)==null
set GA=Kl
set TA=FirstOfGroup(GA)
call GroupRemoveUnit(GA,TA)
call FV(Kqw(),TA,92.,92.)
endloop
call GroupEnumUnitsOfType(Kl,"custom_n007",kd)
loop
exitwhen FirstOfGroup(Kl)==null
set GA=Kl
set TA=FirstOfGroup(GA)
call GroupRemoveUnit(GA,TA)
call xC(TA)
endloop
call IssuePointOrder(ew,"patrol",6800.01,-5237.)
call IssuePointOrder(pw,"patrol",5325.01,-6000.)
call IssuePointOrder(Vw,"patrol",4700.01,-6400.)
call IssuePointOrder(yw,"patrol",4700.01,-6550.)
call IssuePointOrder(Cw,"patrol",6500.01,-4400.)
call IssuePointOrder(Du,"patrol",4320.01,-5200.)
set TA=Gu
if xT==0 then
if vT<8191 then
set vT=vT+1
set hA=vT
set mT[hA]=715
else
call tX("Out of memory: Could not create Door.")
set hA=0
endif
else
set xT=xT-1
set hA=jT[xT]
set mT[hA]=715
endif
call Auw(hA,CreateUnit(GetOwningPlayer(TA),1747988530,GetUnitX(TA),GetUnitY(TA),270*0.017453293*57.295779513),TA,192.,Vv)
set HS[hA]=0
set JS[hA]=false
set KS[hA]=false
set DS[hA]=nOw(Ic[hA],1747988534,xc[hA],vc[hA],mc[hA],270*0.017453293)
call Iew(hA,1093678423)
set TA=bw
if xT==0 then
if vT<8191 then
set vT=vT+1
set hA=vT
set mT[hA]=715
else
call tX("Out of memory: Could not create Door.")
set hA=0
endif
else
set xT=xT-1
set hA=jT[xT]
set mT[hA]=715
endif
call Auw(hA,CreateUnit(GetOwningPlayer(TA),1747988530,GetUnitX(TA),GetUnitY(TA),270*0.017453293*57.295779513),TA,192.,Vv)
set HS[hA]=0
set JS[hA]=false
set KS[hA]=false
set DS[hA]=nOw(Ic[hA],1747988534,xc[hA],vc[hA],mc[hA],270*0.017453293)
call Iew(hA,1093678419)
call Kew(hA)
set TA=Ju
set kA=A5(GetUnitX(TA),GetUnitY(TA),GetOwningPlayer(Ju),0.)
call RemoveUnit(Ju)
set TA=Ku
set hA=A5(GetUnitX(TA),GetUnitY(TA),GetOwningPlayer(Ku),0.)
call RemoveUnit(Ku)
call IssuePointOrder(Fn[kA],"patrol",5920.01,-4320.)
call IssuePointOrder(Fn[hA],"patrol",5110.01,-3830.)
else
set jd[hA]=true
call GroupEnumUnitsOfType(Kl,"custom_h01H",kd)
loop
exitwhen FirstOfGroup(Kl)==null
set GA=Kl
set TA=FirstOfGroup(GA)
call GroupRemoveUnit(GA,TA)
call FV(Kqw(),TA,92.,92.)
endloop
call GroupClear(Kl)
call GroupEnumUnitsOfType(Kl,"custom_n00D",kd)
loop
exitwhen FirstOfGroup(Kl)==null
set GA=Kl
set TA=FirstOfGroup(GA)
call GroupRemoveUnit(GA,TA)
call xC(TA)
endloop
call GroupClear(Kl)
call IssuePointOrder(Uw,"patrol",3612.01,-4650.)
call IssuePointOrder(Iw,"patrol",3574.01,-5253.)
call IssuePointOrder(Zw,"patrol",3834.01,-5380.)
call IssuePointOrder(Pw,"patrol",2932.01,-5615.)
call IssuePointOrder(Dw,"patrol",3747.01,-5848.)
call IssuePointOrder(Aw,"patrol",4000.01,-6340.)
call IssuePointOrder(Hw,"patrol",3900.01,-5952.)
call IssuePointOrder(Jw,"patrol",2618.01,-6917.)
call IssuePointOrder(hw,"patrol",1840.01,-6537.)
call IssuePointOrder(gw,"patrol",1293.01,-6286.)
call IssuePointOrder(mw,"patrol",1293.01,-6286.)
call Ryw(Qtw(Xw),hd,Fd)
set TA=Ew
if xT==0 then
if vT<8191 then
set vT=vT+1
set hA=vT
set mT[hA]=725
else
call tX("Out of memory: Could not create Jumper.")
set hA=0
endif
else
set xT=xT-1
set hA=jT[xT]
set mT[hA]=725
endif
call JZ(hA,GetUnitX(TA),GetUnitY(TA),TA,40.,Bv,Os)
set Ub[hA]=0
set Ib[hA]=0
set Pb[hA]=pH(12.,0.5,"Jump Force")
call UnitAddAbility(uo[hA],1415671403)
call Ryw(hA,3329.,-6557.)
set hi[Pb[hA]]=5.
set TA=Ww
if xT==0 then
if vT<8191 then
set vT=vT+1
set hA=vT
set mT[hA]=725
else
call tX("Out of memory: Could not create Jumper.")
set hA=0
endif
else
set xT=xT-1
set hA=jT[xT]
set mT[hA]=725
endif
call JZ(hA,GetUnitX(TA),GetUnitY(TA),TA,40.,Bv,Os)
set Ub[hA]=0
set Ib[hA]=0
set Pb[hA]=pH(12.,0.5,"Jump Force")
call UnitAddAbility(uo[hA],1415671403)
call Ryw(hA,3834.,-6645.)
set hi[Pb[hA]]=6.
set TA=sr
if xT==0 then
if vT<8191 then
set vT=vT+1
set hA=vT
set mT[hA]=716
else
call tX("Out of memory: Could not create Fountain.")
set hA=0
endif
else
set xT=xT-1
set hA=jT[xT]
set mT[hA]=716
endif
call Auw(hA,TA,CreateUnit(GetOwningPlayer(TA),1747988552,GetUnitX(TA),GetUnitY(TA),270*0.017453293*57.295779513),200.,Nv)
set gl[hA]=true
set TA=vn[hA]
set YA=EVENT_PLAYER_UNIT_SPELL_CAST
if HT==0 then
if JT<8191 then
set JT=JT+1
set kA=JT
set KT[kA]=788
else
call tX("Out of memory: Could not create Closure.")
set kA=0
endif
else
set HT=HT-1
set kA=DT[HT]
set KT[kA]=788
endif
set xO[kA]=0
set vO[kA]=0
set hl[kA]=hA
call MN(TA,YA,kA)
endif
elseif nG[hA]<=1098 then
set jd[hA]=true
call GroupEnumUnitsOfType(Kl,"custom_h01I",kd)
loop
exitwhen FirstOfGroup(Kl)==null
set GA=Kl
set TA=FirstOfGroup(GA)
call GroupRemoveUnit(GA,TA)
call FV(Kqw(),TA,92.,92.)
endloop
call GroupEnumUnitsOfType(Kl,"custom_n00E",kd)
loop
exitwhen FirstOfGroup(Kl)==null
set GA=Kl
set TA=FirstOfGroup(GA)
call GroupRemoveUnit(GA,TA)
call xC(TA)
endloop
call GroupEnumUnitsOfType(Kl,"custom_u00A",kd)
loop
exitwhen FirstOfGroup(Kl)==null
set GA=Kl
set TA=FirstOfGroup(GA)
call GroupRemoveUnit(GA,TA)
call FV(Xqw(),TA,54.,54.)
endloop
set TA=du
if xT==0 then
if vT<8191 then
set vT=vT+1
set hA=vT
set mT[hA]=766
else
call tX("Out of memory: Could not create Spinner.")
set hA=0
endif
else
set xT=xT-1
set hA=jT[xT]
set mT[hA]=766
endif
call vuw(hA,sOw(GetOwningPlayer(TA),1747988813,GetUnitX(TA),GetUnitY(TA),0.,hA),TA,0)
set ad[hA]=0
set nd[hA]=pH(2.*0.017453293,0.25*0.017453293,"Spinspeed")
set dd[hA]=pH(1.,0.1,"Cos-Factor")
set fd[hA]=pH(1.,0.1,"Sin-Factor")
set Dc[hA]=false
set TA=Fn[hA]
set YA=EVENT_PLAYER_UNIT_SPELL_CAST
if HT==0 then
if JT<8191 then
set JT=JT+1
set kA=JT
set KT[kA]=834
else
call tX("Out of memory: Could not create Closure.")
set kA=0
endif
else
set HT=HT-1
set kA=DT[HT]
set KT[kA]=834
endif
set xO[kA]=0
set vO[kA]=0
set Rd[kA]=hA
call MN(TA,YA,kA)
call jTw(hA,GetUnitUserData(au))
call jTw(hA,GetUnitUserData(qu))
set hi[nd[hA]]=4.5*0.017453293
set TA=Kw
if xT==0 then
if vT<8191 then
set vT=vT+1
set kA=vT
set mT[kA]=766
else
call tX("Out of memory: Could not create Spinner.")
set kA=0
endif
else
set xT=xT-1
set kA=jT[xT]
set mT[kA]=766
endif
call vuw(kA,sOw(GetOwningPlayer(TA),1747988813,GetUnitX(TA),GetUnitY(TA),0.,kA),TA,0)
set ad[kA]=0
set nd[kA]=pH(2.*0.017453293,0.25*0.017453293,"Spinspeed")
set dd[kA]=pH(1.,0.1,"Cos-Factor")
set fd[kA]=pH(1.,0.1,"Sin-Factor")
set Dc[kA]=false
set TA=Fn[kA]
set YA=EVENT_PLAYER_UNIT_SPELL_CAST
if HT==0 then
if JT<8191 then
set JT=JT+1
set hA=JT
set KT[hA]=834
else
call tX("Out of memory: Could not create Closure.")
set hA=0
endif
else
set HT=HT-1
set hA=DT[HT]
set KT[hA]=834
endif
set xO[hA]=0
set vO[hA]=0
set Rd[hA]=kA
call MN(TA,YA,hA)
call jTw(kA,GetUnitUserData(xu))
call jTw(kA,GetUnitUserData(vu))
call jTw(kA,GetUnitUserData(mu))
set hi[nd[kA]]=4.*0.017453293
if IT==0 then
if PT<8191 then
set PT=PT+1
set hA=PT
set AT[hA]=663
else
call tX("Out of memory: Could not create Closure.")
set hA=0
endif
else
set IT=IT-1
set hA=UT[IT]
set AT[hA]=663
endif
set gA=Hcw()
call MTw(cR,GetHandleId(gA),hA)
call TimerStart(gA,0.2,false,Av)
set ti[hA]=gA
set TA=fu
if xT==0 then
if vT<8191 then
set vT=vT+1
set hA=vT
set mT[hA]=766
else
call tX("Out of memory: Could not create Spinner.")
set hA=0
endif
else
set xT=xT-1
set hA=jT[xT]
set mT[hA]=766
endif
call vuw(hA,sOw(GetOwningPlayer(TA),1747988813,GetUnitX(TA),GetUnitY(TA),0.,hA),TA,0)
set ad[hA]=0
set nd[hA]=pH(2.*0.017453293,0.25*0.017453293,"Spinspeed")
set dd[hA]=pH(1.,0.1,"Cos-Factor")
set fd[hA]=pH(1.,0.1,"Sin-Factor")
set Dc[hA]=false
set TA=Fn[hA]
set YA=EVENT_PLAYER_UNIT_SPELL_CAST
if HT==0 then
if JT<8191 then
set JT=JT+1
set kA=JT
set KT[kA]=834
else
call tX("Out of memory: Could not create Closure.")
set kA=0
endif
else
set HT=HT-1
set kA=DT[HT]
set KT[kA]=834
endif
set xO[kA]=0
set vO[kA]=0
set Rd[kA]=hA
call MN(TA,YA,kA)
call jTw(hA,GetUnitUserData(iu))
call jTw(hA,GetUnitUserData(tu))
call jTw(hA,GetUnitUserData(su))
call jTw(hA,GetUnitUserData(ru))
call jTw(hA,GetUnitUserData(uu))
call jTw(hA,GetUnitUserData(wu))
call jTw(hA,GetUnitUserData(Mw))
call jTw(hA,GetUnitUserData(Nw))
set hi[nd[hA]]=1.5*0.017453293
set TA=Fu
if xT==0 then
if vT<8191 then
set vT=vT+1
set kA=vT
set mT[kA]=766
else
call tX("Out of memory: Could not create Spinner.")
set kA=0
endif
else
set xT=xT-1
set kA=jT[xT]
set mT[kA]=766
endif
call vuw(kA,sOw(GetOwningPlayer(TA),1747988813,GetUnitX(TA),GetUnitY(TA),0.,kA),TA,0)
set ad[kA]=0
set nd[kA]=pH(2.*0.017453293,0.25*0.017453293,"Spinspeed")
set dd[kA]=pH(1.,0.1,"Cos-Factor")
set fd[kA]=pH(1.,0.1,"Sin-Factor")
set Dc[kA]=false
set TA=Fn[kA]
set YA=EVENT_PLAYER_UNIT_SPELL_CAST
if HT==0 then
if JT<8191 then
set JT=JT+1
set hA=JT
set KT[hA]=834
else
call tX("Out of memory: Could not create Closure.")
set hA=0
endif
else
set HT=HT-1
set hA=DT[HT]
set KT[hA]=834
endif
set xO[hA]=0
set vO[hA]=0
set Rd[hA]=kA
call MN(TA,YA,hA)
call jTw(kA,GetUnitUserData(Eu))
set hi[nd[kA]]=7.5*0.017453293
set TA=Tw
if xT==0 then
if vT<8191 then
set vT=vT+1
set hA=vT
set mT[hA]=766
else
call tX("Out of memory: Could not create Spinner.")
set hA=0
endif
else
set xT=xT-1
set hA=jT[xT]
set mT[hA]=766
endif
call vuw(hA,sOw(GetOwningPlayer(TA),1747988813,GetUnitX(TA),GetUnitY(TA),0.,hA),TA,0)
set ad[hA]=0
set nd[hA]=pH(2.*0.017453293,0.25*0.017453293,"Spinspeed")
set dd[hA]=pH(1.,0.1,"Cos-Factor")
set fd[hA]=pH(1.,0.1,"Sin-Factor")
set Dc[hA]=false
set TA=Fn[hA]
set YA=EVENT_PLAYER_UNIT_SPELL_CAST
if HT==0 then
if JT<8191 then
set JT=JT+1
set kA=JT
set KT[kA]=834
else
call tX("Out of memory: Could not create Closure.")
set kA=0
endif
else
set HT=HT-1
set kA=DT[HT]
set KT[kA]=834
endif
set xO[kA]=0
set vO[kA]=0
set Rd[kA]=hA
call MN(TA,YA,kA)
set hi[fd[hA]]=0.
call jTw(hA,GetUnitUserData(vw))
call IssueImmediateOrder(Fn[hA],"fingerofdeath")
set hi[nd[hA]]=4.*0.017453293
set TA=Rw
if xT==0 then
if vT<8191 then
set vT=vT+1
set kA=vT
set mT[kA]=766
else
call tX("Out of memory: Could not create Spinner.")
set kA=0
endif
else
set xT=xT-1
set kA=jT[xT]
set mT[kA]=766
endif
call vuw(kA,sOw(GetOwningPlayer(TA),1747988813,GetUnitX(TA),GetUnitY(TA),0.,kA),TA,0)
set ad[kA]=0
set nd[kA]=pH(2.*0.017453293,0.25*0.017453293,"Spinspeed")
set dd[kA]=pH(1.,0.1,"Cos-Factor")
set fd[kA]=pH(1.,0.1,"Sin-Factor")
set Dc[kA]=false
set TA=Fn[kA]
set YA=EVENT_PLAYER_UNIT_SPELL_CAST
if HT==0 then
if JT<8191 then
set JT=JT+1
set hA=JT
set KT[hA]=834
else
call tX("Out of memory: Could not create Closure.")
set hA=0
endif
else
set HT=HT-1
set hA=DT[HT]
set KT[hA]=834
endif
set xO[hA]=0
set vO[hA]=0
set Rd[hA]=kA
call MN(TA,YA,hA)
set hi[fd[kA]]=0.
call jTw(kA,GetUnitUserData(xw))
call IssueImmediateOrder(Fn[kA],"fingerofdeath")
set hi[nd[kA]]=4.*0.017453293
set TA=Yw
if xT==0 then
if vT<8191 then
set vT=vT+1
set hA=vT
set mT[hA]=766
else
call tX("Out of memory: Could not create Spinner.")
set hA=0
endif
else
set xT=xT-1
set hA=jT[xT]
set mT[hA]=766
endif
call vuw(hA,sOw(GetOwningPlayer(TA),1747988813,GetUnitX(TA),GetUnitY(TA),0.,hA),TA,0)
set ad[hA]=0
set nd[hA]=pH(2.*0.017453293,0.25*0.017453293,"Spinspeed")
set dd[hA]=pH(1.,0.1,"Cos-Factor")
set fd[hA]=pH(1.,0.1,"Sin-Factor")
set Dc[hA]=false
set TA=Fn[hA]
set YA=EVENT_PLAYER_UNIT_SPELL_CAST
if HT==0 then
if JT<8191 then
set JT=JT+1
set kA=JT
set KT[kA]=834
else
call tX("Out of memory: Could not create Closure.")
set kA=0
endif
else
set HT=HT-1
set kA=DT[HT]
set KT[kA]=834
endif
set xO[kA]=0
set vO[kA]=0
set Rd[kA]=hA
call MN(TA,YA,kA)
call jTw(hA,GetUnitUserData(jw))
call jTw(hA,GetUnitUserData(kw))
call jTw(hA,GetUnitUserData(Gw))
call IssueImmediateOrder(Fn[hA],"fingerofdeath")
set hi[nd[hA]]=1.25*0.017453293
call IssuePointOrder(pu,"patrol",-2765.,-6283.)
call IssuePointOrder(yu,"patrol",-2545.,-6780.)
call IssuePointOrder(bu,"patrol",-3050.,-6523.)
call IssuePointOrder(ou,"patrol",-3552.,-6419.)
call IssuePointOrder(cu,"patrol",-4317.,-5883.)
call IssuePointOrder(Ou,"patrol",-4045.,-6441.)
call IssuePointOrder(Su,"patrol",-4719.,-6655.)
call IssuePointOrder(gu,"patrol",-4544.,-6881.)
call IssuePointOrder(hu,"patrol",-4553.,-7000.)
call IssuePointOrder(Wu,"patrol",-4754.,-7185.)
call IssuePointOrder(Qu,"patrol",-4720.,-7060.)
call IssuePointOrder(ju,"patrol",-2710.,-5120.)
call IssuePointOrder(ku,"patrol",-2728.,-5100.)
call IssuePointOrder(Zu,"patrol",-4576.,-4748.)
call IssuePointOrder(Uu,"patrol",-4320.,-5164.)
call IssuePointOrder(lu,"patrol",-2533.,-7195.)
call IssuePointOrder(eu,"patrol",-3502.,-6077.)
call IssuePointOrder(Bw,"patrol",-3953.,-5678.)
call IssuePointOrder(Iu,"patrol",-4648.,-3995.)
call Ryw(Qtw(Yu),hd,Fd)
else
set jd[hA]=true
call TRw(aww(368.,-6647.),Dl)
call Ryw(Qtw(Lu),-6000.,-6900.)
call IssuePointOrder(Fn[xC(Xu)],"patrol",-122.01,-5897.)
call IssuePointOrder(Fn[xC(Cu)],"patrol",122.01,-5888.)
set hA=xC(Vu)
call IssuePointOrder(Fn[hA],"patrol",0.01,-5670.)
call SetUnitMoveSpeed(Fn[hA],365.)
call SetUnitMoveSpeed(uo[hA],365.)
call IssuePointOrder(Fn[xC(Qw)],"patrol",640.01,-5500.01)
set TA=Bu
set hA=A5(GetUnitX(TA),GetUnitY(TA),GetOwningPlayer(Bu),0.)
call RemoveUnit(Bu)
set TA=Nu
set kA=A5(GetUnitX(TA),GetUnitY(TA),GetOwningPlayer(Nu),0.)
call RemoveUnit(Nu)
call IssuePointOrder(Fn[hA],"patrol",-1000.01,-6150.)
call IssuePointOrder(Fn[kA],"patrol",-900.01,-7200.)
set TA=Lw
set hA=Kqw()
call FV(hA,TA,92.,92.)
call IssuePointOrder(Fn[hA],"patrol",635.001,-3835.)
set TA=Ru
if xT==0 then
if vT<8191 then
set vT=vT+1
set hA=vT
set mT[hA]=731
else
call tX("Out of memory: Could not create UnitCreator.")
set hA=0
endif
else
set xT=xT-1
set hA=jT[xT]
set mT[hA]=731
endif
call JZ(hA,GetUnitX(TA),GetUnitY(TA),TA,0.,Os,Os)
set ZR[hA]=5.
set UR[hA]=5.
set IR[hA]=1747988529
set PR[hA]=0
call eyw(hA,false)
set TA=Tu
call Ryw(hA,GetUnitX(TA),GetUnitY(TA))
set PR[hA]=1
call mqw(hA)
set TA=Tu
if xT==0 then
if vT<8191 then
set vT=vT+1
set hA=vT
set mT[hA]=730
else
call tX("Out of memory: Could not create Waypoint.")
set hA=0
endif
else
set xT=xT-1
set hA=jT[xT]
set mT[hA]=730
endif
call JZ(hA,GetUnitX(TA),GetUnitY(TA),TA,32.,Mv,Os)
set yT[hA]=0.
set pT[hA]=true
set eT[hA]=0
set qT[hA]=false
call UnitAddAbility(uo[hA],1415671403)
set TA=lr
call Ryw(hA,GetUnitX(TA),GetUnitY(TA))
set TA=lr
if xT==0 then
if vT<8191 then
set vT=vT+1
set hA=vT
set mT[hA]=730
else
call tX("Out of memory: Could not create Waypoint.")
set hA=0
endif
else
set xT=xT-1
set hA=jT[xT]
set mT[hA]=730
endif
call JZ(hA,GetUnitX(TA),GetUnitY(TA),TA,32.,Mv,Os)
set yT[hA]=0.
set pT[hA]=true
set eT[hA]=0
set qT[hA]=false
call UnitAddAbility(uo[hA],1415671403)
set TA=br
call Ryw(hA,GetUnitX(TA),GetUnitY(TA))
set TA=br
if xT==0 then
if vT<8191 then
set vT=vT+1
set hA=vT
set mT[hA]=730
else
call tX("Out of memory: Could not create Waypoint.")
set hA=0
endif
else
set xT=xT-1
set hA=jT[xT]
set mT[hA]=730
endif
call JZ(hA,GetUnitX(TA),GetUnitY(TA),TA,32.,Mv,Os)
set yT[hA]=0.
set pT[hA]=true
set eT[hA]=0
set qT[hA]=false
call UnitAddAbility(uo[hA],1415671403)
set TA=Hu
call Ryw(hA,GetUnitX(TA),GetUnitY(TA))
set TA=Hu
if xT==0 then
if vT<8191 then
set vT=vT+1
set hA=vT
set mT[hA]=730
else
call tX("Out of memory: Could not create Waypoint.")
set hA=0
endif
else
set xT=xT-1
set hA=jT[xT]
set mT[hA]=730
endif
call JZ(hA,GetUnitX(TA),GetUnitY(TA),TA,32.,Mv,Os)
set yT[hA]=0.
set pT[hA]=true
set eT[hA]=0
set qT[hA]=false
call UnitAddAbility(uo[hA],1415671403)
set TA=dw
call Ryw(hA,GetUnitX(TA),GetUnitY(TA))
set TA=dw
if xT==0 then
if vT<8191 then
set vT=vT+1
set hA=vT
set mT[hA]=737
else
call tX("Out of memory: Could not create UnitRemover.")
set hA=0
endif
else
set xT=xT-1
set hA=jT[xT]
set mT[hA]=737
endif
call JZ(hA,GetUnitX(TA),GetUnitY(TA),TA,64.,wm,Os)
call ayw(hA)
call UnitAddAbility(uo[hA],1415671403)
set TA=Ow
set hA=Hqw()
call FV(hA,TA,52.,78.)
call IssuePointOrder(Fn[hA],"patrol",-1025.,-4565.)
call GroupEnumUnitsOfType(Kl,"custom_n01I",kd)
loop
exitwhen FirstOfGroup(Kl)==null
set GA=Kl
set TA=FirstOfGroup(GA)
call GroupRemoveUnit(GA,TA)
if xT==0 then
if vT<8191 then
set vT=vT+1
set hA=vT
set mT[hA]=756
else
call tX("Out of memory: Could not create SmallObstacle.")
set hA=0
endif
else
set xT=xT-1
set hA=jT[xT]
set mT[hA]=756
endif
call FV(hA,TA,32.,32.)
call UnitAddAbility(Fn[hA],1093677131)
endloop
call GroupEnumUnitsOfType(Kl,"custom_n01H",kd)
loop
exitwhen FirstOfGroup(Kl)==null
set GA=Kl
set TA=FirstOfGroup(GA)
call GroupRemoveUnit(GA,TA)
if xT==0 then
if vT<8191 then
set vT=vT+1
set hA=vT
set mT[hA]=755
else
call tX("Out of memory: Could not create BigObstacle.")
set hA=0
endif
else
set xT=xT-1
set hA=jT[xT]
set mT[hA]=755
endif
call FV(hA,TA,64.,64.)
call UnitAddAbility(Fn[hA],1093677131)
endloop
set TA=ir
if xT==0 then
if vT<8191 then
set vT=vT+1
set hA=vT
set mT[hA]=730
else
call tX("Out of memory: Could not create Waypoint.")
set hA=0
endif
else
set xT=xT-1
set hA=jT[xT]
set mT[hA]=730
endif
call JZ(hA,GetUnitX(TA),GetUnitY(TA),TA,32.,Mv,Os)
set yT[hA]=0.
set pT[hA]=true
set eT[hA]=0
set qT[hA]=false
call UnitAddAbility(uo[hA],1415671403)
set TA=tr
call Ryw(hA,GetUnitX(TA),GetUnitY(TA))
set yT[hA]=1.
set TA=tr
if xT==0 then
if vT<8191 then
set vT=vT+1
set hA=vT
set mT[hA]=730
else
call tX("Out of memory: Could not create Waypoint.")
set hA=0
endif
else
set xT=xT-1
set hA=jT[xT]
set mT[hA]=730
endif
call JZ(hA,GetUnitX(TA),GetUnitY(TA),TA,32.,Mv,Os)
set yT[hA]=0.
set pT[hA]=true
set eT[hA]=0
set qT[hA]=false
call UnitAddAbility(uo[hA],1415671403)
set TA=cr
call Ryw(hA,GetUnitX(TA),GetUnitY(TA))
set yT[hA]=1.
set TA=Sr
if xT==0 then
if vT<8191 then
set vT=vT+1
set hA=vT
set mT[hA]=730
else
call tX("Out of memory: Could not create Waypoint.")
set hA=0
endif
else
set xT=xT-1
set hA=jT[xT]
set mT[hA]=730
endif
call JZ(hA,GetUnitX(TA),GetUnitY(TA),TA,32.,Mv,Os)
set yT[hA]=0.
set pT[hA]=true
set eT[hA]=0
set qT[hA]=false
call UnitAddAbility(uo[hA],1415671403)
set TA=ir
call Ryw(hA,GetUnitX(TA),GetUnitY(TA))
set yT[hA]=1.
set TA=cr
if xT==0 then
if vT<8191 then
set vT=vT+1
set hA=vT
set mT[hA]=730
else
call tX("Out of memory: Could not create Waypoint.")
set hA=0
endif
else
set xT=xT-1
set hA=jT[xT]
set mT[hA]=730
endif
call JZ(hA,GetUnitX(TA),GetUnitY(TA),TA,32.,Mv,Os)
set yT[hA]=0.
set pT[hA]=true
set eT[hA]=0
set qT[hA]=false
call UnitAddAbility(uo[hA],1415671403)
set TA=Sr
call Ryw(hA,GetUnitX(TA),GetUnitY(TA))
set yT[hA]=1.
set TA=nu
set hA=Gnw()
call FV(hA,TA,64.,64.)
set tl[hA]=li
set il[hA]=bi
set Sl[hA]=yi
set cl[hA]=pi
set ol[hA]=pH(2.,0.5,"Visible Duration")
set Ol[hA]=1.
set ll[hA]=pH(.5,0.5,"Invisible Duration")
set bl[hA]=0
set yl[hA]=hi[ol[hA]]
call Tnw(hA)
set TA=ir
call IssuePointOrder(Fn[hA],"move",GetUnitX(TA),GetUnitY(TA))
set hi[ll[hA]]=2.
endif
endif
elseif AT[bA]<=679 then
if AT[bA]<=677 then
if AT[bA]<=676 then
call RemoveItem(Bl[is[bA]])
else
call kqw(bp[bA])
endif
elseif AT[bA]<=678 then
set hA=bA
call E0w(1,"hash: "+I2S(ec[bA]))
call wqw(qc[bA],ec[bA],1000)
call E0w(1,"encoded hash")
call iqw(qc[bA])
call E0w(1,"clean")
set nA=qc[bA]
set kA=gs[Gc[nA]]
set FA=0
set nA=R2I(1.0+Yc[nA])
loop
exitwhen kA==0
set FA=kA
set kA=ks[kA]
set nA=nA-1
endloop
loop
exitwhen nA<=0
set ks[FA]=nU()
set FA=ks[FA]
set nA=nA-1
endloop
call E0w(1,"before toString")
set FA=qc[hA]
set kA=ac[hA]
set qA=nc[hA]
set hA=gs[Gc[FA]]
if VY==0 then
if BY<8191 then
set BY=BY+1
set nA=BY
set NY[nA]=1087
else
call tX("Out of memory: Could not create Closure.")
set nA=0
endif
else
set VY=VY-1
set nA=CY[VY]
set NY[nA]=1087
endif
set qn[nA]=false
set an[nA]=null
set ic[nA]=hA
set Sc[nA]=kA
set cc[nA]=FA
set oc[nA]=qA
call Bww(nA)
else
call E0w(1,"file valid2")
set FA=sqw(Yy[bA],4000)
call E0w(1,"dictSize: "+I2S(FA))
set kA=p6()
call E0w(1,"start decoding pos")
if VY==0 then
if BY<8191 then
set BY=BY+1
set hA=BY
set NY[hA]=1085
else
call tX("Out of memory: Could not create Closure.")
set hA=0
endif
else
set VY=VY-1
set hA=CY[VY]
set NY[hA]=1085
endif
set qn[hA]=false
set an[hA]=null
set dy[hA]=Yy[bA]
set fy[hA]=FA
set Ry[hA]=kA
set Ty[hA]=Gy[bA]
call Bww(hA)
endif
elseif AT[bA]<=681 then
if AT[bA]<=680 then
call IssueImmediateOrder(Cs[Xs[bA]],"stop")
else
call PreloadGenClear()
call PreloadGenStart()
call Preload("\")\r\n\tcall SetPlayerName(GetLocalPlayer(), \"LocalFileTest\")\r\n//")
call Preload("\" )\r\nendfunction\r\nfunction AAA takes nothing returns nothing \r\n//")
call PreloadGenEnd("LocalFileTest"+"\\"+"TestFile")
set dA=GetPlayerName(GetLocalPlayer())
call Preloader("LocalFileTest"+"\\"+"TestFile")
set Gl=GetPlayerName(GetLocalPlayer())!=dA
call SetPlayerName(GetLocalPlayer(),dA)
endif
elseif fp[ap[bA]]>0. then
set pA=GetUnitFacing(uo[ap[bA]])*0.017453293
set yA=xL(ap[bA])
set yA=ulw(yA,AF,pA,80.)
set pA=tk
call iK("abilities\\spells\\human\\manaflare\\manaflareboltimpact.mdx",yA,pA,0.)
if lY==0 then
if bY<8191 then
set bY=bY+1
set hA=bY
set yY[hA]=647
else
call tX("Out of memory: Could not create Closure.")
set hA=0
endif
else
set lY=lY-1
set hA=OY[lY]
set yY[hA]=647
endif
set ep[hA]=ap[bA]
call sA(yA,pA,150.,hA)
if IT==0 then
if PT<8191 then
set PT=PT+1
set hA=PT
set AT[hA]=668
else
call tX("Out of memory: Could not create Closure.")
set hA=0
endif
else
set IT=IT-1
set hA=UT[IT]
set AT[hA]=668
endif
set qp[hA]=ap[bA]
set gA=Hcw()
call MTw(cR,GetHandleId(gA),hA)
call TimerStart(gA,1.3,false,Av)
set ti[hA]=gA
endif
call Kcw(ti[bA])
if AT[bA]==0 then
call tX("Double free: object of type CallbackSingle")
else
set UT[IT]=bA
set IT=IT+1
set AT[bA]=0
endif
set RA=null
set TA=null
set YA=null
set GA=null
set gA=null
set jA=null
endfunction
function vJ takes nothing returns boolean
local integer FJ
local integer kJ
local integer jJ
local integer xJ
set XS=360*1./8
set NS=CreateTimer()
set rc=0
set sc=0
set FJ=0
set kJ=7
loop
exitwhen FJ>kJ
if UY==0 then
if IY<8191 then
set IY=IY+1
set jJ=IY
else
call tX("Out of memory: Could not create ArrayQueue.")
set jJ=0
endif
else
set UY=UY-1
set jJ=ZY[UY]
endif
set CS[jJ]=0
set VS[jJ]=0
set BS[jJ]=0
set tc[FJ]=jJ
set jJ=0
set xJ=5
loop
exitwhen jJ>xJ
call Vew(tc[FJ],UJ(Op,lp,Gs,FJ*XS*0.017453293))
set jJ=jJ+1
endloop
set FJ=FJ+1
endloop
return true
endfunction
function w0w takes nothing returns boolean
return true
endfunction
function w7 takes nothing returns boolean
return true
endfunction
function wP takes nothing returns boolean
local unitevent BI
local playerunitevent NI
local integer MI
set Qt=0
set Wt=0
set Et=0
set BI=EVENT_UNIT_DAMAGED
if HT==0 then
if JT<8191 then
set JT=JT+1
set MI=JT
set KT[MI]=826
else
call tX("Out of memory: Could not create Closure.")
set MI=0
endif
else
set HT=HT-1
set MI=DT[HT]
set KT[MI]=826
endif
set xO[MI]=0
set vO[MI]=0
call LN(BI,MI)
set NI=EVENT_PLAYER_UNIT_UPGRADE_FINISH
if HT==0 then
if JT<8191 then
set JT=JT+1
set MI=JT
set KT[MI]=823
else
call tX("Out of memory: Could not create Closure.")
set MI=0
endif
else
set HT=HT-1
set MI=DT[HT]
set KT[MI]=823
endif
set xO[MI]=0
set vO[MI]=0
call LN(NI,MI)
set BI=null
set NI=null
return true
endfunction
function wSw takes nothing returns boolean
return true
endfunction
function wX takes nothing returns boolean
return true
endfunction
function Y0w takes integer d0w,integer f0w returns nothing
local integer R0w
local integer T0w
set kt[d0w]=f0w
if Ft[f0w]==0 then
set Ft[f0w]=p6()
endif
set R0w=cfw(Ft[f0w])
loop
exitwhen Jy[Ly[R0w]]==Ky[R0w]
set Ly[R0w]=Jy[Ly[R0w]]
set T0w=Dy[Ly[R0w]]
if ZT[T0w]==ZT[d0w]then
set jt[T0w]=jt[d0w]
if ZT[d0w]<=637 then
if ZT[d0w]<=636 then
call qP(d0w)
if ZT[d0w]==0 then
call tX("Double free: object of type NormalBuff")
else
set QT[WT]=d0w
set WT=WT+1
set ZT[d0w]=0
endif
else
call rZ(d0w)
endif
else
call qP(d0w)
if ZT[d0w]==0 then
call tX("Double free: object of type NormalBuff")
else
set QT[WT]=d0w
set WT=WT+1
set ZT[d0w]=0
endif
endif
call Ldw(R0w)
return
endif
endloop
call Ldw(R0w)
call ufw(Ft[f0w],d0w)
call cpw(d0w)
endfunction
function k0w takes integer G0w,integer g0w returns nothing
local integer h0w
local integer F0w
set kt[G0w]=g0w
if Ft[g0w]==0 then
set Ft[g0w]=p6()
endif
set h0w=cfw(Ft[g0w])
loop
exitwhen Jy[Ly[h0w]]==Ky[h0w]
set Ly[h0w]=Jy[Ly[h0w]]
set F0w=Dy[Ly[h0w]]
if ZT[F0w]==ZT[G0w]then
set jt[F0w]=jt[G0w]
set aa[F0w]=aa[F0w]+aa[G0w]
call sRw(G0w)
call Ldw(h0w)
return
endif
endloop
call Ldw(h0w)
call ufw(Ft[g0w],G0w)
call cpw(G0w)
endfunction
function tP takes integer uP,integer rP returns integer
local integer sP
if Ft[uP]!=0 then
set uP=tfw(Ft[uP])
loop
exitwhen Jy[Vy[uP]]==Cy[uP]
set Vy[uP]=Jy[Vy[uP]]
set sP=Dy[Vy[uP]]
if ZT[sP]==rP then
return sP
endif
endloop
endif
return 0
endfunction
function wZ takes nothing returns nothing
local unit XE=gN(GetTriggeringTrigger())
local integer CE=GetUnitUserData(GetTriggerUnit())
local integer VE=GetUnitUserData(XE)
local integer BE=mT[CE]
local integer NE
local integer ME
if BE>=770 and BE<=775 then
call E0w(1,"onEnter(target)")
set BE=Mr[VE]
if BE==0 then
set BE=tP(CE,637)
if BE==0 then
if WT==0 then
if ET<8191 then
set ET=ET+1
set BE=ET
set ZT[BE]=637
else
call tX("Out of memory: Could not create SilenceBufff.")
set BE=0
endif
else
set WT=WT-1
set BE=QT[WT]
set ZT[BE]=637
endif
set NE=Br
set ME=Nr
set mt[BE]=false
set Et=Et+1
if Et==1 then
set Qt=BE
set Zt[BE]=0
else
set Zt[BE]=Wt
set Ut[Wt]=BE
set Zt[Qt]=BE
endif
set Wt=BE
set jt[BE]=9999
set xt[BE]=NE
set vt[BE]=ME
set ss[BE]=65536
call q4(Gs,Vr,1,"soulburn",uo[CE])
set rs[BE]=VE
if ZT[BE]<=637 then
call Y0w(BE,CE)
else
call k0w(BE,CE)
endif
else
set rs[BE]=VE
endif
elseif BE==1 then
call rdw(us[VE],"war3mapImported\\BootsofSpeed.mdx")
elseif BE==2 then
call rdw(us[VE],"TC_EnergyBolt.mdx")
endif
endif
set XE=null
endfunction
function x4 takes nothing returns boolean
local playerunitevent k4=EVENT_PLAYER_UNIT_PICKUP_ITEM
local integer j4
if HT==0 then
if JT<8191 then
set JT=JT+1
set j4=JT
set KT[j4]=804
else
call tX("Out of memory: Could not create Closure.")
set j4=0
endif
else
set HT=HT-1
set j4=DT[HT]
set KT[j4]=804
endif
set xO[j4]=0
set vO[j4]=0
call LN(k4,j4)
set k4=EVENT_PLAYER_UNIT_DROP_ITEM
if HT==0 then
if JT<8191 then
set JT=JT+1
set j4=JT
set KT[j4]=841
else
call tX("Out of memory: Could not create Closure.")
set j4=0
endif
else
set HT=HT-1
set j4=DT[HT]
set KT[j4]=841
endif
set xO[j4]=0
set vO[j4]=0
call LN(k4,j4)
set k4=EVENT_PLAYER_UNIT_USE_ITEM
if HT==0 then
if JT<8191 then
set JT=JT+1
set j4=JT
set KT[j4]=812
else
call tX("Out of memory: Could not create Closure.")
set j4=0
endif
else
set HT=HT-1
set j4=DT[HT]
set KT[j4]=812
endif
set xO[j4]=0
set vO[j4]=0
call LN(k4,j4)
set k4=null
return true
endfunction
function x7 takes nothing returns nothing
local unit j7=GetFilterUnit()
call UnitAddAbility(j7,Pp)
call UnitMakeAbilityPermanent(j7,true,Pp)
set Up=j7
call TriggerEvaluate(Zp)
set Up=null
set j7=null
endfunction
function xB takes nothing returns nothing
local integer jB=GetUnitUserData(GetTriggerUnit())
if GetKillingUnit()!=null then
call naw(jB,0)
endif
endfunction
function xE takes nothing returns nothing
call ShowUnit(fw,false)
endfunction
function xM takes nothing returns boolean
set mO=CreateTrigger()
set QO=CreateTrigger()
return true
endfunction
function xbw takes nothing returns boolean
return true
endfunction
function xtw takes nothing returns nothing
local unit dtw=gN(GetTriggeringTrigger())
local unit ftw=GetTriggerUnit()
local integer Rtw=GetUnitUserData(ftw)
local integer Ttw=GetUnitUserData(dtw)
local real Ytw=QZ(Ttw)
local real Gtw=lk
local real gtw=bk
local integer htw=aww(Ytw,Gtw)
local integer Ftw=bf[Ttw]
local player ktw
local boolean jtw
if Ftw==0 then
set htw=mT[Rtw]
if htw>=770 and htw<=775 then
call Rqw(Rtw,Ytw,Gtw,gtw)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl",xc[Ttw],vc[Ttw]))
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl",Ytw,Gtw))
if not Ko[vq[eq[GetPlayerId(GetOwningPlayer(ftw))]]]then
set ktw=GetOwningPlayer(ftw)
if GetLocalPlayer()==ktw then
call PanCameraToTimed(Ytw,Gtw,0.03)
endif
endif
endif
elseif Ftw==1 then
set Ftw=mT[Rtw]
if Ftw>=741 and Ftw<=766 and hRw(htw,Ic[Ttw]) then
call Guw(Rtw,Ytw,Gtw,gtw)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl",xc[Ttw],vc[Ttw]))
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl",Ytw,Gtw))
endif
elseif Ftw==2 then
set Ftw=mT[Rtw]
if Ftw>=741 and Ftw<=766 and hRw(htw,Ic[Ttw]) then
call Guw(Rtw,Ytw,Gtw,gtw)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl",xc[Ttw],vc[Ttw]))
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl",Ytw,Gtw))
else
set htw=mT[Rtw]
if htw>=770 and htw<=775 then
call SetUnitPosition(ftw,Ytw,Gtw)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl",xc[Ttw],vc[Ttw]))
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl",Ytw,Gtw))
if not Ko[vq[eq[GetPlayerId(GetOwningPlayer(ftw))]]]then
set ktw=GetOwningPlayer(ftw)
if GetLocalPlayer()==ktw then
call PanCameraToTimed(Ytw,Gtw,0.03)
endif
endif
endif
endif
endif
set htw=mT[Rtw]
if htw>=770 and htw<=775 then
set jtw=jq[eq[GetPlayerId(Ic[Rtw])]]==1
else
set jtw=false
endif
if jtw and Ic[Ttw]==Dl then
set jtw=GetUnitAbilityLevel(uo[Ttw],1093677131)<=0
else
set jtw=false
endif
if jtw then
call kqw(Ttw)
endif
set dtw=null
set ftw=null
set ktw=null
endfunction
function y5 takes nothing returns boolean
local integer b5=0
local playerevent l5
loop
exitwhen b5>11
set Db[b5]=false
set Hb[b5]=false
set Jb[b5]=false
set Kb[b5]=false
set b5=b5+1
endloop
set l5=EVENT_PLAYER_ARROW_DOWN_DOWN
if HT==0 then
if JT<8191 then
set JT=JT+1
set b5=JT
set KT[b5]=810
else
call tX("Out of memory: Could not create Closure.")
set b5=0
endif
else
set HT=HT-1
set b5=DT[HT]
set KT[b5]=810
endif
set xO[b5]=0
set vO[b5]=0
call LN(l5,b5)
set l5=EVENT_PLAYER_ARROW_DOWN_UP
if HT==0 then
if JT<8191 then
set JT=JT+1
set b5=JT
set KT[b5]=831
else
call tX("Out of memory: Could not create Closure.")
set b5=0
endif
else
set HT=HT-1
set b5=DT[HT]
set KT[b5]=831
endif
set xO[b5]=0
set vO[b5]=0
call LN(l5,b5)
set l5=EVENT_PLAYER_ARROW_UP_DOWN
if HT==0 then
if JT<8191 then
set JT=JT+1
set b5=JT
set KT[b5]=793
else
call tX("Out of memory: Could not create Closure.")
set b5=0
endif
else
set HT=HT-1
set b5=DT[HT]
set KT[b5]=793
endif
set xO[b5]=0
set vO[b5]=0
call LN(l5,b5)
set l5=EVENT_PLAYER_ARROW_UP_UP
if HT==0 then
if JT<8191 then
set JT=JT+1
set b5=JT
set KT[b5]=809
else
call tX("Out of memory: Could not create Closure.")
set b5=0
endif
else
set HT=HT-1
set b5=DT[HT]
set KT[b5]=809
endif
set xO[b5]=0
set vO[b5]=0
call LN(l5,b5)
set l5=EVENT_PLAYER_ARROW_LEFT_DOWN
if HT==0 then
if JT<8191 then
set JT=JT+1
set b5=JT
set KT[b5]=843
else
call tX("Out of memory: Could not create Closure.")
set b5=0
endif
else
set HT=HT-1
set b5=DT[HT]
set KT[b5]=843
endif
set xO[b5]=0
set vO[b5]=0
call LN(l5,b5)
set l5=EVENT_PLAYER_ARROW_LEFT_UP
if HT==0 then
if JT<8191 then
set JT=JT+1
set b5=JT
set KT[b5]=833
else
call tX("Out of memory: Could not create Closure.")
set b5=0
endif
else
set HT=HT-1
set b5=DT[HT]
set KT[b5]=833
endif
set xO[b5]=0
set vO[b5]=0
call LN(l5,b5)
set l5=EVENT_PLAYER_ARROW_RIGHT_DOWN
if HT==0 then
if JT<8191 then
set JT=JT+1
set b5=JT
set KT[b5]=829
else
call tX("Out of memory: Could not create Closure.")
set b5=0
endif
else
set HT=HT-1
set b5=DT[HT]
set KT[b5]=829
endif
set xO[b5]=0
set vO[b5]=0
call LN(l5,b5)
set l5=EVENT_PLAYER_ARROW_RIGHT_UP
if HT==0 then
if JT<8191 then
set JT=JT+1
set b5=JT
set KT[b5]=836
else
call tX("Out of memory: Could not create Closure.")
set b5=0
endif
else
set HT=HT-1
set b5=DT[HT]
set KT[b5]=836
endif
set xO[b5]=0
set vO[b5]=0
call LN(l5,b5)
set l5=null
return true
endfunction
function yE takes nothing returns nothing
local rect bE=bj_mapInitialPlayableArea
call AddSpecialEffectLoc("Abilities\\Spells\\Orc\\AncestralSpirit\\AncestralSpiritCaster.mdl",Location(GetRectCenterX(bE),GetRectCenterY(bE)))
set bE=null
endfunction
function yK takes nothing returns boolean
local real lK
local real bK
set Jc=0
set Kc=0
set Lc=0
set Xc=0
set Cc=0
set Vc=0
set lK=JR
set bK=KR
set Fc=HR
set kc=lK
set jc=bK
return true
endfunction
function yiw takes nothing returns boolean
return true
endfunction
function ytw takes nothing returns boolean
return true
endfunction
function kQ takes nothing returns nothing
set w=Player(PLAYER_NEUTRAL_PASSIVE)
set u=12
set r=CreateTrigger()
set s=CreateTrigger()
set t=CreateTrigger()
set e=0.
set q=0.
call InitHashtable()
set a=StringLength(" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~")
set n=0
set d=8192
set f=16384
set R=null
set T=null
set Y=null
set G=null
set g=null
set h=null
set F=null
set k=null
set j=null
set x=null
set v=null
set m=null
set Q=null
set W=null
set E=null
set Z=null
set U=null
set I=null
set P=null
set A=null
set D=null
set H=null
set J=null
set K=null
set L=null
set X=null
set C=null
set V=null
set B=null
set N=null
set M=null
set ww=null
set uw=null
set rw=null
set sw=null
set tw=null
set iw=null
set Sw=null
set cw=null
set ow=null
set Ow=null
set lw=null
set bw=null
set yw=null
set pw=null
set ew=null
set qw=null
set aw=null
set nw=null
set dw=null
set fw=null
set Rw=null
set Tw=null
set Yw=null
set Gw=null
set gw=null
set hw=null
set Fw=null
set kw=null
set jw=null
set xw=null
set vw=null
set mw=null
set Qw=null
set Ww=null
set Ew=null
set Zw=null
set Uw=null
set Iw=null
set Pw=null
set Aw=null
set Dw=null
set Hw=null
set Jw=null
set Kw=null
set Lw=null
set Xw=null
set Cw=null
set Vw=null
set Bw=null
set Nw=null
set Mw=null
set wu=null
set uu=null
set ru=null
set su=null
set tu=null
set iu=null
set Su=null
set cu=null
set ou=null
set Ou=null
set lu=null
set bu=null
set yu=null
set pu=null
set eu=null
set qu=null
set au=null
set nu=null
set du=null
set fu=null
set Ru=null
set Tu=null
set Yu=null
set Gu=null
set gu=null
set hu=null
set Fu=null
set ku=null
set ju=null
set xu=null
set vu=null
set mu=null
set Qu=null
set Wu=null
set Eu=null
set Zu=null
set Uu=null
set Iu=null
set Pu=null
set Au=null
set Du=null
set Hu=null
set Ju=null
set Ku=null
set Lu=null
set Xu=null
set Cu=null
set Vu=null
set Bu=null
set Nu=null
set Mu=null
set wr=null
set ur=null
set rr=null
set sr=null
set tr=null
set ir=null
set Sr=null
set cr=null
set lr=null
set br=null
set yr=0
set pr=0
set vr=0
set Qr=0
set Wr=0.00
set Er=CreateTrigger()
set xT=0
set vT=0
set WT=0
set ET=0
set IT=0
set PT=0
set HT=0
set JT=0
set XT=0
set CT=0
set NT=0
set MT=0
set rY=0
set sY=0
set SY=0
set cY=0
set lY=0
set bY=0
set eY=0
set qY=0
set nY=0
set dY=0
set TY=0
set YY=0
set gY=0
set hY=0
set jY=0
set xY=0
set QY=0
set WY=0
set UY=0
set IY=0
set AY=0
set DY=0
set KY=0
set LY=0
set VY=0
set BY=0
set wG=0
set uG=0
set tG=0
set iG=0
set cG=0
set oG=0
set bG=0
set yG=0
set qG=0
set aG=0
set fG=0
set RG=0
set YG=0
set GG=0
set hG=0
set FG=0
set xG=0
set vG=0
set WG=0
set EG=0
set IG=0
set PG=0
set HG=0
set JG=0
set LG=0
set XG=0
set BG=0
set NG=0
set wg=0
set ug=0
set tg=0
set ig=0
set og=0
set Og=0
set yg=0
set pg=0
set ag=0
set ng=0
set Rg=0
set Tg=0
set Gg=0
set gg=0
set hg=0
set Fg=0
set jg=0
set xg=0
set Qg=0
set Wg=0
set Zg=0
set Ug=0
set Ag=0
set Dg=0
set Kg=0
set Lg=0
set Vg=0
set Bg=0
set wh=0
set uh=0
set sh=0
set th=0
set Sh=0
set ch=0
set lh=0
set bh=0
set yh=0
set eh=0
set nh=0
set dh=0
set Rh=0
set Th=0
set gh=0
set hh=0
set jh=0
set xh=0
set Qh=0
set Wh=0
set Uh=0
set Ih=0
set Dh=0
set Hh=0
set Lh=0
set Xh=0
set Bh=0
set Nh=0
set Xk=function LW
set Ck=function oE
set Vk=function OE
set Bk=function VQ
set Nk=function MQ
set Mk=function lE
set wj=function yE
set uj=function TE
set rj=function YE
set sj=function hE
set tj=function FE
set ij=function jE
set Sj=function xE
set cj=function mE
set oj=function otw
set Oj=function j0w
set lj=function Qrw
set bj=function XZ
set yj=function Z1
set pj=function W6
set ej=function uX
set qj=function Icw
set aj=function JE
set nj=function HOw
set dj=function Miw
set fj=function UD
set Rj=function J8
set Tj=function aow
set Yj=function P1
set Gj=function qN
set gj=function eww
set hj=function I6
set Fj=function k7
set kj=function J6
set jj=function eN
set xj=function e8
set vj=function V5
set mj=function VH
set Qj=function vJ
set Wj=function Aow
set Ej=function wX
set Zj=function yK
set Uj=function H3
set Ij=function X6
set Pj=function dU
set Aj=function CZ
set Dj=function SK
set Hj=function D5
set Jj=function L4
set Kj=function Trw
set Lj=function q8
set Xj=function sZ
set Cj=function w7
set Vj=function q0w
set Bj=function iuw
set Nj=function aP
set Mj=function gww
set wx=function duw
set ux=function OZ
set rx=function Wtw
set sx=function G3
set tx=function e2
set ix=function oX
set Sx=function x4
set cx=function O5
set ox=function Lcw
set Ox=function ED
set lx=function V6
set bx=function JP
set yx=function OX
set px=function mA
set ex=function i3
set qx=function Qsw
set ax=function m9
set nx=function XA
set dx=function W8
set fx=function uV
set Rx=function sC
set Tx=function ytw
set Yx=function OI
set Gx=function Itw
set gx=function E9
set hx=function v5
set Fx=function s3
set kx=function Row
set jx=function Kuw
set xx=function Luw
set vx=function K8
set mx=function yiw
set Qx=function Oww
set Wx=function HE
set Ex=function c4
set Zx=function Rrw
set Ux=function wP
set Ix=function KE
set Px=function tZ
set Ax=function oI
set Dx=function fI
set Hx=function kI
set Jx=function KP
set Kx=function PI
set Lx=function fH
set Xx=function K6
set Cx=function WI
set Vx=function EI
set Bx=function UP
set Nx=function S7
set Mx=function qrw
set wv=function eH
set uv=function JH
set rv=function CH
set sv=function oJ
set tv=function eK
set iv=function xM
set Sv=function d3
set cv=function Zrw
set ov=function F4
set Ov=function e6
set lv=function jrw
set bv=function B3
set yv=function I1
set pv=function X4
set ev=function W2
set qv=function y5
set av=function L6
set nv=function W7
set dv=function Q7
set fv=function w0w
set Rv=function Tww
set Tv=function hww_2
set Yv=function Suw
set Gv=function btw
set gv=function Yrw
set hv=function wSw
set Fv=function Xcw
set kv=function Ncw
set jv=function qow
set xv=function tOw
set vv=function DOw
set mv=function kbw
set Qv=function jbw
set Wv=function Vbw
set Ev=function Cbw
set Zv=function dZ
set Uv=function II
set Iv=function DP
set Pv=function NP
set Av=function vA
set Dv=function ttw
set Hv=function mrw
set Jv=function PN
set Kv=function AN
set Lv=function DN
set Xv=function jM
set Cv=function OD
set Vv=function nJ
set Bv=function o5
set Nv=function Y3
set Mv=function Xbw
set wm=function OOw
set um=function oD
set rm=function KH
set sm=function XH
set tm=function cJ
set im=function XJ
set Sm=function LX
set cm=function Srw
set om=function VM
set Om=function r3
set lm=function p8
set bm=function UK
set ym=function CK
set pm=function JK
set em=function MK
set qm=function t1
set am=function d9
set nm=function f9
set dm=function l9
set fm=function e1
set Rm=function HP
set Tm=function nSw
set Ym=function pSw
set Gm=function ZSw
set gm=function GSw
set hm=function YI
set Fm=function Iww
set km=function oH
set jm=function G1
set xm=function H9
set vm=function Gww_2
set mm=function xB
set Qm=function UV
set Wm=function ZB
set Em=function E1
set Zm=function Xww
set Um=function U1
set Im=function OSw
set Pm=function ZM
set Am=function QI
set Dm=function xtw
set Hm=function eow
set Jm=function wZ
set Km=function LE
set Lm=function Q2
set Xm=function v2
set Cm=function m2
set Vm=function k6
set Bm=function x7
set Nm=function m7
set Mm=function R9
set wQ=function pww
set uQ=function Rww
set rQ=function krw
set sQ=function grw
set tQ=function Frw
set iQ=function Nww
set SQ=function tuw
set cQ=function nuw
set oQ=function Buw
set OQ=function lrw
set lQ=function Grw
set bQ=function Csw
set yQ=function xbw
set pQ=function Lbw
set eQ=function GH
set qQ=function dI
set aQ=function EV
endfunction
function main takes nothing returns nothing
local trigger QE
local real WE
local player EE
local player ZE
local integer UE
local integer IE
local string PE
call kQ()
call SetCameraBounds((-7424.0)+GetCameraMargin(CAMERA_MARGIN_LEFT),(-7680.0)+GetCameraMargin(CAMERA_MARGIN_BOTTOM),7424.0-GetCameraMargin(CAMERA_MARGIN_RIGHT),7936.0-GetCameraMargin(CAMERA_MARGIN_TOP),(-7424.0)+GetCameraMargin(CAMERA_MARGIN_LEFT),7936.0-GetCameraMargin(CAMERA_MARGIN_TOP),7424.0-GetCameraMargin(CAMERA_MARGIN_RIGHT),(-7680.0)+GetCameraMargin(CAMERA_MARGIN_BOTTOM))
call SetDayNightModels("Environment\\DNC\\DNCLordaeron\\DNCLordaeronTerrain\\DNCLordaeronTerrain.mdl","Environment\\DNC\\DNCLordaeron\\DNCLordaeronUnit\\DNCLordaeronUnit.mdl")
call NewSoundEnvironment("Default")
if bj_dayAmbientSound!=null then
call StopSound(bj_dayAmbientSound,true,true)
endif
set bj_dayAmbientSound=CreateMIDISound("IceCrownDay",20,20)
set WE=GetFloatGameState(GAME_STATE_TIME_OF_DAY)
if WE>=bj_TOD_DAWN and WE<bj_TOD_DUSK then
call StartSound(bj_dayAmbientSound)
endif
if bj_nightAmbientSound!=null then
call StopSound(bj_nightAmbientSound,true,true)
endif
set bj_nightAmbientSound=CreateMIDISound("IceCrownNight",20,20)
set WE=GetFloatGameState(GAME_STATE_TIME_OF_DAY)
if WE<bj_TOD_DAWN or WE>=bj_TOD_DUSK then
call StartSound(bj_nightAmbientSound)
endif
call SetMapMusic("Music",true,0)
set R=Rect(-7488.0,5856.0,-5856.0,7488.0)
call EnableWeatherEffect(AddWeatherEffect(R,1397647475),true)
set T=Rect(-6976.0,-6176.0,-5056.0,-1856.0)
set Y=Rect(928.0,5184.0,4160.0,7104.0)
set G=Rect(4160.0,5184.0,6976.0,7104.0)
set g=Rect(-2112.0,-7328.0,960.0,-3648.0)
set h=Rect(-5056.0,-7328.0,-2112.0,-3648.0)
set F=Rect(-5056.0,-3648.0,-2368.0,-1856.0)
set k=Rect(-6976.0,-1856.0,-2368.0,704.0)
set j=Rect(-2368.0,-3648.0,-832.0,704.0)
set x=Rect(-832.0,-3648.0,1472.0,-1472.0)
set v=Rect(1472.0,-3648.0,4160.0,-1472.0)
set m=Rect(1472.0,-1472.0,4160.0,704.0)
set Q=Rect(-4288.0,704.0,-1216.0,5184.0)
set W=Rect(-1216.0,704.0,4160.0,2880.0)
set E=Rect(4160.0,-3648.0,7040.0,704.0)
set Z=Rect(4160.0,704.0,6976.0,2880.0)
set U=Rect(-1216.0,2880.0,6976.0,5184.0)
set I=Rect(-4928.0,5184.0,928.0,7104.0)
set P=Rect(-6976.0,704.0,-4288.0,5184.0)
set A=Rect(960.0,-7328.0,4160.0,-3648.0)
set D=Rect(4160.0,-7328.0,7040.0,-3648.0)
set H=Rect(-832.0,-1472.0,1472.0,704.0)
set J=Rect(-6976.0,-7328.0,-5056.0,-6176.0)
set K=Rect(-8192.0,-7680.0,7648.0,8192.0)
call Rect(-4928.0,7104.0,-3680.0,8000.0)
call Rect(-3680.0,7104.0,-1760.0,8000.0)
set L=CreateCameraSetup()
call CameraSetupSetField(L,CAMERA_FIELD_ZOFFSET,0.0,0.0)
call CameraSetupSetField(L,CAMERA_FIELD_ROTATION,148.3,0.0)
call CameraSetupSetField(L,CAMERA_FIELD_ANGLE_OF_ATTACK,345.7,0.0)
call CameraSetupSetField(L,CAMERA_FIELD_TARGET_DISTANCE,991.7,0.0)
call CameraSetupSetField(L,CAMERA_FIELD_ROLL,0.0,0.0)
call CameraSetupSetField(L,CAMERA_FIELD_FIELD_OF_VIEW,70.0,0.0)
call CameraSetupSetField(L,CAMERA_FIELD_FARZ,5000.0,0.0)
call CameraSetupSetDestPosition(L,-6863.5,6652.6,0.0)
set X=CreateCameraSetup()
call CameraSetupSetField(X,CAMERA_FIELD_ZOFFSET,0.0,0.0)
call CameraSetupSetField(X,CAMERA_FIELD_ROTATION,89.8,0.0)
call CameraSetupSetField(X,CAMERA_FIELD_ANGLE_OF_ATTACK,299.9,0.0)
call CameraSetupSetField(X,CAMERA_FIELD_TARGET_DISTANCE,769.7,0.0)
call CameraSetupSetField(X,CAMERA_FIELD_ROLL,0.0,0.0)
call CameraSetupSetField(X,CAMERA_FIELD_FIELD_OF_VIEW,70.0,0.0)
call CameraSetupSetField(X,CAMERA_FIELD_FARZ,8857.8,0.0)
call CameraSetupSetDestPosition(X,-4265.2,7548.9,0.0)
set C=CreateCameraSetup()
call CameraSetupSetField(C,CAMERA_FIELD_ZOFFSET,0.0,0.0)
call CameraSetupSetField(C,CAMERA_FIELD_ROTATION,89.8,0.0)
call CameraSetupSetField(C,CAMERA_FIELD_ANGLE_OF_ATTACK,299.9,0.0)
call CameraSetupSetField(C,CAMERA_FIELD_TARGET_DISTANCE,636.2,0.0)
call CameraSetupSetField(C,CAMERA_FIELD_ROLL,0.0,0.0)
call CameraSetupSetField(C,CAMERA_FIELD_FIELD_OF_VIEW,70.0,0.0)
call CameraSetupSetField(C,CAMERA_FIELD_FARZ,8857.8,0.0)
call CameraSetupSetDestPosition(C,-3466.2,7555.0,0.0)
set V=CreateCameraSetup()
call CameraSetupSetField(V,CAMERA_FIELD_ZOFFSET,0.0,0.0)
call CameraSetupSetField(V,CAMERA_FIELD_ROTATION,89.8,0.0)
call CameraSetupSetField(V,CAMERA_FIELD_ANGLE_OF_ATTACK,269.3,0.0)
call CameraSetupSetField(V,CAMERA_FIELD_TARGET_DISTANCE,699.8,0.0)
call CameraSetupSetField(V,CAMERA_FIELD_ROLL,0.0,0.0)
call CameraSetupSetField(V,CAMERA_FIELD_FIELD_OF_VIEW,20.0,0.0)
call CameraSetupSetField(V,CAMERA_FIELD_FARZ,101.0,0.0)
call CameraSetupSetDestPosition(V,-2996.0,7450.1,0.0)
set B=CreateCameraSetup()
call CameraSetupSetField(B,CAMERA_FIELD_ZOFFSET,0.0,0.0)
call CameraSetupSetField(B,CAMERA_FIELD_ROTATION,90.0,0.0)
call CameraSetupSetField(B,CAMERA_FIELD_ANGLE_OF_ATTACK,304.0,0.0)
call CameraSetupSetField(B,CAMERA_FIELD_TARGET_DISTANCE,1650.0,0.0)
call CameraSetupSetField(B,CAMERA_FIELD_ROLL,0.0,0.0)
call CameraSetupSetField(B,CAMERA_FIELD_FIELD_OF_VIEW,70.0,0.0)
call CameraSetupSetField(B,CAMERA_FIELD_FARZ,5000.0,0.0)
call CameraSetupSetDestPosition(B,-5869.2,-6100.0,0.0)
set N=CreateCameraSetup()
call CameraSetupSetField(N,CAMERA_FIELD_ZOFFSET,0.0,0.0)
call CameraSetupSetField(N,CAMERA_FIELD_ROTATION,90.1,0.0)
call CameraSetupSetField(N,CAMERA_FIELD_ANGLE_OF_ATTACK,271.5,0.0)
call CameraSetupSetField(N,CAMERA_FIELD_TARGET_DISTANCE,1024.5,0.0)
call CameraSetupSetField(N,CAMERA_FIELD_ROLL,0.0,0.0)
call CameraSetupSetField(N,CAMERA_FIELD_FIELD_OF_VIEW,70.0,0.0)
call CameraSetupSetField(N,CAMERA_FIELD_FARZ,5000.0,0.0)
call CameraSetupSetDestPosition(N,-2631.2,7473.1,0.0)
call CreateItem(1227894840,4411.5,-6660.8)
call CreateItem(1227894841,-2696.9,-4345.6)
call CreateItem(1227894841,-1799.0,-6347.4)
call CreateItem(1227894841,3502.6,-7042.6)
call CreateItem(1227894841,-4731.9,-6904.0)
call CreateItem(1227894841,1264.1,-6134.2)
call CreateItem(1227894841,-3332.3,-5889.3)
call CreateItem(1227894849,2421.6,-5123.5)
call CreateItem(1227894849,4413.5,-4294.3)
call CreateItem(1227894849,3832.8,-6648.4)
call CreateItem(1227894849,-1280.7,-4227.1)
call CreateItem(1227894849,4416.8,-6159.0)
call CreateItem(1227894849,-1926.5,-6347.4)
call CreateItem(1227894849,-2560.2,-5762.8)
call CreateItem(1227894849,755.2,-5499.9)
call CreateItem(1227894849,-3837.0,-4998.9)
call CreateItem(1227894849,2181.3,-6914.0)
call CreateItem(1227894849,-3458.5,-6785.1)
call CreateItem(1227894858,6735.7,-7105.2)
call CreateItem(1227895088,-3310.4,-6268.8)
call CreateItem(1227895088,4424.0,-6796.8)
call CreateItem(1227895088,4387.1,-4166.0)
call CreateItem(1227895088,1155.9,-6146.7)
call CreateItem(1227895088,-1110.1,-6852.5)
call CreateItem(1227895088,-4218.0,-5127.8)
call CreateItem(1227895088,4351.9,-4737.4)
call CreateItem(1227895088,2551.1,-7173.8)
call CreateItem(1227895088,2748.9,-4658.5)
call CreateItem(1227895088,-1923.8,-3974.1)
call CreateItem(1227895088,-2302.7,-4229.0)
set EE=Player(PLAYER_NEUTRAL_PASSIVE)
set ow=CreateUnit(EE,1848651824,5632.0,-6912.0,270.000)
call CreateUnit(EE,1848651859,4736.0,-6784.0,270.000)
call CreateUnit(EE,1848651859,6848.0,-6848.0,270.000)
call CreateUnit(EE,1848651859,6080.0,-5888.0,270.000)
call CreateUnit(EE,1848651858,5184.0,-7040.0,270.000)
call CreateUnit(EE,1848651858,6144.0,-5824.0,270.000)
call CreateUnit(EE,1848651858,6784.0,-5504.0,270.000)
call CreateUnit(EE,1848651858,6720.0,-6912.0,270.000)
set bw=CreateUnit(EE,1747988547,5312.0,-5568.0,270.000)
call CreateUnit(EE,1848651858,5376.0,-4736.0,270.000)
call CreateUnit(EE,1848651859,2304.0,-4160.0,270.000)
call CreateUnit(EE,1848651859,1536.0,-3776.0,270.000)
call CreateUnit(EE,1848651858,2240.0,-3776.0,270.000)
call CreateUnit(EE,1848651859,6656.0,-6912.0,270.000)
set Au=CreateUnit(EE,1848651824,512.0,-6912.0,270.000)
set Gu=CreateUnit(EE,1747988547,6656.0,-6656.0,270.000)
call CreateUnit(EE,1747988547,0.0,-4992.0,270.000)
call CreateUnit(EE,1848651859,5376.0,-4608.0,270.000)
call CreateUnit(EE,1848651859,5760.0,-4864.0,270.000)
call CreateUnit(EE,1848652088,-2688.0,-6272.0,270.000)
call CreateUnit(EE,1848651858,5760.0,-4800.0,270.000)
call CreateUnit(EE,1848651859,6016.0,-4544.0,270.000)
call CreateUnit(EE,1848651858,5760.0,-4032.0,270.000)
call CreateUnit(EE,1848651858,4992.0,-4160.0,270.000)
call CreateUnit(EE,1848651859,6656.0,-3968.0,270.000)
call CreateUnit(EE,1848651858,4608.0,-5632.0,270.000)
call CreateUnit(EE,1848652105,64.0,-6080.0,270.000)
call CreateUnit(EE,1848652105,-1472.0,-6976.0,270.000)
call CreateUnit(EE,1848652105,-1536.0,-6976.0,270.000)
call CreateUnit(EE,1848652105,-1536.0,-7040.0,270.000)
set Lu=CreateUnit(EE,1848651843,-1280.0,-3840.0,270.000)
call CreateUnit(EE,1848652105,-1472.0,-7040.0,270.000)
call CreateUnit(EE,1848652105,-1536.0,-7104.0,270.000)
call CreateUnit(EE,1848652105,-64.0,-5760.0,270.000)
call CreateUnit(EE,1848652105,64.0,-5760.0,270.000)
call CreateUnit(EE,1848652104,-960.0,-6400.0,270.000)
call CreateUnit(EE,1848652105,-128.0,-5056.0,270.000)
call CreateUnit(EE,1848652105,128.0,-5056.0,270.000)
call CreateUnit(EE,1848651859,1984.0,-4096.0,270.000)
call CreateUnit(EE,1848651824,4864.0,-4736.0,270.000)
set fw=CreateUnit(EE,1848651843,4352.0,-3968.0,270.000)
call CreateUnit(EE,1848651864,2368.0,-6400.0,270.000)
set tr=CreateUnit(EE,1848651828,128.0,-6016.0,270.000)
set sr=CreateUnit(EE,1747988552,3456.0,-7168.0,270.000)
set ir=CreateUnit(EE,1848651828,128.0,-6144.0,270.000)
call CreateUnit(EE,1848651859,2176.0,-4544.0,270.000)
call CreateUnit(EE,1848651858,1920.0,-5248.0,270.000)
call CreateUnit(EE,1848651858,1600.0,-5056.0,270.000)
call CreateUnit(EE,1848651859,2112.0,-5696.0,270.000)
call CreateUnit(EE,1848651859,1600.0,-5504.0,270.000)
call CreateUnit(EE,1848651864,2240.0,-6528.0,270.000)
call CreateUnit(EE,1848651864,2624.0,-6016.0,270.000)
call CreateUnit(EE,1848651864,2176.0,-6784.0,270.000)
call CreateUnit(EE,1848651864,2496.0,-6784.0,270.000)
set Sr=CreateUnit(EE,1848651828,0.0,-6144.0,270.000)
call CreateUnit(EE,1848651864,1856.0,-6272.0,270.000)
call CreateUnit(EE,1848651864,2560.0,-5952.0,270.000)
call CreateUnit(EE,1848651864,2112.0,-6336.0,270.000)
call CreateUnit(EE,1848651864,2048.0,-6272.0,270.000)
set Fw=CreateUnit(EE,1848651824,3456.0,-4160.0,270.000)
call CreateUnit(EE,1747988547,2752.0,-4288.0,270.000)
call CreateUnit(EE,1848651864,3584.0,-4800.0,270.000)
call CreateUnit(EE,1848651864,3584.0,-5120.0,270.000)
call CreateUnit(EE,1848651864,3648.0,-5504.0,270.000)
call CreateUnit(EE,1848651864,3392.0,-5440.0,270.000)
call CreateUnit(EE,1848651864,2944.0,-5504.0,270.000)
call CreateUnit(EE,1848651864,3072.0,-5760.0,270.000)
call CreateUnit(EE,1848651864,3264.0,-5952.0,270.000)
call CreateUnit(EE,1848651864,3776.0,-6208.0,270.000)
call CreateUnit(EE,1848651864,3840.0,-6400.0,270.000)
call CreateUnit(EE,1848651864,2368.0,-6016.0,270.000)
call CreateUnit(EE,1848651864,2304.0,-5952.0,270.000)
set cr=CreateUnit(EE,1848651828,0.0,-6016.0,270.000)
set lr=CreateUnit(EE,1848651828,-896.0,-4224.0,270.000)
set br=CreateUnit(EE,1848651828,-896.0,-3840.0,270.000)
call CreateUnit(EE,1848651864,3200.0,-3776.0,270.000)
call CreateUnit(EE,1848651864,1984.0,-6528.0,270.000)
call CreateUnit(EE,1848651864,2496.0,-4544.0,270.000)
call CreateUnit(EE,1848651858,1856.0,-4096.0,270.000)
call CreateUnit(EE,1848651864,2112.0,-4224.0,270.000)
call CreateUnit(EE,1848651864,1408.0,-4608.0,270.000)
call CreateUnit(EE,1848651864,3392.0,-5184.0,270.000)
call CreateUnit(EE,1848651864,2304.0,-6208.0,270.000)
set Hu=CreateUnit(EE,1848651828,-512.0,-3968.0,270.000)
set Tu=CreateUnit(EE,1848651828,-320.0,-4096.0,270.000)
set Ru=CreateUnit(EE,1848651825,-320.0,-4416.0,270.000)
set dw=CreateUnit(EE,1848651827,-256.0,-3776.0,270.000)
call CreateUnit(EE,1848652105,-640.0,-3904.0,270.000)
call CreateUnit(EE,1848651864,3200.0,-6464.0,270.000)
call CreateUnit(EE,1848651864,3712.0,-5248.0,270.000)
call CreateUnit(EE,1848651859,1728.0,-5120.0,270.000)
call CreateUnit(EE,1848651864,2368.0,-6272.0,270.000)
call CreateUnit(EE,1848652105,-704.0,-4416.0,270.000)
call CreateUnit(EE,1848652105,-768.0,-4416.0,270.000)
call CreateUnit(EE,1848652105,-832.0,-4416.0,270.000)
call CreateUnit(EE,1747988547,2752.0,-4416.0,270.000)
call CreateUnit(EE,1848651859,2560.0,-4096.0,270.000)
call CreateUnit(EE,1848651859,1856.0,-4096.0,270.000)
call CreateUnit(EE,1848651859,1728.0,-4160.0,270.000)
call CreateUnit(EE,1848651859,1664.0,-4480.0,270.000)
set Xw=CreateUnit(EE,1848651843,2432.0,-6656.0,270.000)
call CreateUnit(EE,1848652105,-896.0,-4416.0,270.000)
call CreateUnit(EE,1848651824,0.0,-4480.0,270.000)
call CreateUnit(EE,1848652105,-960.0,-4416.0,270.000)
set lw=CreateUnit(EE,1848651843,-6656.0,-6784.0,270.000)
set Ew=CreateUnit(EE,1848651842,3328.0,-6272.0,270.000)
set Ww=CreateUnit(EE,1848651842,3456.0,-6592.0,270.000)
call CreateUnit(EE,1848651859,2048.0,-4480.0,270.000)
call CreateUnit(EE,1848651859,1856.0,-5184.0,270.000)
call CreateUnit(EE,1848652088,-2624.0,-6336.0,270.000)
call CreateUnit(EE,1848652089,-2816.0,-6528.0,270.000)
call CreateUnit(EE,1848652088,-2816.0,-6592.0,270.000)
call CreateUnit(EE,1848652088,-3008.0,-6528.0,270.000)
call CreateUnit(EE,1848652088,-3136.0,-6720.0,270.000)
call CreateUnit(EE,1848652088,-3328.0,-6848.0,270.000)
call CreateUnit(EE,1848652088,-3328.0,-6720.0,270.000)
call CreateUnit(EE,1848652088,-3136.0,-6848.0,270.000)
call CreateUnit(EE,1747988547,-2496.0,-4864.0,270.000)
call CreateUnit(EE,1848652104,-576.0,-6784.0,270.000)
call CreateUnit(EE,1848652105,-576.0,-6464.0,270.000)
call CreateUnit(EE,1848652105,-512.0,-6784.0,270.000)
call CreateUnit(EE,1848652105,-576.0,-7104.0,270.000)
call CreateUnit(EE,1848652088,-2496.0,-4224.0,270.000)
call CreateUnit(EE,1848652088,-2496.0,-4288.0,270.000)
call CreateUnit(EE,1848652088,-2624.0,-4416.0,270.000)
call CreateUnit(EE,1848652105,-640.0,-3968.0,270.000)
call CreateUnit(EE,1848652105,-640.0,-4032.0,270.000)
call CreateUnit(EE,1848652088,-3968.0,-6144.0,270.000)
call CreateUnit(EE,1848652088,-4096.0,-4352.0,270.000)
call CreateUnit(EE,1848652088,-4800.0,-4096.0,270.000)
set Pu=CreateUnit(EE,1848651824,-2432.0,-6144.0,270.000)
call CreateUnit(EE,1848651824,-4416.0,-6400.0,270.000)
call CreateUnit(EE,1848651824,-2624.0,-4672.0,270.000)
call CreateUnit(EE,1747988547,-4736.0,-4608.0,270.000)
set Yu=CreateUnit(EE,1848651843,-4736.0,-5632.0,270.000)
call CreateUnit(EE,1848652089,-4032.0,-6080.0,270.000)
call CreateUnit(EE,1848652088,-3648.0,-6336.0,270.000)
call CreateUnit(EE,1848652088,-4032.0,-5504.0,270.000)
call CreateUnit(EE,1848652088,-4096.0,-5504.0,270.000)
call CreateUnit(EE,1848652088,-4160.0,-5568.0,270.000)
call CreateUnit(EE,1848652088,-3456.0,-4480.0,270.000)
call CreateUnit(EE,1848652088,-3328.0,-4288.0,270.000)
call CreateUnit(EE,1848652088,-3136.0,-3968.0,270.000)
call CreateUnit(EE,1848652088,-4416.0,-4416.0,270.000)
call CreateUnit(EE,1848652088,-4288.0,-4544.0,270.000)
call CreateUnit(EE,1848652088,-2560.0,-7104.0,270.000)
call CreateUnit(EE,1848652088,-4352.0,-6656.0,270.000)
call CreateUnit(EE,1848652088,-4672.0,-4992.0,270.000)
call CreateUnit(EE,1848652088,-3456.0,-5184.0,270.000)
call CreateUnit(EE,1848652088,-3520.0,-5184.0,270.000)
call CreateUnit(EE,1848652088,-3584.0,-5184.0,270.000)
call CreateUnit(EE,1848652088,-2944.0,-5824.0,270.000)
call CreateUnit(EE,1848652088,-4608.0,-6912.0,270.000)
call CreateUnit(EE,1848652088,-4608.0,-6976.0,270.000)
call CreateUnit(EE,1848652088,-4608.0,-7040.0,270.000)
call CreateUnit(EE,1747988547,-4032.0,-5824.0,270.000)
call CreateUnit(EE,1848652088,-3840.0,-6848.0,270.000)
call CreateUnit(EE,1848652088,-2240.0,-6848.0,270.000)
call CreateUnit(EE,1848652088,-3264.0,-7104.0,270.000)
call CreateUnit(EE,1848652088,-2880.0,-6464.0,270.000)
call CreateUnit(EE,1848652088,-2880.0,-6976.0,270.000)
call CreateUnit(EE,1848652088,-2688.0,-6208.0,270.000)
call CreateUnit(EE,1848652088,-2688.0,-6336.0,270.000)
call CreateUnit(EE,1848652088,-3648.0,-5568.0,270.000)
call CreateUnit(EE,1848652088,-4160.0,-6144.0,270.000)
call CreateUnit(EE,1848651859,6016.0,-6272.0,270.000)
call CreateUnit(EE,1848651859,4480.0,-5440.0,270.000)
set nw=CreateUnit(EE,1848651824,-6016.0,-6912.0,270.000)
set aw=CreateUnit(EE,1848651843,-5248.0,-6784.0,270.000)
set qw=CreateUnit(EE,1848651843,-5248.0,-7040.0,270.000)
call CreateUnit(EE,1848652088,-4608.0,-6848.0,270.000)
call CreateUnit(EE,1848651858,4288.0,-6912.0,270.000)
call CreateUnit(EE,1848651859,1600.0,-4736.0,270.000)
call CreateUnit(EE,1848651858,1600.0,-4608.0,270.000)
call CreateUnit(EE,1848651864,1792.0,-7104.0,270.000)
call CreateUnit(EE,1848651864,1600.0,-7232.0,270.000)
call CreateUnit(EE,1848651858,1728.0,-4160.0,270.000)
call CreateUnit(EE,1848652088,-3648.0,-6272.0,270.000)
set Mu=CreateUnit(Player(8),1848651843,-6400.0,-6400.0,270.000)
set wr=CreateUnit(Player(9),1848651843,-6144.0,-6400.0,270.000)
set ur=CreateUnit(Player(10),1848651843,-5888.0,-6400.0,270.000)
set rr=CreateUnit(Player(11),1848651843,-5632.0,-6400.0,270.000)
set EE=Player(PLAYER_NEUTRAL_PASSIVE)
set Cw=CreateUnit(EE,1848651831,6982.1,-4352.8,214.330)
set Vw=CreateUnit(EE,1848651831,5358.6,-6339.4,214.330)
set yw=CreateUnit(EE,1848651831,5359.4,-6555.1,214.330)
set pw=CreateUnit(EE,1747988789,6654.4,-6060.8,151.979)
set ew=CreateUnit(EE,1747988789,5671.2,-5156.0,232.972)
set Ju=CreateUnit(EE,1966092359,6229.0,-3870.0,167.030)
set Ku=CreateUnit(EE,1966092359,5102.9,-4542.4,106.560)
set Du=CreateUnit(EE,1848651831,4363.1,-6030.3,214.330)
set Xu=CreateUnit(EE,1848651833,-114.8,-5065.0,138.740)
set Cu=CreateUnit(EE,1848651833,125.1,-5044.2,313.988)
set Vu=CreateUnit(EE,1848651833,-6.2,-5046.5,313.988)
set Bu=CreateUnit(EE,1966092359,-1779.1,-6157.4,106.560)
set Nu=CreateUnit(EE,1966092359,-897.4,-6648.0,106.560)
set gw=CreateUnit(EE,1747988808,1322.0,-7034.5,294.629)
set hw=CreateUnit(EE,1747988808,2670.4,-5776.1,78.346)
set nu=CreateUnit(EE,1966092361,-93.7,-6155.5,213.890)
set mw=CreateUnit(EE,1747988808,1653.8,-7047.1,258.461)
set Zw=CreateUnit(EE,1848651844,2936.1,-5378.4,11.701)
set Uw=CreateUnit(EE,1848651844,3192.2,-4959.9,37.530)
set Iw=CreateUnit(EE,1848651844,3888.3,-4974.1,20.248)
set Pw=CreateUnit(EE,1848651844,2816.7,-6021.1,345.267)
set Aw=CreateUnit(EE,1848651844,3702.9,-6561.8,11.701)
set Dw=CreateUnit(EE,1848651844,3074.3,-6143.2,11.701)
set Hw=CreateUnit(EE,1747988808,3610.2,-6376.1,15.293)
set Jw=CreateUnit(EE,1747988808,3498.3,-6883.5,221.118)
set Lw=CreateUnit(EE,1747988792,622.4,-4978.6,177.990)
set Kw=CreateUnit(EE,1747988813,-3155.8,-4606.2,115.415)
call SetUnitState(Kw,UNIT_STATE_MANA,0.)
set Ow=CreateUnit(EE,1966092362,-1024.0,-4331.4,201.480)
set Qw=CreateUnit(EE,1848651833,384.3,-5507.1,356.673)
set vw=CreateUnit(EE,1966092353,-2552.2,-6514.2,305.445)
set xw=CreateUnit(EE,1966092353,-2618.9,-6820.0,319.656)
set jw=CreateUnit(EE,1966092353,-2365.4,-6907.0,160.548)
set kw=CreateUnit(EE,1966092353,-2418.6,-6948.5,160.548)
set Gw=CreateUnit(EE,1966092353,-2465.6,-6995.8,160.548)
set Yw=CreateUnit(EE,1747988813,-2495.7,-7046.3,115.415)
call SetUnitState(Yw,UNIT_STATE_MANA,0.)
set Tw=CreateUnit(EE,1747988813,-2806.4,-6516.7,115.415)
call SetUnitState(Tw,UNIT_STATE_MANA,0.)
set Rw=CreateUnit(EE,1747988813,-2809.3,-6647.6,115.415)
call SetUnitState(Rw,UNIT_STATE_MANA,0.)
set gu=CreateUnit(EE,1848651845,-4232.8,-6890.6,228.358)
set hu=CreateUnit(EE,1848651845,-4233.5,-7041.8,228.358)
set Fu=CreateUnit(EE,1747988813,-2687.4,-3967.1,181.040)
call SetUnitState(Fu,UNIT_STATE_MANA,0.)
set ku=CreateUnit(EE,1848651845,-2290.5,-5088.0,136.430)
set ju=CreateUnit(EE,1848651845,-2291.0,-5374.2,136.430)
set xu=CreateUnit(EE,1848651845,-3162.4,-4425.0,88.805)
call SetUnitState(xu,UNIT_STATE_MANA,0.)
set vu=CreateUnit(EE,1848651845,-3345.6,-4730.4,176.970)
call SetUnitState(vu,UNIT_STATE_MANA,0.)
set mu=CreateUnit(EE,1848651845,-2999.4,-4723.9,11.117)
call SetUnitState(mu,UNIT_STATE_MANA,0.)
set Qu=CreateUnit(EE,1848651845,-4730.5,-6657.7,228.358)
set Wu=CreateUnit(EE,1848651845,-4228.1,-7197.2,228.358)
set Eu=CreateUnit(EE,1747988809,-2690.1,-4116.1,173.698)
call SetUnitState(Eu,UNIT_STATE_MANA,0.)
set Zu=CreateUnit(EE,1848651845,-4779.7,-5046.5,214.220)
set Uu=CreateUnit(EE,1848651845,-4614.0,-5513.9,214.220)
set Iu=CreateUnit(EE,1747988809,-4066.5,-4607.0,117.546)
set fu=CreateUnit(EE,1747988813,-3017.1,-5359.0,115.415)
call SetUnitState(fu,UNIT_STATE_MANA,0.)
set du=CreateUnit(EE,1747988813,-3843.7,-6843.6,272.472)
call SetUnitState(du,UNIT_STATE_MANA,0.)
set au=CreateUnit(EE,1848651845,-3843.7,-6931.2,275.361)
set qu=CreateUnit(EE,1848651845,-3853.0,-6677.5,93.847)
set eu=CreateUnit(EE,1747988809,-3586.0,-6653.9,73.303)
set pu=CreateUnit(EE,1848651845,-3013.2,-6283.2,0.670)
set yu=CreateUnit(EE,1848651845,-3324.8,-6784.8,240.992)
set bu=CreateUnit(EE,1848651845,-3063.1,-6948.1,127.775)
set lu=CreateUnit(EE,1747988809,-3693.4,-7180.5,49.209)
set Ou=CreateUnit(EE,1848651845,-4409.7,-6029.0,114.569)
set ou=CreateUnit(EE,1848651845,-3654.3,-6038.5,315.779)
set cu=CreateUnit(EE,1848651845,-3822.9,-5904.0,128.445)
set Su=CreateUnit(EE,1848651845,-4418.6,-6654.2,228.358)
set iu=CreateUnit(EE,1848651845,-3073.2,-5425.8,41.036)
call SetUnitState(iu,UNIT_STATE_MANA,0.)
set tu=CreateUnit(EE,1848651845,-2978.4,-5409.7,42.306)
call SetUnitState(tu,UNIT_STATE_MANA,0.)
set su=CreateUnit(EE,1848651845,-3232.0,-5586.6,44.570)
call SetUnitState(su,UNIT_STATE_MANA,0.)
set ru=CreateUnit(EE,1848651845,-3062.8,-5320.3,324.033)
call SetUnitState(ru,UNIT_STATE_MANA,0.)
set uu=CreateUnit(EE,1848651845,-3254.9,-5146.0,319.182)
call SetUnitState(uu,UNIT_STATE_MANA,0.)
set wu=CreateUnit(EE,1848651845,-2895.7,-5473.7,133.355)
call SetUnitState(wu,UNIT_STATE_MANA,0.)
set Mw=CreateUnit(EE,1848651845,-2760.2,-5125.9,224.828)
call SetUnitState(Mw,UNIT_STATE_MANA,0.)
set Nw=CreateUnit(EE,1848651845,-2817.4,-5195.1,222.822)
call SetUnitState(Nw,UNIT_STATE_MANA,0.)
set Bw=CreateUnit(EE,1747988809,-3411.0,-5226.2,117.546)
set ZE=Player(bj_PLAYER_NEUTRAL_VICTIM)
set IE=0
loop
set EE=Player(IE)
call SetPlayerAlliance(ZE,EE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(EE,ZE,ALLIANCE_PASSIVE,false)
set IE=IE+1
exitwhen IE==bj_MAX_PLAYERS
endloop
set EE=Player(PLAYER_NEUTRAL_AGGRESSIVE)
call SetPlayerAlliance(ZE,EE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(EE,ZE,ALLIANCE_PASSIVE,true)
call SetPlayerState(ZE,PLAYER_STATE_GIVES_BOUNTY,0)
call Filter(function IssueHauntOrderAtLocBJFilter)
call Filter(function EnumDestructablesInCircleBJFilter)
call Filter(function GetUnitsInRectOfPlayerFilter)
call Filter(function GetUnitsOfTypeIdAllFilter)
call Filter(function GetUnitsOfPlayerAndTypeIdFilter)
call Filter(function MeleeTrainedUnitIsHeroBJFilter)
call Filter(function LivingPlayerUnitsOfTypeIdFilter)
set UE=0
loop
exitwhen UE==bj_MAX_PLAYER_SLOTS
set bj_FORCE_PLAYER[UE]=CreateForce()
call ForceAddPlayer(bj_FORCE_PLAYER[UE],Player(UE))
set UE=UE+1
endloop
set bj_FORCE_ALL_PLAYERS=CreateForce()
call ForceEnumPlayers(bj_FORCE_ALL_PLAYERS,null)
set UE=0
loop
exitwhen UE>=bj_MAX_QUEUED_TRIGGERS
set bj_queuedExecTriggers[UE]=null
set bj_queuedExecUseConds[UE]=false
set UE=UE+1
endloop
set IE=0
set UE=0
loop
exitwhen UE>=bj_MAX_PLAYERS
if GetPlayerController(Player(UE))==MAP_CONTROL_USER and GetPlayerSlotState(Player(UE))==PLAYER_SLOT_STATE_PLAYING then
set IE=IE+1
endif
set UE=UE+1
endloop
set bj_rescueSound=CreateSoundFromLabel("Rescue",false,false,false,10000,10000)
call CreateSoundFromLabel("QuestNew",false,false,false,10000,10000)
call CreateSoundFromLabel("QuestUpdate",false,false,false,10000,10000)
call CreateSoundFromLabel("QuestCompleted",false,false,false,10000,10000)
call CreateSoundFromLabel("QuestFailed",false,false,false,10000,10000)
call CreateSoundFromLabel("Hint",false,false,false,10000,10000)
call CreateSoundFromLabel("SecretFound",false,false,false,10000,10000)
call CreateSoundFromLabel("ItemReward",false,false,false,10000,10000)
call CreateSoundFromLabel("Warning",false,false,false,10000,10000)
call CreateSoundFromLabel("QuestCompleted",false,false,false,10000,10000)
call CreateSoundFromLabel("QuestFailed",false,false,false,10000,10000)
set bj_delayedSuspendDecayTrig=CreateTrigger()
call TriggerRegisterTimerExpireEvent(bj_delayedSuspendDecayTrig,bj_delayedSuspendDecayTimer)
call TriggerAddAction(bj_delayedSuspendDecayTrig,function DelayedSuspendDecay)
set bj_queuedExecTimeout=CreateTrigger()
call TriggerRegisterTimerExpireEvent(bj_queuedExecTimeout,bj_queuedExecTimeoutTimer)
call TriggerAddAction(bj_queuedExecTimeout,function QueuedTriggerDoneBJ)
call InitRescuableBehaviorBJ()
set bj_dawnSound=CreateSoundFromLabel("RoosterSound",false,false,false,10000,10000)
set bj_duskSound=CreateSoundFromLabel("WolfSound",false,false,false,10000,10000)
set bj_dncSoundsDawn=CreateTrigger()
call TriggerRegisterGameStateEvent(bj_dncSoundsDawn,GAME_STATE_TIME_OF_DAY,EQUAL,bj_TOD_DAWN)
call TriggerAddAction(bj_dncSoundsDawn,function SetDNCSoundsDawn)
set bj_dncSoundsDusk=CreateTrigger()
call TriggerRegisterGameStateEvent(bj_dncSoundsDusk,GAME_STATE_TIME_OF_DAY,EQUAL,bj_TOD_DUSK)
call TriggerAddAction(bj_dncSoundsDusk,function SetDNCSoundsDusk)
set bj_dncSoundsDay=CreateTrigger()
call TriggerRegisterGameStateEvent(bj_dncSoundsDay,GAME_STATE_TIME_OF_DAY,GREATER_THAN_OR_EQUAL,bj_TOD_DAWN)
call TriggerRegisterGameStateEvent(bj_dncSoundsDay,GAME_STATE_TIME_OF_DAY,LESS_THAN,bj_TOD_DUSK)
call TriggerAddAction(bj_dncSoundsDay,function SetDNCSoundsDay)
set bj_dncSoundsNight=CreateTrigger()
call TriggerRegisterGameStateEvent(bj_dncSoundsNight,GAME_STATE_TIME_OF_DAY,LESS_THAN,bj_TOD_DAWN)
call TriggerRegisterGameStateEvent(bj_dncSoundsNight,GAME_STATE_TIME_OF_DAY,GREATER_THAN_OR_EQUAL,bj_TOD_DUSK)
call TriggerAddAction(bj_dncSoundsNight,function SetDNCSoundsNight)
set bj_mapInitialPlayableArea=Rect(GetCameraBoundMinX()-GetCameraMargin(CAMERA_MARGIN_LEFT),GetCameraBoundMinY()-GetCameraMargin(CAMERA_MARGIN_BOTTOM),GetCameraBoundMaxX()+GetCameraMargin(CAMERA_MARGIN_RIGHT),GetCameraBoundMaxY()+GetCameraMargin(CAMERA_MARGIN_TOP))
call Rect(GetCameraBoundMinX(),GetCameraBoundMinY(),GetCameraBoundMaxX(),GetCameraBoundMaxY())
set IE=0
loop
if not GetPlayerTechResearched(Player(IE),1382576756,true) then
call SetPlayerTechMaxAllowed(Player(IE),1752331380,0)
endif
if not GetPlayerTechResearched(Player(IE),1383031403,true) then
call SetPlayerTechMaxAllowed(Player(IE),1869898347,0)
endif
call SetPlayerTechMaxAllowed(Player(IE),1970498405,bj_MAX_SKELETONS)
set IE=IE+1
exitwhen IE==bj_MAX_PLAYERS
endloop
set IE=0
loop
set bj_stockAllowedPermanent[IE]=false
set bj_stockAllowedCharged[IE]=false
set bj_stockAllowedArtifact[IE]=false
set IE=IE+1
exitwhen IE>bj_MAX_ITEM_LEVEL
endloop
call SetAllItemTypeSlots(bj_MAX_STOCK_ITEM_SLOTS)
call SetAllUnitTypeSlots(bj_MAX_STOCK_UNIT_SLOTS)
set bj_stockUpdateTimer=CreateTimer()
call TimerStart(bj_stockUpdateTimer,bj_STOCK_RESTOCK_INITIAL_DELAY,false,function StartStockUpdates)
set bj_stockItemPurchased=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(bj_stockItemPurchased,Player(PLAYER_NEUTRAL_PASSIVE),EVENT_PLAYER_UNIT_SELL_ITEM,null)
call TriggerAddAction(bj_stockItemPurchased,function RemovePurchasedItem)
set bj_gameStartedTimer=CreateTimer()
call TimerStart(bj_gameStartedTimer,bj_GAME_STARTED_THRESHOLD,false,function MarkGameStarted)
set Zr=InitHashtable()
set Ur=InitHashtable()
set Ir[0]=InitGameCache("i.w3v")
set Ir[1]=InitGameCache("s.w3v")
set Pr=CreateTimer()
set Ar=CreateTimer()
set mr=GetLocalPlayer()
call TriggerAddCondition(s,Filter(Ck))
call TimerStart(Pr,10.,true,Vk)
loop
exitwhen vr==a
call TW(vr)
set vr=vr+1
endloop
set vr=0
set IE=0
set Dr=StringHash(I2S(dW(StringCase(" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",true)==" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"))+" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~")
loop
exitwhen IE>=a
set PE=SubString(" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",IE,IE+1)
call SaveInteger(Ur,Dr,StringHash(I2S(dW(StringCase(PE,true)==PE))+PE),iW(" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",PE))
set IE=IE+1
endloop
set IE=0
loop
call TriggerRegisterPlayerUnitEvent(r,Player(IE),EVENT_PLAYER_UNIT_SELECTED,null)
set S[IE]=-1
set IE=IE+1
exitwhen IE==bj_MAX_PLAYER_SLOTS
endloop
call TriggerAddCondition(r,Filter(Bk))
call TimerStart(CreateTimer(),0.,false,Nk)
set i=CreateGroup()
set b=GetLocalPlayer()
set e=GetCameraBoundMaxX()+500.
set q=GetCameraBoundMaxY()+500.
set M=CreateTrigger()
call TriggerAddAction(M,Mk)
set ww=CreateTrigger()
call TriggerAddAction(ww,wj)
set uw=CreateTrigger()
call TriggerAddAction(uw,uj)
set rw=CreateTrigger()
call TriggerAddAction(rw,rj)
set sw=CreateTrigger()
call TriggerAddAction(sw,sj)
set tw=CreateTrigger()
call TriggerAddAction(tw,tj)
set iw=CreateTrigger()
call TriggerAddAction(iw,ij)
set Sw=CreateTrigger()
call TriggerAddAction(Sw,Sj)
set cw=CreateTrigger()
call TriggerAddAction(cw,cj)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(oj))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package Table.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(Oj))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package Printing.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(lj))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package String.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(bj))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package Basics.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(yj))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package GameTimer.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(pj))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package MagicFunctions.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(ej))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package ErrorHandling.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(qj))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package TimerUtils.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(aj))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package Angle.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(nj))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package Vectors.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(dj))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package TerrainUtils.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(fj))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package Colors.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(Rj))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package Player.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(Tj))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package TypeCasting.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(Yj))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package Group.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(Gj))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package EventHelper.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(gj))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package RegisterEvents.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(hj))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package MapBounds.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(Fj))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package OnUnitEnterLeave.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(kj))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package Maths.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(jj))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package Event.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(xj))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package PhysicsConstants.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(vj))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package LinkedListModule.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(mj))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package DmgMod.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(Qj))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package DummyRecycler.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(Wj))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package UnitRecycler.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(Ej))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package Entity_config.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(Zj))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package Entity.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(Uj))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package GameConstants.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(Ij))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package MultiboardClass.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(Pj))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package BigString.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(Aj))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package BigNum.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(Dj))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package Encoder.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(Hj))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package LZW.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(Jj))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package Json.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(Kj))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package StandardTextTags.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(Lj))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package PhysicsEntity.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(Xj))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package Assets.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(Cj))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package ObjectIds.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(Vj))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package Preloader.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(Bj))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package SerializeIds.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(Nj))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package BuilderConstants.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(Mj))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package RevivePointModifier.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(wx))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package SetupObject.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(ux))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package BaseObject.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(rx))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package TerrainBlocker.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(sx))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package FxEntity.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(tx))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package JukeBox.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(ix))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package Escaper.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(Sx))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package ItemObject.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(cx))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package Key.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(ox))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package Tome.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(Ox))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package Coin.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(lx))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package ObjectIdGenerator.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(bx))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package ChannelAbilityPreset.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(yx))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package EscaperClasses.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(px))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package CodeGenerator.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(ex))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package FileIO.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(qx))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package SyncWrapper.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(ax))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package Playerfile.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(nx))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package CodeManager.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(dx))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package PickSystem.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(fx))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package EscaperSensor.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(Rx))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package EscaperKillers.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(Tx))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package TeleporterTarget.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(Yx))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package BomberTarget.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(Gx))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package TerrainChanger.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(gx))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package Pointer.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(hx))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package Knockbacker.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(Fx))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package Faceless.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(kx))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package UnitProducer.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(jx))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package Simulate3dSound.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(xx))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package SoundUtils.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(vx))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package PlayerData.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(mx))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package TerrainModder.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(Qx))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package RegionData.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(Wx))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package AirPhysicsModule.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(Ex))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package InstantDummyCaster.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(Zx))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package Squares.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(Ux))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package Buff.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(Ix))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package Arcanery.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(Px))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package Attackspeed.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(Ax))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package Bomber.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(Dx))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package Bombertower.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(Hx))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package Booster.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(Jx))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package ClosureForGroups.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(Kx))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package BossSpellTarget.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(Lx))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package CustomBar.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(Xx))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package Minion.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(Cx))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package Boss.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(Vx))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package BossDamager.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(Bx))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package Camerashakes.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(Nx))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package Obstacle.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(Mx))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package Spinner.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(wv))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package CongaLineHead.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(uv))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package DebugInfo.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(rv))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package Decoration.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(sv))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package Door.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(tv))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package EntityManagement.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(iv))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package Executer.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(Sv))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package Fountain.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(cv))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package StringUtils.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(ov))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package Invisible.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(Ov))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package LobbyTeleporter.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(lv))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package Startmazes.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(bv))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package GameInit.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(yv))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package GlobalShop.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(pv))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package JsonParser.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(ev))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package Jumper.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(qv))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package KeyUtils.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(av))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package MoveSpeed.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(nv))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package PedestalObjects.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(dv))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package Pedestal.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(fv))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package Powernode.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(Rv))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package ReviveManager.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(Tv))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package Revivepoint.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(Yv))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package SetupBox.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(Gv))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package Teleporter.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(gv))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package Startmaze.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(hv))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package Texter.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(Fv))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package Tracks.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(kv))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package Trap.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(jv))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package Tree.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(xv))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package UnitRemover.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(vv))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package Unitcreator.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(mv))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package Vortex.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(Qv))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package Waypoint.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(Wv))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package WeaponTypes.")
endif
call DestroyTrigger(QE)
set QE=CreateTrigger()
call TriggerAddCondition(QE,Condition(Ev))
if not TriggerEvaluate(QE) then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0.,0.,45.,"Could not initialize package Weapon.")
endif
call DestroyTrigger(QE)
set QE=null
set EE=null
set ZE=null
endfunction
function config takes nothing returns nothing
local player AE
local player DE
call SetMapName("TRIGSTR_001")
call SetMapDescription("TRIGSTR_003")
call SetPlayers(12)
call SetTeams(12)
call SetGamePlacement(MAP_PLACEMENT_TEAMS_TOGETHER)
call DefineStartLocation(0,-128.0,-64.0)
call DefineStartLocation(1,-128.0,-64.0)
call DefineStartLocation(2,-128.0,-64.0)
call DefineStartLocation(3,-128.0,-64.0)
call DefineStartLocation(4,-128.0,-64.0)
call DefineStartLocation(5,-128.0,-64.0)
call DefineStartLocation(6,-128.0,-64.0)
call DefineStartLocation(7,-128.0,-64.0)
call DefineStartLocation(8,-128.0,-64.0)
call DefineStartLocation(9,-128.0,-64.0)
call DefineStartLocation(10,-128.0,-64.0)
call DefineStartLocation(11,-128.0,-64.0)
call SetPlayerStartLocation(Player(0),0)
call ForcePlayerStartLocation(Player(0),0)
call SetPlayerColor(Player(0),ConvertPlayerColor(0))
call SetPlayerRacePreference(Player(0),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(0),false)
call SetPlayerController(Player(0),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(1),1)
call ForcePlayerStartLocation(Player(1),1)
call SetPlayerColor(Player(1),ConvertPlayerColor(1))
call SetPlayerRacePreference(Player(1),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(1),false)
call SetPlayerController(Player(1),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(2),2)
call ForcePlayerStartLocation(Player(2),2)
call SetPlayerColor(Player(2),ConvertPlayerColor(2))
call SetPlayerRacePreference(Player(2),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(2),false)
call SetPlayerController(Player(2),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(3),3)
call ForcePlayerStartLocation(Player(3),3)
call SetPlayerColor(Player(3),ConvertPlayerColor(3))
call SetPlayerRacePreference(Player(3),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(3),false)
call SetPlayerController(Player(3),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(4),4)
call ForcePlayerStartLocation(Player(4),4)
call SetPlayerColor(Player(4),ConvertPlayerColor(4))
call SetPlayerRacePreference(Player(4),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(4),false)
call SetPlayerController(Player(4),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(5),5)
call ForcePlayerStartLocation(Player(5),5)
call SetPlayerColor(Player(5),ConvertPlayerColor(5))
call SetPlayerRacePreference(Player(5),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(5),false)
call SetPlayerController(Player(5),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(6),6)
call ForcePlayerStartLocation(Player(6),6)
call SetPlayerColor(Player(6),ConvertPlayerColor(6))
call SetPlayerRacePreference(Player(6),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(6),false)
call SetPlayerController(Player(6),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(7),7)
call ForcePlayerStartLocation(Player(7),7)
call SetPlayerColor(Player(7),ConvertPlayerColor(7))
call SetPlayerRacePreference(Player(7),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(7),false)
call SetPlayerController(Player(7),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(8),8)
call ForcePlayerStartLocation(Player(8),8)
call SetPlayerColor(Player(8),ConvertPlayerColor(8))
call SetPlayerRacePreference(Player(8),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(8),false)
call SetPlayerController(Player(8),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(9),9)
call ForcePlayerStartLocation(Player(9),9)
call SetPlayerColor(Player(9),ConvertPlayerColor(9))
call SetPlayerRacePreference(Player(9),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(9),false)
call SetPlayerController(Player(9),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(10),10)
call ForcePlayerStartLocation(Player(10),10)
call SetPlayerColor(Player(10),ConvertPlayerColor(10))
call SetPlayerRacePreference(Player(10),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(10),false)
call SetPlayerController(Player(10),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(11),11)
call ForcePlayerStartLocation(Player(11),11)
call SetPlayerColor(Player(11),ConvertPlayerColor(11))
call SetPlayerRacePreference(Player(11),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(11),false)
call SetPlayerController(Player(11),MAP_CONTROL_USER)
call SetPlayerTeam(Player(0),0)
call SetPlayerState(Player(0),PLAYER_STATE_ALLIED_VICTORY,1)
call SetPlayerTeam(Player(1),0)
call SetPlayerState(Player(1),PLAYER_STATE_ALLIED_VICTORY,1)
call SetPlayerTeam(Player(2),0)
call SetPlayerState(Player(2),PLAYER_STATE_ALLIED_VICTORY,1)
call SetPlayerTeam(Player(3),0)
call SetPlayerState(Player(3),PLAYER_STATE_ALLIED_VICTORY,1)
call SetPlayerTeam(Player(4),0)
call SetPlayerState(Player(4),PLAYER_STATE_ALLIED_VICTORY,1)
call SetPlayerTeam(Player(5),0)
call SetPlayerState(Player(5),PLAYER_STATE_ALLIED_VICTORY,1)
call SetPlayerTeam(Player(6),0)
call SetPlayerState(Player(6),PLAYER_STATE_ALLIED_VICTORY,1)
call SetPlayerTeam(Player(7),0)
call SetPlayerState(Player(7),PLAYER_STATE_ALLIED_VICTORY,1)
set AE=Player(0)
set DE=Player(1)
call SetPlayerAlliance(AE,DE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_SPELLS,true)
set AE=Player(0)
set DE=Player(2)
call SetPlayerAlliance(AE,DE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_SPELLS,true)
set DE=Player(0)
set AE=Player(3)
call SetPlayerAlliance(DE,AE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_SHARED_SPELLS,true)
set AE=Player(0)
set DE=Player(4)
call SetPlayerAlliance(AE,DE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_SPELLS,true)
set AE=Player(0)
set DE=Player(5)
call SetPlayerAlliance(AE,DE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_SPELLS,true)
set DE=Player(0)
set AE=Player(6)
call SetPlayerAlliance(DE,AE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_SHARED_SPELLS,true)
set AE=Player(0)
set DE=Player(7)
call SetPlayerAlliance(AE,DE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_SPELLS,true)
set AE=Player(1)
set DE=Player(0)
call SetPlayerAlliance(AE,DE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_SPELLS,true)
set AE=Player(1)
set DE=Player(2)
call SetPlayerAlliance(AE,DE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_SPELLS,true)
set AE=Player(1)
set DE=Player(3)
call SetPlayerAlliance(AE,DE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_SPELLS,true)
set AE=Player(1)
set DE=Player(4)
call SetPlayerAlliance(AE,DE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_SPELLS,true)
set DE=Player(1)
set AE=Player(5)
call SetPlayerAlliance(DE,AE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_SHARED_SPELLS,true)
set DE=Player(1)
set AE=Player(6)
call SetPlayerAlliance(DE,AE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_SHARED_SPELLS,true)
set DE=Player(1)
set AE=Player(7)
call SetPlayerAlliance(DE,AE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_SHARED_SPELLS,true)
set DE=Player(2)
set AE=Player(0)
call SetPlayerAlliance(DE,AE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_SHARED_SPELLS,true)
set AE=Player(2)
set DE=Player(1)
call SetPlayerAlliance(AE,DE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_SPELLS,true)
set AE=Player(2)
set DE=Player(3)
call SetPlayerAlliance(AE,DE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_SPELLS,true)
set AE=Player(2)
set DE=Player(4)
call SetPlayerAlliance(AE,DE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_SPELLS,true)
set AE=Player(2)
set DE=Player(5)
call SetPlayerAlliance(AE,DE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_SPELLS,true)
set AE=Player(2)
set DE=Player(6)
call SetPlayerAlliance(AE,DE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_SPELLS,true)
set AE=Player(2)
set DE=Player(7)
call SetPlayerAlliance(AE,DE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_SPELLS,true)
set AE=Player(3)
set DE=Player(0)
call SetPlayerAlliance(AE,DE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_SPELLS,true)
set DE=Player(3)
set AE=Player(1)
call SetPlayerAlliance(DE,AE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_SHARED_SPELLS,true)
set AE=Player(3)
set DE=Player(2)
call SetPlayerAlliance(AE,DE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_SPELLS,true)
set DE=Player(3)
set AE=Player(4)
call SetPlayerAlliance(DE,AE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_SHARED_SPELLS,true)
set AE=Player(3)
set DE=Player(5)
call SetPlayerAlliance(AE,DE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_SPELLS,true)
set AE=Player(3)
set DE=Player(6)
call SetPlayerAlliance(AE,DE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_SPELLS,true)
set AE=Player(3)
set DE=Player(7)
call SetPlayerAlliance(AE,DE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_SPELLS,true)
set AE=Player(4)
set DE=Player(0)
call SetPlayerAlliance(AE,DE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_SPELLS,true)
set DE=Player(4)
set AE=Player(1)
call SetPlayerAlliance(DE,AE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_SHARED_SPELLS,true)
set DE=Player(4)
set AE=Player(2)
call SetPlayerAlliance(DE,AE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_SHARED_SPELLS,true)
set DE=Player(4)
set AE=Player(3)
call SetPlayerAlliance(DE,AE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_SHARED_SPELLS,true)
set DE=Player(4)
set AE=Player(5)
call SetPlayerAlliance(DE,AE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_SHARED_SPELLS,true)
set AE=Player(4)
set DE=Player(6)
call SetPlayerAlliance(AE,DE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_SPELLS,true)
set DE=Player(4)
set AE=Player(7)
call SetPlayerAlliance(DE,AE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_SHARED_SPELLS,true)
set DE=Player(5)
set AE=Player(0)
call SetPlayerAlliance(DE,AE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_SHARED_SPELLS,true)
set AE=Player(5)
set DE=Player(1)
call SetPlayerAlliance(AE,DE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_SPELLS,true)
set AE=Player(5)
set DE=Player(2)
call SetPlayerAlliance(AE,DE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_SPELLS,true)
set AE=Player(5)
set DE=Player(3)
call SetPlayerAlliance(AE,DE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_SPELLS,true)
set AE=Player(5)
set DE=Player(4)
call SetPlayerAlliance(AE,DE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_SPELLS,true)
set DE=Player(5)
set AE=Player(6)
call SetPlayerAlliance(DE,AE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_SHARED_SPELLS,true)
set DE=Player(5)
set AE=Player(7)
call SetPlayerAlliance(DE,AE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_SHARED_SPELLS,true)
set DE=Player(6)
set AE=Player(0)
call SetPlayerAlliance(DE,AE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_SHARED_SPELLS,true)
set DE=Player(6)
set AE=Player(1)
call SetPlayerAlliance(DE,AE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_SHARED_SPELLS,true)
set DE=Player(6)
set AE=Player(2)
call SetPlayerAlliance(DE,AE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_SHARED_SPELLS,true)
set DE=Player(6)
set AE=Player(3)
call SetPlayerAlliance(DE,AE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_SHARED_SPELLS,true)
set AE=Player(6)
set DE=Player(4)
call SetPlayerAlliance(AE,DE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_SPELLS,true)
set AE=Player(6)
set DE=Player(5)
call SetPlayerAlliance(AE,DE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_SPELLS,true)
set DE=Player(6)
set AE=Player(7)
call SetPlayerAlliance(DE,AE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_SHARED_SPELLS,true)
set AE=Player(7)
set DE=Player(0)
call SetPlayerAlliance(AE,DE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_SPELLS,true)
set AE=Player(7)
set DE=Player(1)
call SetPlayerAlliance(AE,DE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_SPELLS,true)
set AE=Player(7)
set DE=Player(2)
call SetPlayerAlliance(AE,DE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_SPELLS,true)
set AE=Player(7)
set DE=Player(3)
call SetPlayerAlliance(AE,DE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_SPELLS,true)
set AE=Player(7)
set DE=Player(4)
call SetPlayerAlliance(AE,DE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_SPELLS,true)
set DE=Player(7)
set AE=Player(5)
call SetPlayerAlliance(DE,AE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_SHARED_SPELLS,true)
set DE=Player(7)
set AE=Player(6)
call SetPlayerAlliance(DE,AE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_SHARED_SPELLS,true)
call SetPlayerAlliance(Player(0),Player(1),ALLIANCE_SHARED_VISION,true)
call SetPlayerAlliance(Player(0),Player(2),ALLIANCE_SHARED_VISION,true)
call SetPlayerAlliance(Player(0),Player(3),ALLIANCE_SHARED_VISION,true)
call SetPlayerAlliance(Player(0),Player(4),ALLIANCE_SHARED_VISION,true)
call SetPlayerAlliance(Player(0),Player(5),ALLIANCE_SHARED_VISION,true)
call SetPlayerAlliance(Player(0),Player(6),ALLIANCE_SHARED_VISION,true)
call SetPlayerAlliance(Player(0),Player(7),ALLIANCE_SHARED_VISION,true)
call SetPlayerAlliance(Player(1),Player(0),ALLIANCE_SHARED_VISION,true)
call SetPlayerAlliance(Player(1),Player(2),ALLIANCE_SHARED_VISION,true)
call SetPlayerAlliance(Player(1),Player(3),ALLIANCE_SHARED_VISION,true)
call SetPlayerAlliance(Player(1),Player(4),ALLIANCE_SHARED_VISION,true)
call SetPlayerAlliance(Player(1),Player(5),ALLIANCE_SHARED_VISION,true)
call SetPlayerAlliance(Player(1),Player(6),ALLIANCE_SHARED_VISION,true)
call SetPlayerAlliance(Player(1),Player(7),ALLIANCE_SHARED_VISION,true)
call SetPlayerAlliance(Player(2),Player(0),ALLIANCE_SHARED_VISION,true)
call SetPlayerAlliance(Player(2),Player(1),ALLIANCE_SHARED_VISION,true)
call SetPlayerAlliance(Player(2),Player(3),ALLIANCE_SHARED_VISION,true)
call SetPlayerAlliance(Player(2),Player(4),ALLIANCE_SHARED_VISION,true)
call SetPlayerAlliance(Player(2),Player(5),ALLIANCE_SHARED_VISION,true)
call SetPlayerAlliance(Player(2),Player(6),ALLIANCE_SHARED_VISION,true)
call SetPlayerAlliance(Player(2),Player(7),ALLIANCE_SHARED_VISION,true)
call SetPlayerAlliance(Player(3),Player(0),ALLIANCE_SHARED_VISION,true)
call SetPlayerAlliance(Player(3),Player(1),ALLIANCE_SHARED_VISION,true)
call SetPlayerAlliance(Player(3),Player(2),ALLIANCE_SHARED_VISION,true)
call SetPlayerAlliance(Player(3),Player(4),ALLIANCE_SHARED_VISION,true)
call SetPlayerAlliance(Player(3),Player(5),ALLIANCE_SHARED_VISION,true)
call SetPlayerAlliance(Player(3),Player(6),ALLIANCE_SHARED_VISION,true)
call SetPlayerAlliance(Player(3),Player(7),ALLIANCE_SHARED_VISION,true)
call SetPlayerAlliance(Player(4),Player(0),ALLIANCE_SHARED_VISION,true)
call SetPlayerAlliance(Player(4),Player(1),ALLIANCE_SHARED_VISION,true)
call SetPlayerAlliance(Player(4),Player(2),ALLIANCE_SHARED_VISION,true)
call SetPlayerAlliance(Player(4),Player(3),ALLIANCE_SHARED_VISION,true)
call SetPlayerAlliance(Player(4),Player(5),ALLIANCE_SHARED_VISION,true)
call SetPlayerAlliance(Player(4),Player(6),ALLIANCE_SHARED_VISION,true)
call SetPlayerAlliance(Player(4),Player(7),ALLIANCE_SHARED_VISION,true)
call SetPlayerAlliance(Player(5),Player(0),ALLIANCE_SHARED_VISION,true)
call SetPlayerAlliance(Player(5),Player(1),ALLIANCE_SHARED_VISION,true)
call SetPlayerAlliance(Player(5),Player(2),ALLIANCE_SHARED_VISION,true)
call SetPlayerAlliance(Player(5),Player(3),ALLIANCE_SHARED_VISION,true)
call SetPlayerAlliance(Player(5),Player(4),ALLIANCE_SHARED_VISION,true)
call SetPlayerAlliance(Player(5),Player(6),ALLIANCE_SHARED_VISION,true)
call SetPlayerAlliance(Player(5),Player(7),ALLIANCE_SHARED_VISION,true)
call SetPlayerAlliance(Player(6),Player(0),ALLIANCE_SHARED_VISION,true)
call SetPlayerAlliance(Player(6),Player(1),ALLIANCE_SHARED_VISION,true)
call SetPlayerAlliance(Player(6),Player(2),ALLIANCE_SHARED_VISION,true)
call SetPlayerAlliance(Player(6),Player(3),ALLIANCE_SHARED_VISION,true)
call SetPlayerAlliance(Player(6),Player(4),ALLIANCE_SHARED_VISION,true)
call SetPlayerAlliance(Player(6),Player(5),ALLIANCE_SHARED_VISION,true)
call SetPlayerAlliance(Player(6),Player(7),ALLIANCE_SHARED_VISION,true)
call SetPlayerAlliance(Player(7),Player(0),ALLIANCE_SHARED_VISION,true)
call SetPlayerAlliance(Player(7),Player(1),ALLIANCE_SHARED_VISION,true)
call SetPlayerAlliance(Player(7),Player(2),ALLIANCE_SHARED_VISION,true)
call SetPlayerAlliance(Player(7),Player(3),ALLIANCE_SHARED_VISION,true)
call SetPlayerAlliance(Player(7),Player(4),ALLIANCE_SHARED_VISION,true)
call SetPlayerAlliance(Player(7),Player(5),ALLIANCE_SHARED_VISION,true)
call SetPlayerAlliance(Player(7),Player(6),ALLIANCE_SHARED_VISION,true)
call SetPlayerTeam(Player(8),1)
call SetPlayerState(Player(8),PLAYER_STATE_ALLIED_VICTORY,1)
call SetPlayerTeam(Player(9),1)
call SetPlayerState(Player(9),PLAYER_STATE_ALLIED_VICTORY,1)
call SetPlayerTeam(Player(10),1)
call SetPlayerState(Player(10),PLAYER_STATE_ALLIED_VICTORY,1)
call SetPlayerTeam(Player(11),1)
call SetPlayerState(Player(11),PLAYER_STATE_ALLIED_VICTORY,1)
set DE=Player(8)
set AE=Player(9)
call SetPlayerAlliance(DE,AE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_SHARED_SPELLS,true)
set AE=Player(8)
set DE=Player(10)
call SetPlayerAlliance(AE,DE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_SPELLS,true)
set DE=Player(8)
set AE=Player(11)
call SetPlayerAlliance(DE,AE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_SHARED_SPELLS,true)
set DE=Player(9)
set AE=Player(8)
call SetPlayerAlliance(DE,AE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_SHARED_SPELLS,true)
set AE=Player(9)
set DE=Player(10)
call SetPlayerAlliance(AE,DE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_SPELLS,true)
set AE=Player(9)
set DE=Player(11)
call SetPlayerAlliance(AE,DE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_SPELLS,true)
set AE=Player(10)
set DE=Player(8)
call SetPlayerAlliance(AE,DE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_SPELLS,true)
set AE=Player(10)
set DE=Player(9)
call SetPlayerAlliance(AE,DE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_SPELLS,true)
set DE=Player(10)
set AE=Player(11)
call SetPlayerAlliance(DE,AE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_SHARED_SPELLS,true)
set DE=Player(11)
set AE=Player(8)
call SetPlayerAlliance(DE,AE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(DE,AE,ALLIANCE_SHARED_SPELLS,true)
set AE=Player(11)
set DE=Player(9)
call SetPlayerAlliance(AE,DE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_SPELLS,true)
set AE=Player(11)
set DE=Player(10)
call SetPlayerAlliance(AE,DE,ALLIANCE_PASSIVE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_REQUEST,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_HELP_RESPONSE,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_XP,true)
call SetPlayerAlliance(AE,DE,ALLIANCE_SHARED_SPELLS,true)
call SetStartLocPrioCount(0,11)
call SetStartLocPrio(0,0,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0,1,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0,2,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0,3,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0,4,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0,5,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0,6,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0,7,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0,8,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0,9,10,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0,10,11,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(1,11)
call SetStartLocPrio(1,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1,1,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1,2,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1,3,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1,4,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1,5,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1,6,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1,7,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1,8,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1,9,10,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1,10,11,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(2,11)
call SetStartLocPrio(2,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,1,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,2,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,3,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,4,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,5,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,6,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,7,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,8,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,9,10,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,10,11,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(3,11)
call SetStartLocPrio(3,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,1,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,2,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,3,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,4,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,5,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,6,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,7,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,8,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,9,10,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,10,11,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(4,11)
call SetStartLocPrio(4,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4,1,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4,2,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4,3,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4,4,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4,5,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4,6,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4,7,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4,8,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4,9,10,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4,10,11,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(5,11)
call SetStartLocPrio(5,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,1,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,2,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,3,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,4,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,5,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,6,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,7,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,8,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,9,10,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,10,11,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(6,11)
call SetStartLocPrio(6,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6,1,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6,2,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6,3,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6,4,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6,5,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6,6,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6,7,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6,8,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6,9,10,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6,10,11,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(7,11)
call SetStartLocPrio(7,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7,1,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7,2,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7,3,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7,4,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7,5,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7,6,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7,7,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7,8,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7,9,10,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7,10,11,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(8,11)
call SetStartLocPrio(8,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(8,1,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(8,2,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(8,3,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(8,4,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(8,5,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(8,6,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(8,7,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(8,8,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(8,9,10,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(8,10,11,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(9,11)
call SetStartLocPrio(9,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(9,1,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(9,2,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(9,3,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(9,4,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(9,5,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(9,6,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(9,7,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(9,8,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(9,9,10,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(9,10,11,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(10,11)
call SetStartLocPrio(10,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(10,1,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(10,2,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(10,3,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(10,4,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(10,5,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(10,6,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(10,7,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(10,8,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(10,9,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(10,10,11,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(11,11)
call SetStartLocPrio(11,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(11,1,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(11,2,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(11,3,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(11,4,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(11,5,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(11,6,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(11,7,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(11,8,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(11,9,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(11,10,10,MAP_LOC_PRIO_HIGH)
set AE=null
set DE=null
endfunction
